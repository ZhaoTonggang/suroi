var Jo=Object.defineProperty;var Qo=(o,t,i)=>t in o?Jo(o,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[t]=i;var c=(o,t,i)=>Qo(o,typeof t!="symbol"?t+"":t,i);import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as er,b as tr}from"./client-C7Xh_emp.js";import{O as ze,I as z,c as uo,d as Ma,F as Z,V as e,i as ir,m as ar,A as Ct,T as Ta,a as Ti,S as lt,b as St,e as se,K as ne,f as Ce,g as Zt,R as a,h as Ke,N as U,j as Pi,k as or,L as De,M as ce,Z as k,l as j,G as T,n as ye,C as f,r as Kt,o as rr,p as Y,q as Je,s as Xt,τ as ki,t as Ne,D as Gt,u as $,v as st,w as be,H as ct,x as dt,y as Mt,z as li,E as go,J as nr,P as Q,Q as Pa,U as We,W as ii,X as Ga,Y as ut,_ as sr,$ as Ye,a0 as qe,a1 as K,a2 as he,a3 as lr,a4 as Ee,a5 as cr,a6 as _o,a7 as Tt,a8 as jt,a9 as dr,aa as sa,ab as Qi,ac as pr,ad as fo,ae as la,af as ue,ag as mr,ah as yi,ai as hr,aj as Ri,ak as ur,al as gr,am as rt,an as _r,ao as fr,ap as Na,aq as ca,ar as ai,as as oi,at as br}from"./constants-Ge9im_Q3.js";import{L as Ui,$ as _,M as ja,N as Ca,R as wr,V as yr,O as bo,P as At,_ as g,Q as Sr,T as vr,U as xr,W as da,X as $e,C as Ue,Y as kr,Z as Da,a0 as Rr,K as vt,a1 as Ir,a2 as Mr,a3 as Tr,a4 as Pr,a5 as Cr}from"./vendor-CeA792Xf.js";import{n as Dr}from"./newsPosts-BR7FZS2b.js";var Ci=(o=>(o[o.Helmet=0]="Helmet",o[o.Vest=1]="Vest",o))(Ci||{});const si=ze.withDefault()("Armors",{itemType:z.Armor,noDrop:!1},([o])=>{const t=o(s=>({idString:`${s.toLowerCase()}_vest`,name:`${s} Vest`,armorType:1,color:0})),i=o(s=>({idString:`${s.toLowerCase()}_helmet`,name:`${s} Helmet`,armorType:0}));return[i(["Basic"],{level:1,damageReduction:.1}),i(["Regular"],{level:2,damageReduction:.15}),i(["Tactical"],{level:3,damageReduction:.2}),t(["Basic"],{level:1,damageReduction:.2,color:13158598}),t(["Regular"],{level:2,damageReduction:.35,color:4214062}),t(["Tactical"],{level:3,damageReduction:.45,color:855309}),t(["Developr"],{level:99,damageReduction:.72,color:3080192,noDrop:!0})]}),Ie=uo()((o,t=[])=>({idString:`bdg_${o.toLowerCase().replace(/ /g,"_")}`,name:o,roles:t})),xt=ze.create("Badges",[Ie(["Developr",["developr","pap","error","limenade"]]),Ie(["Dev Managr",["solstice"]]),Ie(["Designr",["designr"]]),Ie(["Lead Designr",["lead_designr"]]),Ie(["VIP Designr",["vip_designr"]]),Ie(["Composr",["composr"]]),Ie(["Lead Composr",["lead_composr"]]),Ie(["Moderatr",["moderatr"]]),Ie(["Administratr",["administratr","error"]]),Ie(["Youtubr",["youtubr"]]),Ie(["Boostr",["boostr"]]),Ie(["Ownr",["hasanger"]]),Ie(["Bleh"]),Ie(["Froog"]),Ie(["AEGIS Logo"]),Ie(["Flint Logo"]),Ie(["Duel"]),Ie(["Suroi Logo"]),Ie(["Fire"]),Ie(["Colon Three"]),Ie(["Suroi General Chat"])]);var wo=(o=>(o[o.People=0]="People",o[o.Text=1]="Text",o[o.Memes=2]="Memes",o[o.Icons=3]="Icons",o[o.Misc=4]="Misc",o[o.TeamEmote=5]="TeamEmote",o))(wo||{});const ri=uo()((o,t)=>({idString:o.toLowerCase().replace(/ /g,"_"),name:o,category:t})),Et=ze.create("Emotes",[...["Happy Face","Sad Face","Thumbs Up","Thumbs Down","Wave","Disappointed Face","Sobbing Face","Angry Face","Heart Face","Joyful Face","Cool Face","Upside Down Face","Picasso Face","Alien","Headshot","Dab","Devil Face","Bandaged Face","Cold Face","Thinking Face","Nervous Face","Sweating Face","Greedy Face","Creepy Clown","Lying Face","Skull","Melting Face","Grimacing Face","Vomiting Face","Screaming Face","Pleading Face","Sad Smiling Face","Triumphant Face","Questioning Face","Smirking Face","Blushing Face","Saluting Face","Neutral Face","Relieved Face","Monocle Face","Partying Face","Shushing Face","Zipper Mouth Face","Sighing Face","Frustrated Face"].map(o=>ri([o,0])),...["Suroi Logo","AEGIS Logo","Flint Logo","Duel","Chicken Dinner","Trophy"].map(o=>ri([o,3])),...["Troll Face","Clueless","Pog","Froog","Bleh","Muller","Suroi General Chat","Fire","RIP","Leosmug","Socks","Archimedes","awhhmahgawd","Boykisser"].map(o=>ri([o,2])),...["Question Mark","Team = Ban","Hack = Ban","gg","ez","Hi5","oof","real","fake","Colon Three"].map(o=>ri([o,1])),...["Monkey","Carrot","Tomato","Egg","Squid","Penguin"].map(o=>ri([o,4]))]),oe={automatic:{amount:2,spread:30,minSize:.2,maxSize:.3,minLife:1e3,maxLife:2e3,minSpeed:5,maxSpeed:15},shotgun:{amount:12,spread:60,minSize:.3,maxSize:.5,minLife:2e3,maxLife:5e3,minSpeed:5,maxSpeed:10},pistol:{amount:2,spread:60,minSize:.2,maxSize:.3,minLife:1e3,maxLife:2e3,minSpeed:5,maxSpeed:15},rifle:{amount:3,spread:30,minSize:.3,maxSize:.5,minLife:1e3,maxLife:3e3,minSpeed:7,maxSpeed:14}},Ar={itemType:z.Gun,noDrop:!1,ammoSpawnAmount:0,speedMultiplier:.92,infiniteAmmo:!1,jitterRadius:0,consistentPatterning:!1,noQuickswitch:!1,bulletCount:1,killstreak:!1,shootOnRelease:!1,summonAirdrop:!1,fists:{leftZIndex:1,rightZIndex:1},casingParticles:[],image:{angle:0,zIndex:2},isDual:!1,noMuzzleFlash:!1,ballistics:Ma},Di=ze.withDefault()("Guns",Ar,()=>[{idString:"g19",name:"G19",ammoType:"9mm",ammoSpawnAmount:60,fireDelay:110,switchDelay:250,recoilMultiplier:.8,recoilDuration:90,fireMode:Z.Single,shotSpread:5,moveSpread:10,length:4.7,fists:{left:e.create(40,0),right:e.create(40,0),leftZIndex:4,rightZIndex:4,animationDuration:100},image:{position:e.create(65,0)},casingParticles:[{position:e.create(3.5,.5),velocity:{y:{min:2,max:18}}}],gasParticles:oe.pistol,capacity:15,extendedCapacity:24,reloadTime:1.5,ballistics:{damage:13,obstacleMultiplier:1,speed:.16,range:120},dual:{leftRightOffset:1.3,fireDelay:75,shotSpread:7,moveSpread:15,capacity:30,extendedCapacity:48,reloadTime:2.9}},{idString:"cz75a",name:"CZ-75A",ammoType:"9mm",ammoSpawnAmount:64,fireDelay:60,switchDelay:250,recoilMultiplier:.8,recoilDuration:90,fireMode:Z.Auto,shotSpread:8,moveSpread:14,length:5.12,fists:{left:e.create(40,0),right:e.create(40,0),leftZIndex:4,rightZIndex:4,animationDuration:100},image:{position:e.create(70,-1)},casingParticles:[{position:e.create(3.5,.45),velocity:{y:{min:2,max:18}}}],gasParticles:oe.pistol,capacity:16,extendedCapacity:26,reloadTime:1.9,ballistics:{damage:9,obstacleMultiplier:1,speed:.16,range:70},dual:{leftRightOffset:1.3,fireDelay:30,shotSpread:14,moveSpread:25,capacity:32,extendedCapacity:52,reloadTime:3.7}},{idString:"m1895",name:"M1895",ammoType:"762mm",ammoSpawnAmount:28,fireDelay:375,switchDelay:250,recoilMultiplier:.75,recoilDuration:135,fireMode:Z.Single,shotSpread:2,moveSpread:5,length:5.1,fists:{left:e.create(40,0),right:e.create(40,0),leftZIndex:4,rightZIndex:4,animationDuration:100},image:{position:e.create(70,0)},casingParticles:[{frame:"casing_762x38mmR",position:e.create(3.5,.5),count:7,velocity:{x:{min:-8,max:-2},y:{min:2,max:9,randomSign:!0}},on:"reload"}],gasParticles:oe.pistol,capacity:7,reloadTime:2.1,ballistics:{damage:24.5,obstacleMultiplier:1.5,speed:.26,range:160},dual:{leftRightOffset:1.3,fireDelay:187.5,shotSpread:3,moveSpread:6,capacity:14,reloadTime:4}},{idString:"deagle",name:"DEagle",ammoType:"50cal",ammoSpawnAmount:42,fireDelay:200,switchDelay:250,recoilMultiplier:.65,recoilDuration:150,fireMode:Z.Single,shotSpread:3,moveSpread:7,length:4.9,fists:{left:e.create(40,0),right:e.create(40,0),leftZIndex:4,rightZIndex:4,animationDuration:100},image:{position:e.create(65,0)},casingParticles:[{frame:"casing_50ae",position:e.create(3.5,.3),velocity:{y:{min:2,max:18}}}],gasParticles:oe.pistol,capacity:7,extendedCapacity:9,reloadTime:2.3,ballistics:{damage:37,obstacleMultiplier:1.25,speed:.22,range:130,tracer:{color:14862608,saturatedColor:16760576}},dual:{ammoSpawnAmount:84,leftRightOffset:1.4,fireDelay:115,shotSpread:5,moveSpread:9.5,capacity:14,extendedCapacity:18,reloadTime:3.8}},{idString:"rsh12",name:"RSh-12",ammoType:"50cal",ammoSpawnAmount:30,fireDelay:400,switchDelay:250,recoilMultiplier:.8,recoilDuration:600,fsaReset:600,fireMode:Z.Single,shotSpread:4,moveSpread:8,length:6.2,noMuzzleFlash:!0,fists:{left:e.create(40,0),right:e.create(40,0),leftZIndex:4,rightZIndex:4,animationDuration:100},casingParticles:[{position:e.create(3.5,.3),frame:"casing_127x55mm",on:"reload",count:5,velocity:{x:{min:-8,max:-2},y:{min:2,max:9,randomSign:!0}}}],image:{position:e.create(80,0)},gasParticles:oe.pistol,capacity:5,reloadTime:2.4,ballistics:{damage:60,obstacleMultiplier:1,speed:.3,range:120,tracer:{opacity:.8,width:1.1}},dual:{leftRightOffset:1.3,ammoSpawnAmount:60,fireDelay:200,shotSpread:7,moveSpread:11,capacity:10,reloadTime:4.2}},{idString:"saf200",name:"SAF-200",ammoType:"9mm",ammoSpawnAmount:90,capacity:30,extendedCapacity:42,reloadTime:1.8,fireDelay:75,burstProperties:{shotsPerBurst:3,burstCooldown:325},switchDelay:300,recoilMultiplier:.75,recoilDuration:300,fireMode:Z.Burst,shotSpread:3,moveSpread:4,length:5.95,fists:{left:e.create(95,-3),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(71,0)},casingParticles:[{position:e.create(4,.35)}],gasParticles:oe.automatic,ballistics:{damage:15.5,obstacleMultiplier:1,speed:.25,range:130}},{idString:"micro_uzi",name:"Micro Uzi",ammoType:"9mm",ammoSpawnAmount:96,capacity:32,extendedCapacity:50,reloadTime:1.75,fireDelay:40,switchDelay:300,recoilMultiplier:.75,recoilDuration:60,fireMode:Z.Auto,shotSpread:9,moveSpread:19,length:5.8,fists:{left:e.create(85,-6),right:e.create(40,0),rightZIndex:4,animationDuration:100},casingParticles:[{position:e.create(3.5,.4)}],gasParticles:oe.automatic,image:{position:e.create(80,0)},ballistics:{damage:7.75,obstacleMultiplier:1,speed:.16,range:85}},{idString:"mp40",name:"MP40",ammoType:"9mm",ammoSpawnAmount:96,capacity:32,extendedCapacity:40,reloadTime:2.1,fireDelay:90,switchDelay:300,recoilMultiplier:.75,recoilDuration:150,fireMode:Z.Auto,shotSpread:2,moveSpread:4,length:6.6,fists:{left:e.create(103,-2),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(76,-3)},casingParticles:[{position:e.create(4,.4)}],gasParticles:oe.automatic,ballistics:{damage:11,obstacleMultiplier:1,speed:.25,range:130}},{idString:"vector",name:"Vector",ammoType:"9mm",ammoSpawnAmount:99,capacity:33,extendedCapacity:50,reloadTime:1.7,fireDelay:40,switchDelay:300,recoilMultiplier:.75,recoilDuration:60,fireMode:Z.Auto,shotSpread:2,moveSpread:7,length:7.2,fists:{left:e.create(85,-6),right:e.create(40,0),rightZIndex:4,animationDuration:100},casingParticles:[{position:e.create(4.7,.3)}],gasParticles:oe.automatic,image:{position:e.create(80,0)},ballistics:{damage:10,obstacleMultiplier:1,speed:.27,range:100}},{idString:"pp19",name:"PP-19 Vityaz",ammoType:"9mm",ammoSpawnAmount:90,capacity:30,extendedCapacity:45,reloadTime:2.3,fireDelay:50,switchDelay:300,recoilMultiplier:.75,recoilDuration:150,fireMode:Z.Auto,shotSpread:3,moveSpread:6.75,length:7,noMuzzleFlash:!0,fists:{left:e.create(88,-5),right:e.create(40,0),rightZIndex:4,animationDuration:100},casingParticles:[{position:e.create(3.5,.35)}],image:{position:e.create(80,0)},ballistics:{damage:10.5,obstacleMultiplier:1,speed:.25,range:160,tracer:{opacity:.5}}},{idString:"ak47",name:"AK-47",ammoType:"762mm",ammoSpawnAmount:90,capacity:30,extendedCapacity:40,reloadTime:2.5,fireDelay:100,switchDelay:400,recoilMultiplier:.75,recoilDuration:150,fireMode:Z.Auto,shotSpread:2,moveSpread:6,length:7.55,fists:{left:e.create(120,-2),right:e.create(45,0),rightZIndex:4,animationDuration:100},image:{position:e.create(90,2)},casingParticles:[{frame:"casing_762x39mm",position:e.create(4,.4)}],gasParticles:oe.automatic,ballistics:{damage:14,obstacleMultiplier:1.5,speed:.26,range:160}},{idString:"mcx_spear",name:"MCX Spear",ammoType:"762mm",ammoSpawnAmount:80,capacity:20,extendedCapacity:30,reloadTime:2.75,fireDelay:87.5,switchDelay:400,recoilMultiplier:.75,recoilDuration:130,fireMode:Z.Auto,shotSpread:2,moveSpread:4,length:7.7,fists:{left:e.create(105,-6),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(80,0)},casingParticles:[{position:e.create(5,.4)}],gasParticles:oe.automatic,ballistics:{damage:16,obstacleMultiplier:1.5,speed:.3,range:180,tracer:{length:1.4}}},{idString:"m16a4",name:"M16A4",ammoType:"556mm",ammoSpawnAmount:80,capacity:20,extendedCapacity:30,reloadTime:2.2,fireDelay:75,burstProperties:{shotsPerBurst:3,burstCooldown:325},switchDelay:400,recoilMultiplier:.75,recoilDuration:350,fireMode:Z.Burst,shotSpread:2,moveSpread:4,length:8.68,fists:{left:e.create(120,-3),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(100,0)},casingParticles:[{position:e.create(4,.4)}],gasParticles:oe.automatic,ballistics:{damage:19,obstacleMultiplier:1.5,speed:.3,range:180}},{idString:"aug",name:"AUG",ammoType:"556mm",ammoSpawnAmount:90,fireDelay:70,switchDelay:400,recoilMultiplier:.75,recoilDuration:120,fireMode:Z.Auto,shotSpread:4,moveSpread:11,length:6.73,fists:{left:e.create(105,-2),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(75,-4)},casingParticles:[{position:e.create(2.5,.4)}],gasParticles:oe.automatic,capacity:30,extendedCapacity:42,reloadTime:2.25,ballistics:{damage:10.5,obstacleMultiplier:1.5,speed:.28,range:160}},{idString:"arx160",name:"ARX-160",ammoType:"762mm",ammoSpawnAmount:90,capacity:30,extendedCapacity:40,reloadTime:2.75,fireDelay:75,switchDelay:400,recoilMultiplier:.75,recoilDuration:145,fireMode:Z.Auto,shotSpread:5,moveSpread:10,length:6.6,fists:{left:e.create(98,-2),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(70,0)},casingParticles:[{frame:"casing_762x39mm",position:e.create(4,.4)}],gasParticles:oe.automatic,ballistics:{damage:12.25,obstacleMultiplier:1.5,speed:.26,range:160}},{idString:"acr",name:"ACR",ammoType:"556mm",ammoSpawnAmount:90,fireDelay:72.5,switchDelay:400,recoilMultiplier:.75,recoilDuration:130,fireMode:Z.Auto,shotSpread:2,moveSpread:7,noMuzzleFlash:!0,length:6.45,fists:{left:e.create(95,-2),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(75,-1)},casingParticles:[{position:e.create(4,.4)}],capacity:30,extendedCapacity:45,reloadTime:3,ballistics:{damage:14.5,obstacleMultiplier:1.5,speed:.3,range:160,tracer:{opacity:.5}}},{idString:"lewis_gun",name:"Lewis Gun",ammoType:"762mm",ammoSpawnAmount:94,capacity:47,extendedCapacity:97,reloadTime:3.4,fireDelay:120,switchDelay:400,speedMultiplier:.8,recoilMultiplier:.65,recoilDuration:200,fireMode:Z.Auto,shotSpread:2,moveSpread:9,length:11.8,fists:{left:e.create(140,-10),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(120,0)},casingParticles:[{frame:"casing_30-06",position:e.create(4.7,1.6)}],gasParticles:oe.automatic,ballistics:{damage:16,obstacleMultiplier:2.5,speed:.3,range:180,tracer:{width:1.1,length:1.4}}},{idString:"stoner_63",name:"Stoner 63",ammoType:"556mm",ammoSpawnAmount:150,capacity:75,extendedCapacity:125,reloadTime:3.8,fireDelay:90,switchDelay:400,speedMultiplier:.9,recoilMultiplier:.7,recoilDuration:175,fireMode:Z.Auto,shotSpread:3,moveSpread:4.5,length:7.7,fists:{left:e.create(105,-3),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(90,0)},casingParticles:[{position:e.create(4,-.6),velocity:{y:{min:-15,max:-10}}},{position:e.create(4.2,-.6),frame:"m13_link",velocity:{x:{min:-6,max:8},y:{min:-25,max:-10}}}],gasParticles:oe.automatic,ballistics:{damage:14.25,obstacleMultiplier:2,speed:.28,range:180,tracer:{width:1.1,length:1.4}}},{idString:"mg5",name:"MG5",ammoType:"762mm",ammoSpawnAmount:240,capacity:120,extendedCapacity:160,reloadTime:5.2,fireDelay:95,switchDelay:400,speedMultiplier:.8,recoilMultiplier:.65,recoilDuration:200,fireMode:Z.Auto,shotSpread:2,moveSpread:4.5,length:8.45,fists:{left:e.create(105,-3),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(90,0)},casingParticles:[{position:e.create(4,.6)},{position:e.create(4.2,.6),frame:"m13_link",velocity:{x:{min:-6,max:8},y:{min:10,max:25}}}],gasParticles:oe.automatic,ballistics:{damage:16.5,obstacleMultiplier:1.5,speed:.26,range:180,tracer:{width:1.1,length:1.4}}},{idString:"negev",name:"Negev",ammoType:"556mm",ammoSpawnAmount:200,capacity:200,extendedCapacity:250,reloadTime:5.8,fireDelay:70,switchDelay:400,speedMultiplier:.8,recoilMultiplier:.65,recoilDuration:200,fireMode:Z.Auto,shotSpread:3,moveSpread:8,length:8.1,fists:{left:e.create(121,-18),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(90,-2)},casingParticles:[{position:e.create(4.2,.6)},{position:e.create(4.4,.6),frame:"m13_link",velocity:{x:{min:-6,max:8},y:{min:10,max:25}}}],gasParticles:oe.automatic,ballistics:{damage:12.5,obstacleMultiplier:1.5,speed:.28,range:180,tracer:{width:1.1,length:1.4}}},{idString:"mg36",name:"MG36",ammoType:"556mm",ammoSpawnAmount:100,capacity:50,extendedCapacity:100,reloadTime:2.75,fireDelay:75,switchDelay:400,recoilMultiplier:.75,recoilDuration:140,fireMode:Z.Auto,shotSpread:3.5,moveSpread:8,length:7.53,fists:{left:e.create(95,-4),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(67,0)},casingParticles:[{position:e.create(4,.45)}],gasParticles:oe.automatic,ballistics:{damage:11,obstacleMultiplier:2,speed:.28,range:160}},{idString:"m3k",name:"M3K",ammoType:"12g",ammoSpawnAmount:18,capacity:9,extendedCapacity:12,reloadTime:.55,fireDelay:700,switchDelay:700,recoilMultiplier:.5,recoilDuration:500,fireMode:Z.Single,shotSpread:5,moveSpread:7,jitterRadius:.5,bulletCount:9,length:7.75,fists:{left:e.create(105,-3),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(90,5)},casingParticles:[{position:e.create(4,.6)}],gasParticles:oe.shotgun,shotsPerReload:1,ballistics:{damage:9,obstacleMultiplier:1,speed:.2,range:80}},{idString:"model_37",name:"Model 37",ammoType:"12g",ammoSpawnAmount:15,capacity:5,extendedCapacity:8,reloadTime:.75,fireDelay:900,switchDelay:900,recoilMultiplier:.5,recoilDuration:550,fireMode:Z.Single,shotSpread:11,moveSpread:14,jitterRadius:1.25,bulletCount:10,length:7.85,fists:{left:e.create(122,-3),right:e.create(45,0),rightZIndex:4,animationDuration:100},image:{position:e.create(95,0)},casingParticles:[{position:e.create(4.5,.6),ejectionDelay:450,velocity:{y:{min:2,max:5,randomSign:!0}}}],gasParticles:oe.shotgun,shotsPerReload:1,ballistics:{damage:10,obstacleMultiplier:1,speed:.16,range:48,tracer:{length:.7}}},{idString:"hp18",name:"HP-18",ammoType:"12g",ammoSpawnAmount:15,capacity:5,extendedCapacity:8,reloadTime:.725,shotsPerReload:1,fireDelay:300,switchDelay:400,recoilMultiplier:.6,recoilDuration:600,fireMode:Z.Single,bulletCount:18,shotSpread:18,moveSpread:22,jitterRadius:1.75,length:8,fists:{left:e.create(120,-1),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(100,0)},casingParticles:[{position:e.create(4,.6)}],gasParticles:oe.shotgun,ballistics:{damage:4,obstacleMultiplier:.5,speed:.12,range:40,tracer:{length:.5}}},{idString:"flues",name:"Flues",ammoType:"12g",ammoSpawnAmount:10,capacity:2,reloadTime:2.6,fireDelay:250,switchDelay:250,recoilMultiplier:.5,recoilDuration:550,fireMode:Z.Single,bulletCount:10,shotSpread:11,moveSpread:14,jitterRadius:1.5,length:6,fists:{left:e.create(95,-2),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(75,0)},casingParticles:[{position:e.create(4,.6),count:2,velocity:{y:{min:8,max:15,randomSign:!0}},on:"reload"}],gasParticles:oe.shotgun,ballistics:{damage:10,obstacleMultiplier:1,speed:.16,range:48,tracer:{length:.5}}},{idString:"usas12",name:"USAS-12",ammoType:"12g",ammoSpawnAmount:30,capacity:10,extendedCapacity:20,reloadTime:3,fireDelay:525,switchDelay:400,recoilMultiplier:.6,recoilDuration:525,fireMode:Z.Auto,shotSpread:2,moveSpread:5,length:7.7,fists:{left:e.create(115,-1),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(90,-3.5)},casingParticles:[{frame:"casing_12ga_he",position:e.create(4.5,.6)}],ballistics:{damage:10,obstacleMultiplier:1,speed:.22,range:60,onHitExplosion:"usas_explosion",explodeOnImpact:!0,allowRangeOverride:!0,tracer:{length:.5,color:16711680,saturatedColor:16079933}}},{idString:"vepr12",name:"Vepr-12",ammoType:"12g",ammoSpawnAmount:20,capacity:5,extendedCapacity:10,reloadTime:2.4,fireDelay:400,switchDelay:650,recoilMultiplier:.7,recoilDuration:550,fireMode:Z.Auto,shotSpread:11,moveSpread:14,jitterRadius:1.25,length:7.1,bulletCount:10,fists:{left:e.create(98,-2),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(81,2)},casingParticles:[{position:e.create(4.3,.6)}],gasParticles:oe.shotgun,ballistics:{damage:10,obstacleMultiplier:1,speed:.16,range:48,tracer:{length:.5}}},{idString:"dt11",name:"DT-11",ammoType:"12g",ammoSpawnAmount:10,capacity:2,reloadTime:2.3,fireDelay:300,switchDelay:500,recoilMultiplier:.6,recoilDuration:400,fireMode:Z.Single,shotSpread:5,moveSpread:7,length:7.45,jitterRadius:.5,bulletCount:9,fists:{left:e.create(87,-3),right:e.create(45,0),rightZIndex:4,animationDuration:100},image:{position:e.create(85,0)},casingParticles:[{position:e.create(4.5,.6),count:2,velocity:{y:{min:8,max:12,randomSign:!0}},on:"reload"}],gasParticles:oe.shotgun,ballistics:{damage:9,obstacleMultiplier:1,speed:.2,range:80}},{idString:"m590m",name:"M590M",ammoType:"12g",ammoSpawnAmount:15,capacity:5,extendedCapacity:10,reloadTime:2.8,fireDelay:900,switchDelay:900,recoilMultiplier:.5,recoilDuration:500,fireMode:Z.Single,shotSpread:2,moveSpread:5,length:7.85,fists:{left:e.create(114,-3),right:e.create(45,0),rightZIndex:4,animationDuration:100},image:{position:e.create(90,0)},casingParticles:[{position:e.create(4.5,.6),ejectionDelay:400,frame:"casing_12ga_he"}],gasParticles:oe.shotgun,ballistics:{damage:10,obstacleMultiplier:1,speed:.22,range:60,onHitExplosion:"m590m_explosion",explodeOnImpact:!0,allowRangeOverride:!0,tracer:{length:.5,color:16711680,saturatedColor:16079933}}},{idString:"mosin_nagant",name:"Mosin-Nagant",ammoType:"762mm",ammoSpawnAmount:20,capacity:5,reloadTime:.85,shotsPerReload:1,reloadFullOnEmpty:!0,fullReloadTime:2.9,fireDelay:900,switchDelay:900,recoilMultiplier:.45,recoilDuration:750,fireMode:Z.Single,shotSpread:1,moveSpread:2,length:8.65,shootOnRelease:!0,fists:{left:e.create(115,-4),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(90,6.5)},casingParticles:[{frame:"casing_762x54mmR",position:e.create(4,.6),ejectionDelay:700}],gasParticles:oe.rifle,ballistics:{damage:70,obstacleMultiplier:1,speed:.33,range:250,tracer:{width:1.4,length:2.5}}},{idString:"tango_51",name:"Tango 51",ammoType:"762mm",ammoSpawnAmount:20,capacity:5,extendedCapacity:10,reloadTime:2.6,fireDelay:900,switchDelay:900,recoilMultiplier:.4,recoilDuration:1e3,fireMode:Z.Single,shotSpread:.3,moveSpread:.6,length:8.93,shootOnRelease:!0,fists:{left:e.create(106,-1),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(90,5)},casingParticles:[{position:e.create(4,.6),ejectionDelay:450}],gasParticles:oe.rifle,ballistics:{damage:79,obstacleMultiplier:1,speed:.4,range:280,tracer:{width:1.6,length:3.5}}},{idString:"cz600",name:"CZ-600",ammoType:"556mm",ammoSpawnAmount:20,capacity:5,extendedCapacity:10,reloadTime:2.2,fireDelay:600,switchDelay:600,recoilMultiplier:.6,recoilDuration:750,fireMode:Z.Single,shotSpread:.75,moveSpread:1.25,length:8.33,shootOnRelease:!0,fists:{left:e.create(115,-4),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(95,3.5)},casingParticles:[{position:e.create(5,.4),ejectionDelay:250}],gasParticles:oe.rifle,ballistics:{damage:55,obstacleMultiplier:1,speed:.3,range:250,tracer:{width:1.3,length:2.4}}},{idString:"l115a1",name:"L115A1",ammoType:"338lap",ammoSpawnAmount:12,fireDelay:1500,switchDelay:900,recoilMultiplier:.4,recoilDuration:1600,fireMode:Z.Single,shotSpread:.2,moveSpread:.4,shootOnRelease:!0,length:10.8,casingParticles:[{position:e.create(5,.2),ejectionDelay:500}],fists:{left:e.create(120,0),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(120,4)},gasParticles:oe.rifle,capacity:3,extendedCapacity:5,reloadTime:3.8,ballistics:{damage:150,obstacleMultiplier:1,speed:.5,tracer:{width:2.5,length:4},range:300}},{idString:"vks",name:"VKS Vykhlop",ammoType:"50cal",ammoSpawnAmount:25,fireDelay:800,switchDelay:900,recoilMultiplier:.6,recoilDuration:1e3,fireMode:Z.Single,shotSpread:1,moveSpread:3,length:8.7,fists:{left:e.create(90,3),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(90,2)},casingParticles:[{position:e.create(3.5,.3),ejectionDelay:400}],gasParticles:oe.rifle,noMuzzleFlash:!0,capacity:5,extendedCapacity:10,reloadTime:3.2,ballistics:{damage:95,obstacleMultiplier:1,speed:.27,range:180,tracer:{width:1.2}}},{idString:"vss",name:"VSS Vintorez",ammoType:"9mm",ammoSpawnAmount:60,capacity:20,extendedCapacity:30,reloadTime:2.15,fireDelay:140,switchDelay:400,recoilMultiplier:.7,recoilDuration:140,fireMode:Z.Single,shotSpread:2,moveSpread:3.5,length:6.9,fists:{left:e.create(110,-2),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(80,0)},casingParticles:[{frame:"casing_9x39mm",position:e.create(4,.5)}],noMuzzleFlash:!0,ballistics:{damage:22,obstacleMultiplier:1.5,speed:.22,range:160,tracer:{opacity:.5,length:1.5}}},{idString:"sr25",name:"SR-25",ammoType:"762mm",ammoSpawnAmount:80,capacity:20,extendedCapacity:30,reloadTime:2.5,fireDelay:190,switchDelay:400,recoilMultiplier:.7,recoilDuration:190,fireMode:Z.Single,shotSpread:1,moveSpread:3.5,length:7.2,fists:{left:e.create(110,0),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(80,0)},casingParticles:[{position:e.create(4.2,.4)}],gasParticles:oe.rifle,ballistics:{damage:33,obstacleMultiplier:1.5,speed:.3,range:230,tracer:{length:1.5}}},{idString:"mini14",name:"Mini-14",ammoType:"556mm",ammoSpawnAmount:80,capacity:20,extendedCapacity:30,reloadTime:2.4,fireDelay:155,switchDelay:400,recoilMultiplier:.8,recoilDuration:155,fireMode:Z.Single,shotSpread:2,moveSpread:5,length:7.4,fists:{left:e.create(96,-2),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(85,0)},casingParticles:[{position:e.create(5,.5),velocity:{y:{min:4,max:15}}}],gasParticles:oe.rifle,ballistics:{damage:25.5,obstacleMultiplier:1.5,speed:.3,range:230,tracer:{length:1.5}}},{idString:"m1_garand",name:"M1 Garand",ammoType:"762mm",ammoSpawnAmount:40,capacity:8,reloadTime:2.1,fireDelay:250,switchDelay:400,recoilMultiplier:.75,recoilDuration:200,fireMode:Z.Single,shotSpread:1,moveSpread:3.5,length:8.2,fists:{left:e.create(110,-3),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(87,1)},casingParticles:[{frame:"casing_30-06",position:e.create(4,.5),velocity:{y:{min:4,max:15}}},{frame:"enbloc",position:e.create(4,.5),velocity:{x:{min:1,max:3,randomSign:!0},y:{min:2,max:5,randomSign:!0}},on:"reload"}],gasParticles:oe.rifle,ballistics:{damage:48,obstacleMultiplier:1,speed:.35,range:230,tracer:{length:2,width:1.5},lastShotFX:!0}},{idString:"model_89",name:"Model 89",ammoType:"50cal",ammoSpawnAmount:28,capacity:7,extendedCapacity:10,reloadTime:.4,shotsPerReload:1,fireDelay:350,switchDelay:400,recoilMultiplier:.7,recoilDuration:300,fireMode:Z.Single,shotSpread:1,moveSpread:4,length:7.6,fists:{left:e.create(106,-2),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(90,0)},casingParticles:[{frame:"casing_500sw",position:e.create(5,.5),ejectionDelay:175}],gasParticles:oe.rifle,ballistics:{damage:55,obstacleMultiplier:1.5,speed:.31,range:250,tracer:{width:1.8,length:1.5}}},{idString:"sks",name:"SKS",ammoType:"762mm",ammoSpawnAmount:30,capacity:10,extendedCapacity:20,reloadTime:.4,shotsPerReload:2,reloadFullOnEmpty:!0,fullReloadTime:3.2,fireDelay:180,switchDelay:400,recoilMultiplier:.8,recoilDuration:150,fireMode:Z.Single,shotSpread:3,moveSpread:5,length:7.9,fists:{left:e.create(105,3),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(85,2)},casingParticles:[{position:e.create(4.2,.4),frame:"casing_762x39mm"}],gasParticles:oe.rifle,ballistics:{damage:23,obstacleMultiplier:1.5,speed:.27,range:180,tracer:{length:1.2}}},{idString:"mk18",name:"Mk-18 Mjölnir",ammoType:"338lap",ammoSpawnAmount:20,fireDelay:450,switchDelay:700,recoilMultiplier:.65,recoilDuration:500,fsaReset:700,fireMode:Z.Single,shotSpread:1,moveSpread:4,length:9.07,casingParticles:[{position:e.create(4.5,.3)}],fists:{left:e.create(120,0),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(100,2)},gasParticles:oe.rifle,capacity:5,extendedCapacity:10,reloadTime:3.8,ballistics:{damage:90,obstacleMultiplier:1.5,speed:.4,tracer:{width:1.8,length:3},range:250}},{idString:"radio",name:"Radio",summonAirdrop:!0,ammoType:"curadell",ammoSpawnAmount:1,fireDelay:500,switchDelay:250,recoilMultiplier:1,recoilDuration:0,fireMode:Z.Single,shotSpread:7,moveSpread:14,bulletOffset:1.5,length:4.7,fists:{left:e.create(38,-35),right:e.create(38,35),leftZIndex:4,rightZIndex:4,animationDuration:100},image:{position:e.create(65,35)},casingParticles:[{position:e.create(3.5,1),ejectionDelay:500}],noMuzzleFlash:!0,capacity:1,reloadTime:1.4,ballistics:{tracer:{image:"radio_wave",opacity:.8,particle:!0,zIndex:Number.MAX_SAFE_INTEGER-2},damage:0,obstacleMultiplier:1,speed:.01,range:50,noCollision:!0}},{idString:"firework_launcher",name:"Firework Launcher",ammoType:"firework_rocket",ammoSpawnAmount:9,capacity:3,extendedCapacity:5,reloadTime:1.25,shotsPerReload:1,shootOnRelease:!0,fireDelay:1250,switchDelay:900,noMuzzleFlash:!0,speedMultiplier:.65,recoilMultiplier:.5,recoilDuration:925,fireMode:Z.Single,bulletOffset:2.7,shotSpread:5,moveSpread:14,length:5.5,fists:{left:e.create(60,40),right:e.create(20,55),animationDuration:100},image:{position:e.create(30,50.5),zIndex:4},casingParticles:[{position:e.create(.5,3),ejectionDelay:800}],gasParticles:{spread:360,amount:50,minLife:5e3,maxLife:1e4,minSpeed:2,maxSpeed:5,minSize:.3,maxSize:.5},ballistics:{damage:20,obstacleMultiplier:1,speed:.15,range:120,onHitExplosion:"firework_launcher_explosion",explodeOnImpact:!0,tracer:{image:"firework_rocket_trail",length:1},trail:{frame:"small_gas",interval:17,amount:5,tint:-1,alpha:{min:.4,max:.8},scale:{min:.1,max:.2},spreadSpeed:{min:1,max:3},lifetime:{min:2500,max:5e3}}}},{idString:"g17_scoped",name:"G17 (scoped)",ammoType:"bb",fireDelay:35,switchDelay:250,speedMultiplier:1.5,recoilMultiplier:.99,recoilDuration:10,fireMode:Z.Auto,shotSpread:.5,moveSpread:5,length:6.2,fists:{left:e.create(40,0),right:e.create(40,0),leftZIndex:4,rightZIndex:4,animationDuration:80},noMuzzleFlash:!0,image:{position:e.create(65,0)},capacity:100,extendedCapacity:250,reloadTime:1.5,ballistics:{damage:2,obstacleMultiplier:.5,speed:.1,range:70,tracer:{width:.7,opacity:.85,color:16744448,saturatedColor:16103485}}},{idString:"death_ray",name:"Death Ray",ammoType:"power_cell",capacity:1,reloadTime:1.4,fireDelay:40,switchDelay:500,recoilMultiplier:.8,recoilDuration:100,fireMode:Z.Auto,shotSpread:.15,moveSpread:.1,killstreak:!0,length:8.7,fists:{left:e.create(135,-6),right:e.create(75,0),animationDuration:100},image:{position:e.create(90,0)},noMuzzleFlash:!0,casingParticles:[{position:e.create(4.5,.6),on:"reload"}],ballistics:{damage:800,obstacleMultiplier:2,speed:4,range:800,tracer:{image:"power_cell_trail",length:10}}},{idString:"destroyer_of_worlds",name:"Destroyer Of Worlds",ammoType:"50cal",ammoSpawnAmount:255,capacity:255,extendedCapacity:1,reloadTime:.4,fireDelay:50,switchDelay:250,speedMultiplier:1,recoilMultiplier:.95,recoilDuration:100,fireMode:Z.Auto,shotSpread:.5,moveSpread:4,length:14,noMuzzleFlash:!0,fists:{left:e.create(145,-4),right:e.create(40,0),rightZIndex:4,animationDuration:100},image:{position:e.create(150,0)},casingParticles:[{position:e.create(5,.6),velocity:{y:{min:15,max:25}}},{position:e.create(5.2,.6),frame:"50_link",velocity:{x:{min:-6,max:8},y:{min:10,max:25}}}],ballistics:{damage:300,obstacleMultiplier:1,speed:.45,range:500,tracer:{width:2.5,length:4}}},{[ir]:"model_37",idString:"revitalizer",name:"Revitalizer",killstreak:!0,consistentPatterning:!0,jitterRadius:0,image:{position:e.create(75,0)},fists:{left:e.create(112,-3)},length:7.28,wearerAttributes:{passive:{maxHealth:.51,maxAdrenaline:.8},on:{kill:[{limit:5,maxHealth:1.488,maxAdrenaline:1.201,minAdrenaline:20,speedBoost:1.02},{healthRestored:230,adrenalineRestored:30}],damageDealt:[{healthRestored:2,adrenalineRestored:1.5}]}}}].map(o=>{if(o.dual===void 0)return[o];const t=ar({},o,o.dual,{idString:`dual_${o.idString}`,name:`Dual ${o.name}`,isDual:!0,singleVariant:o.idString});return delete t.dual,delete t.fists,delete t.image,delete t.casingParticles,delete o.dual,o.dualVariant=t.idString,[o,t]}).flat()),pa=ze.withDefault()("Backpacks",{itemType:z.Backpack,noDrop:!1,defaultTint:16777215},([o])=>{const t=o(i=>({idString:`${i.toLowerCase()}_pack`,name:`${i} Pack`}));return[{idString:"bag",name:"Bag",level:0,maxCapacity:{gauze:5,medikit:1,cola:2,tablets:1,"12g":15,"556mm":90,"762mm":90,"9mm":120,"50cal":40,"338lap":18,power_cell:1/0,curadell:1,firework_rocket:10,frag_grenade:3,smoke_grenade:3,c4:2,confetti_grenade:5},noDrop:!0},t(["Basic"],{level:1,maxCapacity:{gauze:10,medikit:2,cola:5,tablets:2,"12g":30,"556mm":180,"762mm":180,"9mm":240,"50cal":60,"338lap":24,power_cell:1/0,curadell:2,firework_rocket:20,frag_grenade:6,smoke_grenade:6,c4:4,confetti_grenade:9},defaultTint:15658734}),t(["Regular"],{level:2,maxCapacity:{gauze:15,medikit:3,cola:10,tablets:3,"12g":60,"556mm":240,"762mm":240,"9mm":330,"50cal":80,"338lap":30,power_cell:1/0,curadell:3,firework_rocket:30,frag_grenade:9,smoke_grenade:9,c4:6,confetti_grenade:12},defaultTint:6518091}),t(["Tactical"],{level:3,maxCapacity:{gauze:30,medikit:4,cola:15,tablets:4,"12g":90,"556mm":300,"762mm":300,"9mm":420,"50cal":100,"338lap":42,power_cell:1/0,curadell:4,firework_rocket:40,frag_grenade:12,smoke_grenade:12,c4:8,confetti_grenade:16},defaultTint:4144959})]}),yo=Object.freeze({left:e.create(38,-35),right:e.create(38,35)}),Er=ze.withDefault()("Melees",{itemType:z.Melee,noDrop:!1,killstreak:!1,speedMultiplier:1,swingSound:"swing",maxTargets:1,image:{zIndex:1},fireMode:Z.Single},()=>[{idString:"fists",name:"Fists",damage:20,obstacleMultiplier:1,radius:1.5,offset:e.create(2.5,0),cooldown:250,noDrop:!0,fists:{animationDuration:125,randomFist:!0,...yo,useLeft:e.create(75,-10),useRight:e.create(75,10)},image:void 0},{idString:"baseball_bat",name:"Baseball Bat",swingSound:"heavy_swing",damage:34,obstacleMultiplier:1.5,radius:3.8,offset:e.create(3.8,2.2),cooldown:340,fists:{animationDuration:150,left:e.create(55,-15),right:e.create(45,0),useLeft:e.create(28,-15),useRight:e.create(50,-15)},image:{position:e.create(35,45),usePosition:e.create(115,-14),angle:155,useAngle:45,lootScale:.55}},{idString:"feral_claws",name:"Feral Claws",damage:20,obstacleMultiplier:1,radius:1.75,offset:e.create(2.5,0),cooldown:150,fists:{animationDuration:100,randomFist:!0,left:e.create(38,-35),right:e.create(38,35),useLeft:e.create(75,-10),useRight:e.create(75,10)},image:{position:e.create(42,20),usePosition:e.create(80,-25),angle:45,useAngle:65,lootScale:.6}},{idString:"hatchet",name:"Hatchet",damage:45,rotationalAnimation:!0,obstacleMultiplier:2,piercingMultiplier:1.5,radius:2,swingSound:"heavy_swing",offset:e.create(5.4,-.5),cooldown:350,fists:{animationDuration:150,left:e.create(40,-25),right:e.create(40,15)},image:{position:e.create(42,20),angle:135,useAngle:65,lootScale:.6}},{idString:"fire_hatchet",name:"Fire Hatchet",damage:50,rotationalAnimation:!0,obstacleMultiplier:2,piercingMultiplier:2,radius:2.05,swingSound:"heavy_swing",offset:e.create(5.4,-.5),cooldown:420,fists:{animationDuration:150,left:e.create(40,-25),right:e.create(40,15)},image:{position:e.create(42,20),angle:135,useAngle:65,lootScale:.7}},{idString:"crowbar",name:"Crowbar",swingSound:"heavy_swing",damage:40,obstacleMultiplier:2.2,piercingMultiplier:2,radius:2.58,offset:e.create(5.9,1.7),cooldown:560,fists:{animationDuration:200,left:e.create(38,-35),right:e.create(38,35),useLeft:e.create(38,-35),useRight:e.create(100,35)},image:{position:e.create(31,41),usePosition:e.create(110,33),angle:190,useAngle:40,lootScale:.65}},{idString:"kbar",name:"K-bar",swingSound:"soft_swing",damage:25,obstacleMultiplier:1.25,radius:2.7,offset:e.create(3.1,.9),cooldown:225,fists:{animationDuration:100,left:e.create(38,-35),right:e.create(38,35),useLeft:e.create(38,-35),useRight:e.create(70,20)},image:{position:e.create(62,42),usePosition:e.create(90,8),angle:60,useAngle:5,lootScale:.8}},{idString:"sickle",name:"Sickle",damage:33,swingSound:"soft_swing",obstacleMultiplier:1.3,radius:2.7,offset:e.create(4,0),cooldown:400,rotationalAnimation:!0,fists:{animationDuration:165,left:e.create(38,-35),right:e.create(45,35)},image:{position:e.create(62,64),angle:102,useAngle:42,lootScale:.85,xConstant:85}},{idString:"maul",name:"Maul",damage:54,rotationalAnimation:!0,swingSound:"heavy_swing",obstacleMultiplier:2,stonePiercing:!0,piercingMultiplier:1,radius:2.7,offset:e.create(5.4,-.5),cooldown:450,fists:{animationDuration:150,left:e.create(40,-25),right:e.create(40,15)},image:{position:e.create(40,20),angle:135,useAngle:65,lootScale:.6}},{idString:"steelfang",name:"Steelfang",damage:40,noDrop:!0,stonePiercing:!0,obstacleMultiplier:1,piercingMultiplier:1,radius:2.7,offset:e.create(3.1,.9),cooldown:200,fists:{animationDuration:150,left:e.create(38,-35),right:e.create(30,40),useLeft:e.create(35,-40),useRight:e.create(75,-20)},image:{position:e.create(55,55),usePosition:e.create(80,-25),angle:-120,useAngle:-800,lootScale:.9},wearerAttributes:{passive:{speedBoost:1.1}}},{idString:"gas_can",name:"Gas Can",damage:22,obstacleMultiplier:1,radius:1.75,offset:e.create(3.1,.5),cooldown:250,image:{position:e.create(54,35),usePosition:e.create(91,10),useAngle:0,lootScale:.8,separateWorldImage:!0},fists:{animationDuration:125,left:e.create(38,-35),right:e.create(38,35),useLeft:e.create(38,-35),useRight:e.create(75,10)}},{idString:"heap_sword",name:"HE-AP sword",damage:75,obstacleMultiplier:2.5,piercingMultiplier:1,killstreak:!0,stonePiercing:!0,radius:4,offset:e.create(5,0),cooldown:300,maxTargets:1/0,fists:{animationDuration:150,left:e.create(38,-35),right:e.create(38,35),useLeft:e.create(38,-35),useRight:e.create(120,20)},image:{position:e.create(102,35),usePosition:e.create(140,-30),angle:50,useAngle:-20,lootScale:.6}},{idString:"ice_pick",name:"Ice Pick",swingSound:"heavy_swing",damage:35,obstacleMultiplier:1.9,piercingMultiplier:1,radius:2.8,offset:e.create(5.4,-.5),cooldown:420,rotationalAnimation:!0,fists:{animationDuration:150,left:e.create(40,-30),right:e.create(40,10)},image:{position:e.create(47,25),angle:130,useAngle:65,lootScale:.6}},{idString:"seax",name:"Seax",damage:45,swingSound:"heavy_swing",obstacleMultiplier:1.5,radius:2.7,offset:e.create(5.4,-.5),cooldown:410,fists:{animationDuration:150,left:e.create(38,-35),right:e.create(38,35),useLeft:e.create(38,-35),useRight:e.create(95,20)},image:{position:e.create(80,25),usePosition:e.create(123,-13),angle:35,useAngle:0,lootScale:.7}},{idString:"falchion",name:"Falchion",damage:41,swingSound:"soft_swing",obstacleMultiplier:1.1,radius:4.1,offset:e.create(7.2,.5),piercingMultiplier:.95,cooldown:450,rotationalAnimation:!0,fists:{animationDuration:150,left:e.create(38,-35),right:e.create(43.5,41.5)},image:{position:e.create(5,90),angle:170,useAngle:25,lootScale:.6,xConstant:108}},{idString:"chainsaw",name:"Chain Saw",damage:25,fireMode:Z.Auto,obstacleMultiplier:2,piercingMultiplier:2,radius:2.7,swingSound:"chainsaw",stopSound:"chainsaw_stop",offset:e.create(6.8,.5),cooldown:0,fists:{animationDuration:200,left:e.create(61,10),right:e.create(35,70),useLeft:e.create(61,10),useRight:e.create(35,70)},image:{position:e.create(106,27),usePosition:e.create(106,27),angle:10,useAngle:10,lootScale:.5,animated:!0}}]),Or={itemType:z.Perk,noDrop:!1,giveByDefault:!1};var nt=(o=>(o.SecondWind="second_wind",o.Flechettes="flechettes",o.SabotRounds="sabot_rounds",o.ExtendedMags="extended_mags",o.DemoExpert="demo_expert",o.AdvancedAthletics="advanced_athletics",o.Toploaded="toploaded",o.InfiniteAmmo="infinite_ammo",o.FieldMedic="field_medic",o.Berserker="stark_melee_gauntlet",o.CloseQuartersCombat="close_quarters_combat",o.LowProfile="low_profile",o.PlumpkinGamble="lets_go_gambling",o.Lycanthropy="lycanthropy",o.Bloodthirst="bloodthirst",o.PlumpkinBomb="plumpkin_bomb",o.Shrouded="shrouded",o.ExperimentalTreatment="experimental_treatment",o.Engorged="engorged",o.BabyPlumpkinPie="baby_plumpkin_pie",o.Costumed="costumed",o.TornPockets="torn_pockets",o.Claustrophobic="claustrophobic",o.LacedStimulants="laced_stimulants",o.RottenPlumpkin="rotten_plumpkin",o.PriorityTarget="priority_target",o))(nt||{}),So=(o=>(o[o.Normal=0]="Normal",o[o.Halloween=1]="Halloween",o))(So||{});const vo=[{idString:"second_wind",name:"Second Wind",description:"Move faster below half health.",category:0,cutoff:.5,speedMod:1.4},{idString:"flechettes",name:"Fléchettes",description:"All bullets splinter into 3 weaker versions.",category:0,split:3,deviation:.7,damageMod:.4},{idString:"sabot_rounds",name:"Sabot Rounds",description:"Large increase to range, velocity, and accuracy, but at the cost of lower damage.",category:0,rangeMod:1.5,speedMod:1.5,spreadMod:.6,damageMod:.9,tracerLengthMod:1.2},{idString:"extended_mags",name:"Extended Mags",description:"Most weapons have increased bullet capacity.",category:0},{idString:"demo_expert",name:"Demo Expert",description:"Grenades have a greater throwing range and visible detonation point.",category:0,updateInterval:1e4,rangeMod:2,restoreAmount:.25},{idString:"advanced_athletics",name:"Advanced Athletics",description:"Move faster in water and smoke, walk through trees, and vault through windows.",category:0,waterSpeedMod:1/.7*1.3,smokeSpeedMod:1.3},{idString:"toploaded",name:"Toploaded",description:"Do more damage with the top half of your magazine.",category:0,thresholds:[[.2,1.25],[.49,1.1]]},{idString:"infinite_ammo",name:"Infinite Ammo",description:"All weapons have unlimited ammo. Electronic devices may break if overused.",category:0,airdropCallerLimit:3},{idString:"field_medic",name:"Field Medic",description:"All consumable items can be used faster. Teammates can be revived more quickly.",category:0,usageMod:1.5},{idString:"stark_melee_gauntlet",name:"Berserker",description:"Melee weapons make you move faster when equipped, and deal more damage.",category:0,speedMod:1.2,damageMod:1.2},{idString:"close_quarters_combat",name:"Close Quarters Combat",description:"Weapons do more damage and reload faster at close range.",category:0,cutoff:50,reloadMod:1.3,damageMod:1.2},{idString:"low_profile",name:"Low Profile",description:"Become smaller and take less damage from explosions.",category:0,sizeMod:.8,explosionMod:.5},{idString:"lets_go_gambling",name:"Plumpkin Gamble",description:"Picks a random Halloween perk.",category:1,noDrop:!0,plumpkinGambleIgnore:!0},{idString:"lycanthropy",name:"Lycanthropy",description:"Become a werewolf with high speed, health, regeneration, and melee damage, but can't use guns & grenades.",category:1,type:"positive",speedMod:1.3,healthMod:1.5,regenRate:1,damageMod:2.5,noDrop:!0,noSwap:!1},{idString:"bloodthirst",name:"Bloodthirst",description:"Gain 25% adrenaline, 25% health, and a speed boost on kill. Slowly lose health over time.",category:1,type:"positive",updateInterval:1e3,speedMod:1.5,speedBoostDuration:2e3,healthLoss:1,healBonus:25,adrenalineBonus:25,noDrop:!0},{idString:"plumpkin_bomb",name:"Plumpkin Bomb",description:"All plumpkins/pumpkins explode when destroyed. Throwables have a special appearance and do extra damage.",category:1,type:"positive",damageMod:1.2,noDrop:!0},{idString:"shrouded",name:"Shrouded",description:"Emit a trail of thick fog that other players have difficulty seeing through.",category:1,type:"positive",updateInterval:100,noDrop:!0},{idString:"experimental_treatment",name:"Experimental Treatment",description:"Permanent adrenaline, but reduced max health.",category:1,type:"neutral",adrenDecay:0,adrenSet:1,healthMod:.8,noDrop:!0},{idString:"engorged",name:"Engorged",description:"Increased max health and size with each kill.",category:1,type:"neutral",hpMod:10,sizeMod:1.05,killsLimit:10,noDrop:!0},{idString:"baby_plumpkin_pie",name:"Baby Plumpkin Pie",description:"Your held weapon randomizes every 10 seconds and after every kill.",category:1,type:"neutral",updateInterval:1e4,noDrop:!0,noSwap:!1},{idString:"costumed",name:"Costumed",description:"Become a random obstacle. Rare chance to become a Plumpkin variant.",category:1,type:"neutral",choices:{oak_tree:1,dormant_oak_tree:1,maple_tree:1,pine_tree:1,birch_tree:1,stump:1,rock:1,regular_crate:1,barrel:1,super_barrel:1,vibrant_bush:1,oak_leaf_pile:1,hay_bale:1,baby_plumpkin:.01,plumpkin:.01,diseased_plumpkin:.01},noDrop:!0,alwaysAllowSwap:!0},{idString:"torn_pockets",name:"Torn Pockets",description:"Every two seconds, drop 2 of a random ammo on the ground.",category:1,type:"negative",updateInterval:2e3,dropCount:2,noDrop:!0},{idString:"claustrophobic",name:"Claustrophobic",description:"Move slower inside buildings and bunkers.",category:1,type:"negative",speedMod:.75,noDrop:!0},{idString:"laced_stimulants",name:"Laced Stimulants",description:"Instead of healing you, adrenaline damages you at half the normal healing rate.",category:1,type:"negative",healDmgRate:.5,lowerHpLimit:5,noDrop:!0},{idString:"rotten_plumpkin",name:"Rotten Plumpkin",description:"Every 10 seconds, you send the vomit emote and lose 5% adrenaline and 5 health.",category:1,type:"negative",updateInterval:1e4,emote:"vomiting_face",adrenLoss:5,healthLoss:5,noDrop:!0},{idString:"priority_target",name:"Priority Target",description:"All players on the map can see your location.",category:1,type:"negative",noDrop:!0,plumpkinGambleIgnore:!0}];class Lr extends ze{constructor(i){super("Perks",i,Or);c(this,"defaults");c(this,"idStringToNumber");this.idStringToNumber={};for(let s=0,n=this.definitions.length;s<n;s++){const r=this.definitions[s].idString;this.idStringToNumber[r]=s}this.defaults=this.definitions.filter(({giveByDefault:s})=>s)}}const je=new Lr(vo),qa=Object.freeze(vo.reduce((o,t)=>(o[t.idString]=t,o),{})),Ot=ze.withDefault()("Skins",{itemType:z.Skin,noDrop:!1,hideFromLoadout:!1,grassTint:!1,hideEquipment:!1,hideBlood:!1},([o,,t])=>{const i=o((r,l)=>({idString:r.toLowerCase().replace(/'/g,"").replace(/ /g,"_"),backpackTint:l,name:r})),s=t(i,{hideFromLoadout:!0}),n=t(i,r=>({roleRequired:r}));return[n([["hasanger"],["Hasanger",6553600]]),n([["limenade"],["LimeNade",16777215]]),n([["solstice"],["Dragonscale",4161677]]),n([["error"],["error",2081890]]),n([["pap"],["pap",394823]]),n([["developr"],["Developr Swag",31359]]),n([["designr"],["Designr Swag",6803200]]),n([["composr"],["Composr Swag",16765185]]),...[["HAZEL Jumpsuit",11839636],["The Amateur",10192743],["The Pro",10318636],["Forest Camo",6505505],["Desert Camo",14469523],["Arctic Camo",15527148],["Bloodlust",5658198],["Red Tomato",16711680],["Greenhorn",65280],["Blue Blood",255],["Silver Lining",14803425],["Pot o' Gold",16767058],["Gunmetal",5000268],["Algae",57571],["Twilight Zone",2863358],["Bubblegum",15373567],["Sunrise",4808588],["Sunset",16560197],["Stratosphere",31231],["Mango",16743424],["Snow Cone",60415],["Aquatic",12906],["Floral",14447549],["Sunny",16573808],["Volcanic",16603392],["Ashfall",4565756],["Solar Flare",16753920],["Beacon",4669523],["Wave Jumpsuit",11508799],["Toadstool",14079702],["Full Moon",12698049],["Swiss Cheese",16764160],["Target Practice",16711680],["Zebra",4868682],["Tiger",4868682],["Bee",4868682],["Armadillo",10914910],["Printer",16777215],["Distant Shores",8309379]].map(([r,l])=>i([r,l])),...[["Lemon",15458450],["Flamingo",15828093],["Peachy Breeze",15901283],["Deep Sea",2639187],["Basic Outfit",14523146],["Peppermint",11796528],["Spearmint",1136420],["Coal",4342338],["Henry's Little Helper",364800],["Candy Cane",16053492],["Holiday Tree",2328639],["Gingerbread",11885586],["Verified",4690175],["no kil pls",7039851],["Stardust",1459339],["Aurora",1912664],["Nebula",2662583],["1st Birthday",15564928],["Lumberjack",9587236],["Gold Tie Event",2828585],["Ship Carrier",6790105],["NSD Uniform",5847846],["Pumpkified",4202496],["One at NSD",2568986],["Sky",8481],["Diseased",2957087],["Deer Season",10106372]].map(([r,l])=>s([r,l])),s(["Werewolf",3289650],{noSwap:!0,noDrop:!0}),s(["Ghillie Suit",16777215],{grassTint:!0,hideEquipment:!0,hideBlood:!0})]});class Vr extends ze{constructor(i){var s,n;super("Loots",i,void 0,!0);c(this,"_byTypeMapping");this._byTypeMapping=[];for(const r of this.definitions)((s=this._byTypeMapping)[n=r.itemType]??(s[n]=[])).push(r)}byType(i){var s;return[...(s=this._byTypeMapping)[i]??(s[i]=[])]}}const ge=new Vr([...Di,...Ct,...Er,...Ta,...Ti,...si,...pa,...lt,...Ot,...je]);function Qe(o){return({serialize:t,deserialize:i})=>{let s=!1;return{[o]:class{constructor(r){if(this._value=r,!s)throw new Error("Do not manually instantiate a packet, use its static 'create' method instead")}static create(r){s=!0;const l=new this(r);return s=!1,l}static read(r){s=!0;const l=new this(i(r));return s=!1,l}get input(){return this._value}get output(){return this._value}serialize(r){t(r,this.input)}}}[o]}}const xo=Qe("DisconnectPacket")({serialize(o,t){o.writeString(64,t.reason)},deserialize(o){return{reason:o.readString(64)}}}),ko=Qe("GameOverPacket")({serialize(o,t){o.writeUint8(t.rank).writeObjectId(t.playerID).writeUint8(t.kills).writeUint16(t.damageDone).writeUint16(t.damageTaken).writeUint16(t.timeAlive)},deserialize(o){const t=o.readUint8();return{won:t===1,rank:t,playerID:o.readObjectId(),kills:o.readUint8(),damageDone:o.readUint16(),damageTaken:o.readUint16(),timeAlive:o.readUint16()}}}),Ro=Qe("JoinedPacket")({serialize(o,t){o.writeUint8(t.maxTeamSize),t.maxTeamSize!==St.Solo&&o.writeUint8(t.teamID);const{emotes:i}=t;o.writeBooleanGroup(i[0]!==void 0,i[1]!==void 0,i[2]!==void 0,i[3]!==void 0,i[4]!==void 0,i[5]!==void 0);for(let s=0;s<6;s++){const n=i[s];n!==void 0&&Et.writeToStream(o,n)}},deserialize(o){const t=o.readUint8(),i=t!==St.Solo?o.readUint8():void 0,s=o.readBooleanGroup();return{maxTeamSize:t,teamID:i,emotes:Array.from({length:6},(n,r)=>s[r]?Et.readFromStream(o):void 0)}}}),Io=Qe("JoinPacket")({serialize(o,t){const i=t.emotes,s=t.badge!==void 0;o.writeBooleanGroup(t.isMobile,s,i[0]!==void 0,i[1]!==void 0,i[2]!==void 0,i[3]!==void 0,i[4]!==void 0,i[5]!==void 0),o.writeUint16(se.protocolVersion),o.writePlayerName(t.name),ge.writeToStream(o,t.skin),s&&xt.writeToStream(o,t.badge);for(let n=0;n<6;n++){const r=i[n];r!==void 0&&Et.writeToStream(o,r)}},deserialize(o){const[t,i,...s]=o.readBooleanGroup();return{protocolVersion:o.readUint16(),name:o.readPlayerName().replaceAll(/<[^>]+>/g,"").trim(),isMobile:t,skin:ge.readFromStream(o),badge:i?xt.readFromStream(o):void 0,emotes:Array.from({length:6},(n,r)=>s[r]?Et.readFromStream(o):void 0)}}}),zr=[ne.NormalTwoParty,ne.FinishedOff,ne.FinallyKilled,ne.Gas,ne.BleedOut,ne.Airdrop],Za=o=>zr.includes(o.eventType),Fr=[ne.FinallyKilled,ne.Gas,ne.BleedOut,ne.Airdrop],Br=o=>Fr.includes(o.eventType);Object.freeze({[Ce.DeathOrDown](){const o={messageType:Ce.DeathOrDown},t={victimId(i){return arguments.length?(o.victimId=i,t):o.victimId},severity(i){return arguments.length?(o.severity=i,t):o.severity},eventType(i){return arguments.length?(o.eventType=i,t):o.eventType},attackerId(i){return o.attackerId=i,t},attackerKills(i){return i===void 0?o.attackerKills:(o.attackerKills=i,t)},weaponUsed(i){return o.weaponUsed=i,t},killstreak(i){return arguments.length?(o.killstreak=i,t):o.killstreak},build(){if(o.victimId===void 0)throw new Error("victimId missing for killfeed message of type DeathOrDown");return o}};return t},[Ce.KillLeaderAssigned](){const o={messageType:Ce.KillLeaderAssigned},t={victimId(i){return o.victimId=i,t},attackerKills(i){return o.attackerKills=i,t},hideFromKillfeed(){return o.hideFromKillfeed=!0,t},showInKillfeed(){return o.hideFromKillfeed=!1,t},build(){if(o.victimId===void 0)throw new Error("victimId missing for killfeed message of type KillLeaderAssigned");if(o.attackerKills===void 0)throw new Error("attackerKills missing for killfeed message of type KillLeaderAssigned");return o}};return t},[Ce.KillLeaderDeadOrDisconnected](){const o={messageType:Ce.KillLeaderDeadOrDisconnected},t={victimId(i){return o.victimId=i,t},attackerId(i){return o.attackerId=i,t},disconnected(i){return o.disconnected=i,t},build(){if(o.victimId===void 0)throw new Error("victimId missing for killfeed message of type KillLeaderDead");if(o.attackerId===void 0)throw new Error("attackerId missing for killfeed message of type KillLeaderDead");return o}};return t},[Ce.KillLeaderUpdated](){const o={messageType:Ce.KillLeaderUpdated},t={attackerKills(i){return o.attackerKills=i,t},build(){if(o.attackerKills===void 0)throw new Error("attackerKills missing for killfeed message of type KillLeaderUpdated");return o}};return t}});const Mo=Qe("KillFeedPacket")({serialize(o,t){let i=t.messageType;const s=o.index;switch(o.writeUint8(0),t.messageType){case Ce.DeathOrDown:{if(o.writeObjectId(t.victimId),i+=t.eventType<<2,Za(t)){const l=t.attackerId!==void 0;i+=l?32:0,l&&(o.writeObjectId(t.attackerId),o.writeUint8(t.attackerKills))}i+=t.severity?64:0;const r=!Br(t)&&t.weaponUsed!==void 0;i+=r?128:0,r&&(Zt.writeToStream(o,t.weaponUsed),"killstreak"in t.weaponUsed&&t.weaponUsed.killstreak&&(t.killstreak===void 0?(console.error(`Killfeed packet with weapon '${t.weaponUsed.idString}' is missing a killstreak amount, but weapon schema in question mandates it`),o.writeUint8(0)):o.writeUint8(t.killstreak)));break}case Ce.KillLeaderAssigned:i+=t.hideFromKillfeed??!1?128:0,o.writeObjectId(t.victimId),o.writeUint8(t.attackerKills);break;case Ce.KillLeaderUpdated:o.writeUint8(t.attackerKills);break;case Ce.KillLeaderDeadOrDisconnected:i+=t.disconnected??!1?128:0,o.writeObjectId(t.victimId),o.writeObjectId(t.attackerId);break}const n=o.index;o.index=s,o.writeUint8(i),o.index=n},deserialize(o){const t=o.readUint8(),s={messageType:t&3};switch(s.messageType){case Ce.DeathOrDown:{if(s.victimId=o.readObjectId(),s.eventType=(t&28)>>2,Za(s)&&t&32&&(s.attackerId=o.readObjectId(),s.attackerKills=o.readUint8()),s.severity=t>>6&1,t&128){const n=s.weaponUsed=Zt.readFromStream(o);"killstreak"in n&&n.killstreak&&(s.killstreak=o.readUint8())}break}case Ce.KillLeaderAssigned:s.victimId=o.readObjectId(),s.attackerKills=o.readUint8(),s.hideFromKillfeed=(t&128)!==0;break;case Ce.KillLeaderUpdated:s.attackerKills=o.readUint8();break;case Ce.KillLeaderDeadOrDisconnected:s.victimId=o.readObjectId(),s.attackerId=o.readObjectId(),s.disconnected=(t&128)!==0;break}return s}});var F=(o=>(o.Grass="grass",o.Stone="stone",o.Wood="wood",o.Sand="sand",o.Metal="metal",o.Carpet="carpet",o.Water="water",o.Void="void",o))(F||{});const Ze={grass:{debugColor:21760},stone:{debugColor:1184274},wood:{debugColor:8344832},sand:{debugColor:16733440},metal:{debugColor:8421504},carpet:{debugColor:3319912},water:{debugColor:56831,speedMultiplier:.7,overlay:!0,particles:!0},void:{debugColor:7813389}};function Ka(o,t,i,s){const n=e.clone(o.min),r=e.create(o.max.x,o.min.y),l=e.clone(o.max),d=e.create(o.min.x,o.max.y),m=[];i=i/2;const h=()=>s.get(-i,i);for(let p=n.x+t;p<r.x;p+=t)m.push(e.create(p,n.y+h()));for(let p=r.y+t;p<l.y;p+=t)m.push(e.create(r.x+h(),p));for(let p=l.x-t;p>d.x;p-=t)m.push(e.create(p,l.y+h()));for(let p=d.y-t;p>n.y;p-=t)m.push(e.create(d.x+h(),p));return m}class Xa{constructor(t,i,s,n,r,l){c(this,"width");c(this,"height");c(this,"cellSize",64);c(this,"floors",new Map);c(this,"rivers");c(this,"beachHitbox");c(this,"grassHitbox");c(this,"groundRect");c(this,"_grid",[]);this.width=Math.floor(t/this.cellSize),this.height=Math.floor(i/this.cellSize);for(let I=0;I<=this.width;I++){this._grid[I]=[];for(let R=0;R<=this.height;R++)this._grid[I][R]={rivers:[],floors:[]}}const d=s+n,m=new or(r),h=16,p=8,u=this.groundRect=new a(e.create(s,s),e.create(t-s,i-s)),y=new a(e.create(d,d),e.create(t-d,i-d));this.beachHitbox=new Ke(Ka(u,h,p,m)),this.grassHitbox=new Ke(Ka(y,h,p,m)),this.rivers=l;for(const I of l){const R=I.bankHitbox.toRectangle(),x=this._roundToCells(R.min),S=this._roundToCells(R.max);for(let b=x.x;b<=S.x;b++)for(let v=x.y;v<=S.y;v++){const P=e.create(b*this.cellSize,v*this.cellSize),D=new a(P,e.add(P,e.create(this.cellSize,this.cellSize)));I.bankHitbox.collidesWith(D)&&this._grid[b][v].rivers.push(I)}}}addFloor(t,i,s){this.floors.set(i,{floorType:t,layer:s});const n=i.toRectangle(),r=this._roundToCells(n.min),l=this._roundToCells(n.max);for(let d=r.x;d<=l.x;d++)for(let m=r.y;m<=l.y;m++)this._grid[d][m].floors.push({type:t,hitbox:i,layer:s})}getFloor(t,i){var d;const s=this._roundToCells(t);let n="water";const r=this.beachHitbox.isPointInside(t);r&&(i?n="void":(n="sand",this.grassHitbox.isPointInside(t)&&(n="grass")));const l=this._grid[s.x][s.y];if(r){for(const m of l.rivers)if(m.bankHitbox.isPointInside(t)&&(n="sand"),(d=m.waterHitbox)!=null&&d.isPointInside(t)){n="water";break}}for(const m of l.floors)if(m.hitbox.isPointInside(t)&&m.layer===i)return m.type;return i?"void":n}getRiversInPosition(t){const i=this._roundToCells(t);return this._grid[i.x][i.y].rivers}getRiversInHitbox(t){const i=new Set,s=t.toRectangle(),n=this._roundToCells(s.min),r=this._roundToCells(s.max);for(let l=n.x;l<=r.x;l++)for(let d=n.y;d<=r.y;d++)for(const m of this._grid[l][d].rivers)i.add(m);return[...i]}_roundToCells(t){return e.create(U.clamp(Math.floor(t.x/this.cellSize),0,this.width),U.clamp(Math.floor(t.y/this.cellSize),0,this.height))}}function Ya(o,t,i,s,n){return .5*(s-t+2*o*(2*t-5*i+4*s-n)+3*o*o*(3*i-3*s+n-t))}function Ja(o,t,i,s,n){const r=o*o;return .5*(2*i+o*(s-t)+r*(2*t-5*i+4*s-n)+r*o*(3*i-3*s+n-t))}function Qa(o,t,i){const s=e.add(o,t);if(!i.isPointInside(s)){const n=Pi.rayIntersectsPolygon(o,t,i.points);if(n)return e.scale(t,n)}return t}class $r{constructor(t,i,s,n,r){c(this,"bankWidth");c(this,"waterHitbox");c(this,"bankHitbox");c(this,"isTrail");this.width=t,this.points=i,this.isTrail=r;const l=!r,d=this.points.length-1;this.bankWidth=l?U.clamp(this.width*.75,12,20):this.width;const m=new Array(d*2),h=new Array(d*2),p=!n.isPointInside(this.points[this.points.length-1]);for(let u=0;u<this.points.length;u++){const y=this.points[u],I=this.getNormal(u/d);let R=this.bankWidth,x=null;for(const P of s){if(P.isTrail!==r)continue;const D=e.length(e.sub(P.getPosition(P.getClosestT(y)),y));D<P.width*2&&(R=U.max(R,P.bankWidth)),(u===0||u===this.points.length-1)&&D<48&&(x=P)}let S=this.width;const b=2*(U.max(1-u/d,u/d)-.5);l&&(u<this.points.length/2||p)&&(S=(1+b**3*1.5)*this.width);const v=(P,D,O)=>{let A=e.scale(I,P),L=e.scale(I,-P);D&&(A=Qa(y,A,D),L=Qa(y,L,D)),O[u]=e.add(y,A),O[this.points.length+d-u]=e.add(y,L)};l&&v(S,x==null?void 0:x.waterHitbox,m),v(S+R,x==null?void 0:x.bankHitbox,h)}this.waterHitbox=l?new Ke(m):void 0,this.bankHitbox=new Ke(h)}getControlPoints(t){const i=this.points.length;t=U.clamp(t,0,1);const s=~~(t*(i-1)),n=s===i-1?s-1:s,r=n+1,l=n>0?n-1:n,d=r<i-1?r+1:r;return{pt:t*(i-1)-n,p0:this.points[l],p1:this.points[n],p2:this.points[r],p3:this.points[d]}}getTangent(t){const{pt:i,p0:s,p1:n,p2:r,p3:l}=this.getControlPoints(t);return{x:Ya(i,s.x,n.x,r.x,l.x),y:Ya(i,s.y,n.y,r.y,l.y)}}getNormal(t){const i=this.getTangent(t),s=e.normalizeSafe(i,e.create(1,0));return e.create(-s.y,s.x)}getPosition(t){const{pt:i,p0:s,p1:n,p2:r,p3:l}=this.getControlPoints(t);return{x:Ja(i,s.x,n.x,r.x,l.x),y:Ja(i,s.y,n.y,r.y,l.y)}}getClosestT(t){let i=Number.MAX_VALUE,s=0;for(let v=0;v<this.points.length-1;v++){const P=Pi.distanceToLine(t,this.points[v],this.points[v+1]);P<i&&(i=P,s=v)}const n=s,r=n+1,l=this.points[n],d=this.points[r],m=e.sub(d,l),h=U.clamp(e.dotProduct(e.sub(t,l),m)/e.dotProduct(m,m),0,1),p=this.points.length-1,u=U.clamp((n+h-.1)/p,0,1),y=U.clamp((n+h+.1)/p,0,1);let I=(n+h)/p,R=Number.MAX_VALUE;const x=8;for(let v=0;v<=x;v++){const P=U.lerp(v/x,u,y),D=this.getPosition(P),O=e.squaredLength(e.sub(D,t));O<R&&(I=P,R=O)}const S=this.getTangent(I),b=e.length(S);if(b>0){const v=this.getPosition(I),P=e.dotProduct(S,e.sub(t,v))/b,D=I+P/(b*p);e.squaredLength(e.sub(t,this.getPosition(D)))<e.squaredLength(e.sub(t,v))&&(I=D)}return I}}var Mi=(o=>(o[o.Always=0]="Always",o[o.Sometimes=1]="Sometimes",o[o.Never=2]="Never",o))(Mi||{}),de=(o=>(o[o.Full=0]="Full",o[o.Limited=1]="Limited",o[o.Binary=2]="Binary",o[o.None=3]="None",o))(de||{});const ma={cardboard:{hit:"stone",destroyed:"crate"},iron:{hit:"metal_light",destroyed:"appliance"},crate:{hit:"wood"},pumpkin:{hit:"stone"},trash_bag:{hit:"sand"}},Hr={_glow_:{base:"_glow_",tint:16777215},metal_particle:{base:"metal_particle_1",tint:6250335},metal_column_particle:{base:"metal_particle_1",tint:9408399},super_barrel_particle:{base:"metal_particle_1",tint:13511465},dumpster_particle:{base:"metal_particle_1",tint:3960883},washing_machine_particle:{base:"metal_particle_1",tint:13421772},tv_particle:{base:"metal_particle_1",tint:3355443},smokestack_particle:{base:"metal_particle_1",tint:11908533},distillation_column_particle:{base:"metal_particle_1",tint:1793688},ship_oil_tank_particle:{base:"metal_particle_1",tint:21391},forklift_particle:{base:"metal_particle_1",tint:11293497},bollard_particle:{base:"metal_particle_1",tint:10907168},m1117_particle:{base:"metal_particle_1",tint:3094309},file_cart_particle:{base:"metal_particle_1",tint:4210752},container_particle_white:{base:"metal_particle_1",tint:12632256},container_particle_red:{base:"metal_particle_1",tint:10692864},container_particle_green:{base:"metal_particle_1",tint:41742},container_particle_blue:{base:"metal_particle_1",tint:24483},container_particle_yellow:{base:"metal_particle_1",tint:13421568},filing_cabinet_particle:{base:"metal_particle_2",tint:8352077},briefcase_particle:{base:"metal_particle_2",tint:13619151},aegis_crate_particle:{base:"wood_particle",tint:2525145},airdrop_crate_particle:{base:"wood_particle",tint:4217279},chest_particle:{base:"wood_particle",tint:11042394},cooler_particle:{base:"wood_particle",tint:4222053},crate_particle:{base:"wood_particle",tint:10384439},flint_crate_particle:{base:"wood_particle",tint:14313995},furniture_particle:{base:"wood_particle",tint:7887406},couch_part_particle:{base:"wood_particle",tint:6959883},grenade_crate_particle:{base:"wood_particle",tint:4999203},gun_case_particle:{base:"wood_particle",tint:4084016},hazel_crate_particle:{base:"wood_particle",tint:7054193},lux_crate_particle:{base:"wood_particle",tint:5135421},melee_crate_particle:{base:"wood_particle",tint:2307916},tango_crate_particle:{base:"wood_particle",tint:4148281},wall_particle:{base:"wood_particle",tint:11509900},flint_stone_particle_1:{base:"stone_particle_1",tint:2500396},flint_stone_particle_2:{base:"stone_particle_2",tint:2500396},gold_rock_particle_1:{base:"stone_particle_1",tint:11175220},gold_rock_particle_2:{base:"stone_particle_2",tint:13870144},rock_particle_1:{base:"stone_particle_1",tint:9342606},rock_particle_2:{base:"stone_particle_2",tint:9342606},river_rock_particle_1:{base:"stone_particle_1",tint:6448241},river_rock_particle_2:{base:"stone_particle_2",tint:6448241},clearing_boulder_particle_1:{base:"stone_particle_1",tint:5921370},clearing_boulder_particle_2:{base:"stone_particle_2",tint:5921370},sandbags_particle:{base:"stone_particle_2",tint:13999438},fire_pit_particle_1:{base:"stone_particle_1",tint:5984062},fire_pit_particle_2:{base:"stone_particle_2",tint:5984062},porta_potty_door_particle:{base:"plastic_particle",tint:16120317},porta_potty_toilet_particle:{base:"plastic_particle",tint:6184542},porta_potty_wall_particle:{base:"plastic_particle",tint:1864152},porta_potty_particle_fall:{base:"plastic_particle",tint:7887163},porta_potty_particle:{base:"ceiling_particle",tint:15198183},outhouse_particle:{base:"ceiling_particle",tint:7887163},outhouse_wall_particle:{base:"wood_particle",tint:7228719},mobile_home_particle:{base:"ceiling_particle",tint:11053224},grey_office_chair_particle:{base:"wood_particle",tint:6381921},office_chair_particle:{base:"wood_particle",tint:8203051},hq_stone_wall_particle_1:{base:"stone_particle_1",tint:5839129},hq_stone_wall_particle_2:{base:"stone_particle_2",tint:5839129},headquarters_desk_particle:{base:"wood_particle",tint:6370330},headquarters_c_desk_particle:{base:"wood_particle",tint:7231544},gold_aegis_case_particle:{base:"wood_particle",tint:1710618},hq_tp_wall_particle:{base:"wood_particle",tint:7636363},white_small_couch_particle:{base:"wood_particle",tint:13615535},red_small_couch_particle:{base:"wood_particle",tint:8532771},planted_bushes_particle:{base:"toilet_particle",tint:11184810},barn_wall_particle_1:{base:"stone_particle_1",tint:6884364},barn_wall_particle_2:{base:"stone_particle_2",tint:6884364},lodge_particle:{base:"wood_particle",tint:4798237},lodge_wall_particle:{base:"wood_particle",tint:5915424},gun_mount_dual_rsh12_particle:{base:"wood_particle",tint:5855577},square_desk_particle:{base:"wood_particle",tint:5062184},plumpkin_bunker_particle:{base:"metal_particle_1",tint:2500134},metal_auto_door_particle:{base:"metal_particle_1",tint:4210752},red_metal_auto_door_particle:{base:"metal_particle_1",tint:4200986},blue_metal_auto_door_particle:{base:"metal_particle_1",tint:1710656},pumpkin_particle:{base:"pumpkin_particle_base",tint:16747521},plumpkin_particle:{base:"pumpkin_particle_base",tint:9063536},diseased_plumpkin_particle:{base:"pumpkin_particle_base",tint:6637126},tent_particle_1:{base:"ceiling_particle",tint:ye.red},tent_particle_2:{base:"ceiling_particle",tint:ye.green},tent_particle_3:{base:"ceiling_particle",tint:ye.blue},tent_particle_4:{base:"ceiling_particle",tint:ye.orange},tent_particle_5:{base:"ceiling_particle",tint:ye.purple},tent_ceiling_particle_red_1:{base:"tent_ceiling_particle_1",tint:ye.red},tent_ceiling_particle_red_2:{base:"tent_ceiling_particle_2",tint:ye.red},tent_ceiling_particle_red_3:{base:"tent_ceiling_particle_3",tint:ye.red},tent_ceiling_particle_green_1:{base:"tent_ceiling_particle_1",tint:ye.green},tent_ceiling_particle_green_2:{base:"tent_ceiling_particle_2",tint:ye.green},tent_ceiling_particle_green_3:{base:"tent_ceiling_particle_3",tint:ye.green},tent_ceiling_particle_blue_1:{base:"tent_ceiling_particle_1",tint:ye.blue},tent_ceiling_particle_blue_2:{base:"tent_ceiling_particle_2",tint:ye.blue},tent_ceiling_particle_blue_3:{base:"tent_ceiling_particle_3",tint:ye.blue},tent_ceiling_particle_orange_1:{base:"tent_ceiling_particle_1",tint:ye.orange},tent_ceiling_particle_orange_2:{base:"tent_ceiling_particle_2",tint:ye.orange},tent_ceiling_particle_orange_3:{base:"tent_ceiling_particle_3",tint:ye.orange},tent_ceiling_particle_purple_1:{base:"tent_ceiling_particle_1",tint:ye.purple},tent_ceiling_particle_purple_2:{base:"tent_ceiling_particle_2",tint:ye.purple},tent_ceiling_particle_purple_3:{base:"tent_ceiling_particle_3",tint:ye.purple}},Wr={indestructible:!1,impenetrable:!1,noHitEffect:!1,noResidue:!1,invisible:!1,hideOnMap:!1,noCollisions:!1,allowFlyover:1,visibleFromLayers:De.Adjacent,hasLoot:!1,spawnWithLoot:!1,detector:!1,noMeleeCollision:!1,noBulletCollision:!1,reflectBullets:!1,frames:{},imageAnchor:e.create(0,0),spawnMode:ce.Grass,additionalDestroySounds:[]},Pt=ze.withDefault()("Obstacles",Wr,([o,t,,i])=>{const s=o(b=>({idString:b.name.toLowerCase().replace(/'/g,"").replace(/ /g,"_"),material:"tree",health:b.health,scale:{spawnMin:b.scaleProps.spawnMin,spawnMax:b.scaleProps.spawnMax,destroy:b.scaleProps.destroy},spawnHitbox:b.spawnHitbox,spawnMode:ce.Grass,rotationMode:b.rotationMode,variations:b.variations??void 0,hitbox:b.hitbox,zIndex:b.zIndex??k.ObstaclesLayer5,hasLoot:b.hasLoot??!1,allowFlyover:b.allowFlyOver??1})),n=o({material:"crate",health:80,scale:{spawnMin:1,spawnMax:1,destroy:.5},spawnMode:ce.GrassAndSand,rotationMode:2,hitbox:a.fromRect(9.2,9.2),hasLoot:!0}),r=o((b,v)=>({idString:`house_wall_${b}`,name:`House Wall ${b}`,material:"wood",hideOnMap:!0,noResidue:!0,health:170,scale:{spawnMin:1,spawnMax:1,destroy:.95},rotationMode:1,allowFlyover:2,frames:{particle:(v==null?void 0:v.particle)??"wall_particle"},wall:{borderColor:(v==null?void 0:v.border)??4866356,color:(v==null?void 0:v.color)??11509900,rounded:!0},role:j.Wall})),l=o((b,v=!1)=>({idString:`headquarters_wall_${b}`,name:`Headquarters Wall ${b}`,material:"wood",hideOnMap:!0,noResidue:!0,health:v?100:170,scale:{spawnMin:1,spawnMax:1,destroy:.95},rotationMode:1,allowFlyover:2,frames:{particle:v?"hq_tp_wall_particle":"wall_particle"},wall:{borderColor:v?2304042:4866356,color:v?7636363:11509900,...v?{}:{rounded:!v}},role:j.Wall})),d=o((b,v)=>({idString:`lodge_wall_${b}`,name:"Lodge Wall",material:"wood",hideOnMap:!0,noResidue:!0,health:170,scale:{spawnMin:1,spawnMax:1,destroy:.95},hitbox:a.fromRect(v,2.06),rotationMode:1,allowFlyover:2,frames:{particle:"lodge_wall_particle"},wall:{borderColor:2694671,color:5915424,rounded:!0},role:j.Wall})),m=o((b,v)=>({idString:`inner_concrete_wall_${b}`,material:"stone",hitbox:v,health:500,noResidue:!0,hideOnMap:!0,scale:{spawnMin:1,spawnMax:1,destroy:.95},rotationMode:1,role:j.Wall,allowFlyover:2,particleVariations:2,frames:{particle:"rock_particle"},wall:{color:8421504,borderColor:4737096,rounded:!0}})),h=o(b=>({idString:`mobile_home_wall_${b}`,name:`Mobile Home Wall ${b}`,material:"appliance",noResidue:!0,hideOnMap:!0,health:240,scale:{spawnMin:1,spawnMax:1,destroy:.95},rotationMode:1,allowFlyover:2,frames:{particle:"briefcase_particle"},wall:{borderColor:6710886,color:12566463},role:j.Wall})),p=o((b,v)=>({idString:`tent_wall_${b}`,name:`Tent Wall ${b}`,material:"stone",hideOnMap:!0,noResidue:!0,health:100,scale:{spawnMin:1,spawnMax:1,destroy:.95},rotationMode:1,allowFlyover:2,hitbox:new T(a.fromRect(26.1,1.25,e.create(0,-.75)),a.fromRect(1.25,2.8,e.create(-12.9,0)),a.fromRect(1.25,2.8,e.create(12.9,0))),particleVariations:3,frames:{base:"tent_wall",particle:`tent_ceiling_particle_${v}`},tint:ye[v],role:j.Wall})),u=o((b,v,P)=>({idString:b.toLowerCase().replace(/'/g,"").replace(/ /g,"_"),name:b,material:"wood",health:100,noResidue:!0,scale:{spawnMin:1,spawnMax:1,destroy:.9},hideOnMap:!0,hitbox:a.fromRect(12.8,1.6),rotationMode:1,allowFlyover:2,role:j.Wall,wall:{borderColor:P.borderColor,color:P.color},frames:{particle:v}})),y=o((b,v)=>({idString:`tent_wall_big_${b}`,name:`Big Tent Wall ${b}`,material:"stone",hideOnMap:!0,noResidue:!0,health:200,scale:{spawnMin:1,spawnMax:1,destroy:.95},rotationMode:1,allowFlyover:2,hitbox:new T(a.fromRect(1.25,6.5,e.create(-3.425,-.5)),a.fromRect(10.5,1.25,e.create(0,3.5)),a.fromRect(9,1.25,e.create(-17.45,3.5)),a.fromRect(9,1.25,e.create(17.45,3.5)),a.fromRect(1.25,8.7,e.create(-21.5,-.3)),a.fromRect(1.25,8.7,e.create(21.5,-.3))),particleVariations:2,frames:{base:"tent_wall_big",particle:`tent_ceiling_particle_${v}`},tint:ye[v],role:j.Wall})),I=o(b=>({idString:`gun_mount_${b}`,name:"Gun Mount",material:"wood",health:60,scale:{spawnMin:1,spawnMax:1,destroy:.95},hasLoot:!0,hitbox:new T(a.fromRect(8.2,.95,e.create(0,-1.32)),a.fromRect(.75,2.75,e.create(0,.48)),a.fromRect(.75,2.75,e.create(-3.11,.48)),a.fromRect(.75,2.75,e.create(3.17,.48))),rotationMode:1,frames:{particle:"furniture_particle",residue:"gun_mount_residue"}})),R=o(b=>({idString:`kitchen_unit_${b}`,name:"Kitchen Unit",material:"wood",health:100,scale:{spawnMin:1,spawnMax:1,destroy:.7},hideOnMap:!0,hasLoot:!0,rotationMode:1,allowFlyover:0})),x=o((b,v)=>({idString:b,name:v,material:"metal_light",health:200,reflectBullets:!0,scale:{spawnMin:1,spawnMax:1,destroy:.7},hitbox:a.fromRect(11,8),rotationMode:1,explosion:"control_panel_explosion",frames:{particle:"metal_particle",residue:"barrel_residue"}})),S=(...b)=>b.flatMap(v=>{var O,A;const[P,D]=Array.isArray(v)?v:[v];return[P,{[t]:P.idString,idString:`${P.idString}_snow`,variations:D,frames:{particle:((O=P.frames)==null?void 0:O.particle)??`${P.idString}_particle`,residue:P.noResidue?void 0:((A=P.frames)==null?void 0:A.residue)??`${P.idString}_residue`},lootTable:P.hasLoot||P.spawnWithLoot?P.lootTable??P.idString:void 0}]});return[s([{name:"Oak Tree",health:180,scaleProps:{spawnMin:.9,spawnMax:1.2,destroy:.75},spawnHitbox:new f(8.5),rotationMode:0,hitbox:new f(3.5),variations:6}]),s([{name:"Dormant Oak Tree",health:120,scaleProps:{spawnMin:.9,spawnMax:1.1,destroy:.75},spawnHitbox:new f(8.5),rotationMode:0,hitbox:new f(2.5),variations:2,allowFlyOver:2,zIndex:k.ObstaclesLayer4}]),s([{name:"Maple Tree",health:290,scaleProps:{spawnMin:.9,spawnMax:1.2,destroy:.75},spawnHitbox:new f(20),rotationMode:0,hitbox:new f(5.5),variations:3,allowFlyOver:2}]),s([{name:"Pine Tree",health:180,scaleProps:{spawnMin:.9,spawnMax:1.1,destroy:.75},hitbox:new f(2.5),spawnHitbox:new f(8.5),rotationMode:0,allowFlyOver:2}]),s([{name:"Birch Tree",health:240,scaleProps:{spawnMin:.9,spawnMax:1.1,destroy:.75},hitbox:new f(3.5),spawnHitbox:new f(8.5),rotationMode:0,variations:2,allowFlyOver:2}]),s([{name:"Christmas Tree",health:720,scaleProps:{spawnMin:.9,spawnMax:1.1,destroy:.75},hitbox:new f(10),spawnHitbox:new f(15),rotationMode:0,allowFlyOver:2,hasLoot:!0}]),...S([{idString:"oil_tank",name:"Oil Tank",material:"metal_heavy",health:1e3,indestructible:!0,hitbox:new T(a.fromRect(16.8,13.6),a.fromRect(26,2),new f(5,e.create(-8,1.8)),new f(5,e.create(-8,-1.8)),new f(5,e.create(8,1.8)),new f(5,e.create(8,-1.8))),spawnHitbox:a.fromRect(28,18),rotationMode:1,allowFlyover:2,noResidue:!0,frames:{particle:"metal_particle"},reflectBullets:!0},2]),{idString:"stump",name:"Stump",material:"tree",health:180,scale:{spawnMin:.9,spawnMax:1,destroy:.5},hitbox:new f(2.9),rotationMode:0},{idString:"hatchet_stump",name:"Hatchet Stump",material:"tree",health:180,scale:{spawnMin:1,spawnMax:1,destroy:.5},hitbox:new f(2.9),rotationMode:3,hasLoot:!0,frames:{particle:"stump_particle",residue:"stump_residue"}},{idString:"rock",name:"Rock",material:"stone",health:200,scale:{spawnMin:.9,spawnMax:1.1,destroy:.5},spawnMode:ce.GrassAndSand,hitbox:new f(4),spawnHitbox:new f(4.5),rotationMode:0,variations:7,particleVariations:2},{idString:"river_rock",name:"River Rock",material:"stone",health:550,scale:{spawnMin:.9,spawnMax:1.1,destroy:.5},spawnMode:ce.River,zIndex:k.UnderwaterPlayers-1,hitbox:new f(8),spawnHitbox:new f(9),rotationMode:0,variations:5,particleVariations:2},{idString:"clearing_boulder",name:"Clearing Boulder",material:"stone",health:850,scale:{spawnMin:1,spawnMax:1.2,destroy:.5},spawnMode:ce.Grass,hitbox:new f(8.2),spawnHitbox:new f(12),rotationMode:0,variations:2,particleVariations:2},{idString:"pebble",name:"Pebble",material:"stone",health:200,indestructible:!0,noCollisions:!0,noMeleeCollision:!0,noBulletCollision:!0,scale:{spawnMin:.8,spawnMax:1.2,destroy:0},spawnMode:ce.Trail,hitbox:new f(.5),spawnHitbox:new f(.5),rotationMode:0,variations:2},{idString:"pumpkin",name:"Pumpkin",material:"pumpkin",health:100,scale:{spawnMin:.9,spawnMax:1.1,destroy:.5},hitbox:new f(2.55),spawnHitbox:new f(3),rotationMode:0,allowFlyover:0,hasLoot:!0,frames:{particle:"pumpkin_particle"}},{idString:"large_pumpkin",name:"Large Pumpkin",material:"pumpkin",health:160,scale:{spawnMin:.9,spawnMax:1.1,destroy:.5},hitbox:new f(4.69),rotationMode:0,allowFlyover:0,hasLoot:!0,frames:{particle:"pumpkin_particle",residue:"pumpkin_residue"}},{idString:"jack_o_lantern",name:"Jack O' Lantern",material:"pumpkin",health:300,scale:{spawnMin:.9,spawnMax:1.1,destroy:.5},glow:{tint:16556546,scale:.6,alpha:.8,scaleAnim:{to:.7,duration:2e3},flicker:{chance:.5,strength:.9,interval:700}},hitbox:new f(4.69),rotationMode:0,allowFlyover:0,hasLoot:!0,frames:{particle:"pumpkin_particle",residue:"pumpkin_residue"}},{idString:"baby_plumpkin",name:"Baby Plumpkin",material:"pumpkin",health:100,scale:{spawnMin:.9,spawnMax:1.1,destroy:.5},hitbox:new f(1.83),spawnHitbox:new f(2),rotationMode:0,allowFlyover:0,frames:{particle:"plumpkin_particle"},weaponSwap:!0},{idString:"plumpkin",name:"Plumpkin",material:"pumpkin",health:300,scale:{spawnMin:.9,spawnMax:1.1,destroy:.5},hitbox:new f(4.69),spawnHitbox:new f(5),rotationMode:0,allowFlyover:0,frames:{particle:"plumpkin_particle"},hasLoot:!0},{idString:"diseased_plumpkin",name:"Diseased Plumpkin",material:"pumpkin",health:200,hideOnMap:!0,scale:{spawnMin:.9,spawnMax:1.1,destroy:.5},glow:{tint:6567252,scale:.6,alpha:.8,scaleAnim:{to:.7,duration:3e3}},hitbox:new f(4.45),spawnHitbox:new f(5),rotationMode:0,allowFlyover:0,hasLoot:!0},{idString:"birthday_cake",name:"Birthday Cake",material:"pumpkin",health:70,scale:{spawnMin:.9,spawnMax:1.1,destroy:.75},hitbox:new f(1.9),spawnHitbox:new f(2.9),rotationMode:0,allowFlyover:0,hasLoot:!0},{idString:"cobweb",name:"Cobweb",material:"stone",health:69420,indestructible:!0,scale:{spawnMin:1,spawnMax:1,destroy:0},hitbox:a.fromRect(9,9),noCollisions:!0,noMeleeCollision:!0,noBulletCollision:!0,rotationMode:1,allowFlyover:0,zIndex:k.ObstaclesLayer4},...S([{idString:"flint_stone",name:"Flint Stone",material:"stone",health:200,impenetrable:!0,hasLoot:!0,scale:{spawnMin:1,spawnMax:1,destroy:.5},spawnMode:ce.GrassAndSand,hitbox:a.fromRect(6.1,6.1),rotationMode:3,particleVariations:2}]),{idString:"bush",name:"Bush",material:"bush",health:80,scale:{spawnMin:.9,spawnMax:1.1,destroy:.8},hitbox:new f(4.2),noCollisions:!0,rotationMode:0,particleVariations:2,zIndex:k.ObstaclesLayer3},{idString:"vibrant_bush",name:"Vibrant Bush",material:"bush",health:120,scale:{spawnMin:.9,spawnMax:1.1,destroy:.8},hitbox:new f(5.4),noCollisions:!0,spawnWithLoot:!0,lootTable:"special_bush",rotationMode:0,particleVariations:2,variations:3,zIndex:k.ObstaclesLayer3},{idString:"detector_walls",name:"Detector Walls",material:"iron",health:1e3,reflectBullets:!0,indestructible:!0,hitbox:new T(a.fromRect(1,9.1,e.create(4,0)),a.fromRect(1,9,e.create(-3.9,.1))),noResidue:!0,rotationMode:1,frames:{particle:"metal_particle"}},{idString:"detector_top",name:"Detector Top",material:"iron",health:1e3,detector:!0,indestructible:!0,noBulletCollision:!0,noMeleeCollision:!0,hitbox:a.fromRect(9,3),noCollisions:!0,noResidue:!0,rotationMode:1,frames:{particle:"metal_particle"},zIndex:k.ObstaclesLayer3},{idString:"blueberry_bush",name:"Blueberry Bush",material:"bush",health:80,scale:{spawnMin:.9,spawnMax:1.1,destroy:.8},hitbox:new f(4.2),noCollisions:!0,rotationMode:0,particleVariations:2,zIndex:k.ObstaclesLayer3,spawnWithLoot:!0,lootTable:"special_bush",frames:{particle:"bush_particle",residue:"bush_residue"}},{idString:"oak_leaf_pile",name:"Oak Leaf Pile",material:"bush",health:50,scale:{spawnMin:.9,spawnMax:1.3,destroy:.8},hitbox:new f(5),noCollisions:!0,noResidue:!0,rotationMode:0,zIndex:k.ObstaclesLayer3,frames:{particle:"leaf_particle_3"}},...S([n({idString:"regular_crate",name:"Regular Crate",rotationMode:2,frames:{particle:"crate_particle",residue:"regular_crate_residue"}}),6],[n({idString:"flint_crate",name:"Flint Crate",rotationMode:3,hideOnMap:!0}),6],[n({idString:"aegis_crate",name:"AEGIS Crate",rotationMode:3,hideOnMap:!0}),6],[n({idString:"grenade_crate",name:"Grenade Crate",hitbox:a.fromRect(6.5,6.3),rotationMode:3,allowFlyover:0}),3]),n({idString:"melee_crate",name:"Melee Crate",hitbox:a.fromRect(6.5,6.3),rotationMode:3,allowFlyover:0}),n({idString:"hazel_crate",name:"Hazel Crate",rotationMode:2,health:1700,frames:{particle:"hazel_crate_particle",residue:"hazel_crate_residue"}}),{idString:"ammo_crate",name:"Ammo Crate",material:"cardboard",health:160,impenetrable:!0,scale:{spawnMin:1,spawnMax:1,destroy:.6},spawnMode:ce.GrassAndSand,hitbox:a.fromRect(8.49,8.36),rotationMode:1,hasLoot:!0,frames:{particle:"crate_particle"}},{idString:"hq_desk_left",name:"Headquarters Desk",material:"wood",health:120,scale:{spawnMin:1,spawnMax:1,destroy:.8},hitbox:new T(a.fromRect(18.25,5.25,e.create(0,-3)),a.fromRect(4.5,11,e.create(-6.8,0))),rotationMode:1,hasLoot:!0,lootTable:"small_drawer",frames:{particle:"headquarters_desk_particle"}},{idString:"hq_desk_right",name:"Headquarters Desk",material:"wood",health:120,scale:{spawnMin:1,spawnMax:1,destroy:.8},hitbox:new T(a.fromRect(18.25,5.25,e.create(0,-3)),a.fromRect(4.5,11,e.create(6.8,0))),rotationMode:1,hasLoot:!0,lootTable:"small_drawer",frames:{particle:"headquarters_desk_particle"}},{idString:"square_desk",name:"Square Desk",material:"wood",health:120,indestructible:!0,scale:{spawnMin:1,spawnMax:1,destroy:.8},hitbox:new T(a.fromRect(18.55,3.76,e.create(0,-7.39)),a.fromRect(18.55,3.76,e.create(0,7.39)),a.fromRect(6.02,14.27,e.create(6.27,0)),a.fromRect(3.77,3.37,e.create(-7.39,-4.57)),a.fromRect(3.77,3.37,e.create(-7.39,4.57))),rotationMode:1},{idString:"piano",name:"Piano",material:"piano",health:350,hitSoundVariations:8,indestructible:!0,scale:{spawnMin:1,spawnMax:1,destroy:.95},hitbox:new T(a.fromRect(12.9,3,e.create(.1,-6.5)),a.fromRect(11,5,e.create(.1,-3)),a.fromRect(7,5,e.create(3.5,2.5)),a.fromRect(2,8,e.create(6,0)),new f(1.6,e.create(-5.1,-4)),new f(1.6,e.create(-4.5,-2)),new f(1.6,e.create(-3,-1)),new f(1.6,e.create(.5,3)),new f(1.6,e.create(0,2)),new f(1.6,e.create(-.5,1)),new f(1.6,e.create(-1,.5)),new f(1,e.create(6,-4.5)),new f(.8,e.create(-6.4,-4.8)),new f(2.8,e.create(3.5,5)),new f(3,e.create(4,5)),new f(3,e.create(3,4))),rotationMode:1,noResidue:!0,frames:{particle:"furniture_particle"}},{idString:"rocket_box",name:"Firework rocket box",material:"cardboard",health:45,scale:{spawnMin:1,spawnMax:1,destroy:.6},spawnMode:ce.GrassAndSand,hitbox:a.fromRect(4,4),rotationMode:1,hasLoot:!0,frames:{particle:"box_particle",residue:"box_residue"}},{idString:"confetti_grenade_box",name:"Confetti grenade box",material:"cardboard",health:45,scale:{spawnMin:1,spawnMax:1,destroy:.6},spawnMode:ce.GrassAndSand,hitbox:a.fromRect(4,4),rotationMode:1,hasLoot:!0,frames:{particle:"box_particle",residue:"box_residue"}},...S([{idString:"tear_gas_crate",name:"Tear Gas Crate",material:"crate",health:100,scale:{spawnMin:1,spawnMax:1,destroy:.6},spawnMode:ce.GrassAndSand,hitbox:a.fromRect(9.15,6.3),rotationMode:1,allowFlyover:0,frames:{particle:"crate_particle",residue:"regular_crate_residue"},particlesOnDestroy:{type:"tear_gas_particle",count:10,deployAnimation:{duration:4e3,staggering:{delay:300,initialAmount:2}},spawnRadius:15},additionalDestroySounds:["smoke_grenade"]}]),...S([{idString:"barrel",name:"Barrel",material:"metal_light",health:160,scale:{spawnMin:1,spawnMax:1,destroy:.5},spawnMode:ce.GrassAndSand,hitbox:new f(3.75),rotationMode:0,explosion:"barrel_explosion",frames:{particle:"metal_particle"},reflectBullets:!0},3],[{idString:"super_barrel",name:"Super Barrel",material:"metal_light",health:240,scale:{spawnMin:1,spawnMax:1,destroy:.5},spawnMode:ce.GrassAndSand,hitbox:new f(3.75),rotationMode:0,explosion:"super_barrel_explosion",reflectBullets:!0},3]),{idString:"loot_barrel",name:"Loot Barrel",material:"metal_light",hideOnMap:!0,health:160,scale:{spawnMin:1,spawnMax:1,destroy:.5},spawnMode:ce.GrassAndSand,hasLoot:!0,hitbox:new f(3.75),rotationMode:0,explosion:"barrel_explosion",reflectBullets:!0,frames:{particle:"metal_particle",residue:"barrel_residue"}},{idString:"airdrop_crate_locked",name:"Airdrop",material:"metal_light",health:1e4,indestructible:!0,reflectBullets:!0,hitbox:a.fromRect(8.7,8.7),spawnHitbox:a.fromRect(10,10),rotationMode:3,hideOnMap:!0,role:j.Activatable,zIndex:k.ObstaclesLayer2,sound:{name:"airdrop_unlock",maxRange:64,falloff:.3},replaceWith:{idString:{airdrop_crate:.95,gold_airdrop_crate:.05},delay:800},noResidue:!0,frames:{particle:"metal_particle"}},{idString:"airdrop_crate",name:"Airdrop Crate",material:"crate",health:150,scale:{spawnMin:1,spawnMax:1,destroy:.5},hitbox:new T(a.fromRect(8.7,8.7)),spawnHitbox:a.fromRect(10,10),hideOnMap:!0,rotationMode:3,hasLoot:!0},{idString:"gold_airdrop_crate",name:"Gold Airdrop Crate",material:"crate",health:170,scale:{spawnMin:1,spawnMax:1,destroy:.5},hitbox:new T(a.fromRect(8.7,8.7)),spawnHitbox:a.fromRect(10,10),rotationMode:3,hideOnMap:!0,hasLoot:!0,frames:{particle:"airdrop_crate_particle"}},{idString:"gold_rock",name:"Gold Rock",material:"stone",hideOnMap:!0,health:250,scale:{spawnMin:.9,spawnMax:1.1,destroy:.3},hitbox:new f(4),spawnHitbox:new f(4.5),particleVariations:2,rotationMode:0,hasLoot:!0},{idString:"loot_tree",name:"Loot Tree",material:"stone",hideOnMap:!0,health:250,scale:{spawnMin:.9,spawnMax:1,destroy:.75},hitbox:new f(5.5),spawnHitbox:new f(15),rotationMode:0,zIndex:k.ObstaclesLayer4,allowFlyover:2,hasLoot:!0},{idString:"box",name:"Box",material:"cardboard",health:60,scale:{spawnMin:1,spawnMax:1,destroy:.8},hitbox:a.fromRect(4.4,4.4),rotationMode:1,variations:3,zIndex:k.ObstaclesLayer2,hasLoot:!0},{idString:"hq_large_cart",name:"Large Cart",material:"iron",health:210,indestructible:!0,hideOnMap:!0,invisible:!0,scale:{spawnMin:1,spawnMax:1,destroy:.95},hitbox:new T(a.fromRect(1.6,10.8,e.create(-16.5,.2)),a.fromRect(1.6,10.8,e.create(1.5,.2))),rotationMode:1,reflectBullets:!0,noResidue:!0,frames:{particle:"file_cart_particle"}},{idString:"file_cart",name:"File Cart",material:"iron",health:210,hideOnMap:!0,scale:{spawnMin:1,spawnMax:1,destroy:.95},hitbox:new T(a.fromRect(11,5.7)),rotationMode:1,reflectBullets:!0,frames:{particle:"file_cart_particle"}},r([1],{hitbox:a.fromRect(9,2)}),r([2],{hitbox:a.fromRect(20.86,2)}),r([3],{hitbox:a.fromRect(11.4,2)}),r([4],{hitbox:a.fromRect(21.4,2)}),r([5],{hitbox:a.fromRect(16,2)}),r([6],{hitbox:a.fromRect(15.1,2)}),r([7],{hitbox:a.fromRect(20.6,2)}),r([8],{hitbox:a.fromRect(10.7,2)}),r([9],{hitbox:a.fromRect(17.7,2)}),r([10],{hitbox:a.fromRect(20.6,2)}),r([11],{hitbox:a.fromRect(11.6,2)}),r([12],{hitbox:a.fromRect(16.2,2)}),r([14],{hitbox:a.fromRect(17,2)}),r([15],{hitbox:a.fromRect(12.1,2)}),r([16],{hitbox:a.fromRect(10.5,2)}),r([17],{hitbox:a.fromRect(22.5,2)}),r([13,{color:7636363,border:2304042,particle:"hq_tp_wall_particle"}],{hitbox:a.fromRect(9,2)}),l([1],{hitbox:a.fromRect(11.4,2)}),l([2],{hitbox:a.fromRect(21.05,2)}),l([3],{hitbox:a.fromRect(9.1,2)}),l([4],{hitbox:a.fromRect(16,2.1)}),l([5],{hitbox:a.fromRect(11.2,2)}),l([6],{hitbox:a.fromRect(39.2,2)}),l([7,!0],{hitbox:a.fromRect(3.2,1.6)}),l([8,!0],{hitbox:a.fromRect(3.5,1.6)}),l([9],{hitbox:a.fromRect(21,2.1)}),d(["1",9.15]),d(["2",9.7]),d(["3",9.82]),d(["4",15.08]),d(["5",19.77]),d(["6",20.44]),d(["7",26.15]),d(["8",27.03]),{idString:"lodge_secret_room_wall",name:"Lodge Secret Room Wall",material:"wood",hideOnMap:!0,noResidue:!0,health:100,scale:{spawnMin:1,spawnMax:1,destroy:.95},hitbox:a.fromRect(17.62,1.91),rotationMode:1,allowFlyover:2,frames:{particle:"lodge_wall_particle"},role:j.Wall},p([1,"red"]),p([2,"green"]),p([3,"blue"]),p([4,"orange"]),p([5,"purple"]),y([1,"red"]),y([2,"green"]),y([3,"blue"]),y([4,"orange"]),u(["Porta Potty Back Wall","porta_potty_wall_particle",{color:1864152,borderColor:865637}],{hitbox:a.fromRect(12.8,1.6)}),u(["Porta Potty Front Wall","porta_potty_wall_particle",{color:1864152,borderColor:865637}],{hitbox:a.fromRect(3,1.6)}),u(["Outhouse Back Wall","outhouse_wall_particle",{color:7228719,borderColor:2497300}],{hitbox:a.fromRect(11.71,1.81)}),u(["Outhouse Side Wall","outhouse_wall_particle",{color:7228719,borderColor:2497300}],{hitbox:a.fromRect(1.81,19.2)}),u(["Outhouse Front Wall","outhouse_wall_particle",{color:7228719,borderColor:2497300}],{hitbox:a.fromRect(2.8,1.81)}),{idString:"fridge",name:"Fridge",material:"appliance",health:140,scale:{spawnMin:1,spawnMax:1,destroy:.8},hasLoot:!0,hitbox:a.fromRect(9.1,6.45,e.create(0,-.2)),rotationMode:1,allowFlyover:2,frames:{particle:"metal_particle"},reflectBullets:!0},{idString:"water_cooler",name:"Cool Water",material:"appliance",health:125,scale:{spawnMin:1,spawnMax:1,destroy:.8},hitbox:new T(a.fromRect(6,5,e.create(0,-.2)),a.fromRect(5.7,.25,e.create(0,2.5))),rotationMode:1,allowFlyover:2,frames:{particle:"briefcase_particle"}},{idString:"stove",name:"Stove",material:"metal_light",health:140,scale:{spawnMin:1,spawnMax:1,destroy:.8},hitbox:a.fromRect(9.1,6.45,e.create(0,-.2)),rotationMode:1,explosion:"stove_explosion",frames:{particle:"metal_particle"},reflectBullets:!0},{idString:"small_stove",name:"Small Stove",material:"metal_light",health:140,scale:{spawnMin:1,spawnMax:1,destroy:.8},hideOnMap:!0,hitbox:a.fromRect(6.9,6.64,e.create(0,-.3)),rotationMode:1,explosion:"stove_explosion",frames:{particle:"metal_particle",residue:"stove_residue"},reflectBullets:!0},{idString:"fireplace",name:"Fireplace",material:"metal_light",health:300,scale:{spawnMin:1,spawnMax:1,destroy:.9},hideOnMap:!0,hitbox:a.fromRect(15.05,7.71,e.create(0,-.3)),rotationMode:1,explosion:"fireplace_explosion",frames:{particle:"metal_particle",residue:"stove_residue"},reflectBullets:!0},{idString:"fire_pit",name:"Fire Pit",material:"stone",health:400,scale:{spawnMin:1,spawnMax:1,destroy:.7},hitbox:new f(6.35),rotationMode:0,particleVariations:2,frames:{particle:"fire_pit_particle"},noBulletCollision:!0},{idString:"speaker",name:"Speaker",material:"iron",health:160,indestructible:!0,scale:{spawnMin:1,spawnMax:1,destroy:.8},sound:{name:"speaker_start",maxRange:30,falloff:.25},noResidue:!0,hitbox:a.fromRect(6,5,e.create(0,-.1)),rotationMode:1,role:j.Activatable,allowFlyover:2,frames:{particle:"metal_particle"},reflectBullets:!0},{idString:"vending_machine",name:"Vending Machine",material:"appliance",health:165,scale:{spawnMin:1,spawnMax:1,destroy:.8},hasLoot:!0,hitbox:a.fromRect(9.25,6.45,e.create(0,-.2)),rotationMode:1,allowFlyover:2,frames:{particle:"super_barrel_particle"},reflectBullets:!0},{idString:"washing_machine",name:"Washing Machine",material:"appliance",health:140,scale:{spawnMin:1,spawnMax:1,destroy:.8},hasLoot:!0,hitbox:a.fromRect(9.1,6.45,e.create(0,-.2)),rotationMode:1,reflectBullets:!0},{idString:"door",name:"Door",material:"wood",health:120,scale:{spawnMin:1,spawnMax:1,destroy:1},hitbox:a.fromRect(10.15,1.6,e.create(-.44,0)),rotationMode:1,noResidue:!0,role:j.Door,hingeOffset:e.create(-5.5,0),zIndex:k.ObstaclesLayer3,frames:{particle:"furniture_particle"}},{idString:"barn_door",name:"Barn Door",material:"wood",doorSound:"barn_door",health:150,scale:{spawnMin:1,spawnMax:1,destroy:1},hitbox:a.fromRect(12.7,1.6,e.create(.85,0)),rotationMode:1,noResidue:!0,animationDuration:600,role:j.Door,hingeOffset:e.create(-5.5,0),zIndex:k.ObstaclesLayer3,frames:{particle:"furniture_particle"}},{idString:"aegis_golden_case",name:"Golden Aegis Case",material:"wood",health:150,scale:{spawnMin:1,spawnMax:1,destroy:.9},hitbox:new T(a.fromRect(11,6,e.create(0,-.2)),a.fromRect(1,.4,e.create(-3.6,3)),a.fromRect(1,.4,e.create(3.8,3))),rotationMode:1,allowFlyover:0,hasLoot:!0,frames:{particle:"gold_aegis_case_particle"}},{idString:"falchion_case",name:"Falchion Case",material:"glass",health:200,scale:{spawnMin:1,spawnMax:1,destroy:.9},hitbox:new T(a.fromRect(13,6)),hasLoot:!0,rotationMode:1,allowFlyover:0,frames:{particle:"window_particle"}},...S([{idString:"dumpster",name:"Dumpster",material:"iron",reflectBullets:!0,hasLoot:!0,health:300,scale:{spawnMin:1,spawnMax:1,destroy:.9},hitbox:new T(a.fromRect(6.5,12.5,e.create(.2,0)),a.fromRect(5.8,.8,e.create(.25,6.4)),a.fromRect(5.8,.8,e.create(.25,-6.4))),rotationMode:1,allowFlyover:0},2],[{idString:"trash_bag",name:"Trash Bag",material:"trash_bag",health:70,scale:{spawnMin:1,spawnMax:1,destroy:.9},hitbox:new f(2.2),rotationMode:0,allowFlyover:0,hasLoot:!0,lootTable:"trash",frames:{particle:"flint_stone_particle"},particleVariations:2}]),{idString:"hay_bale",name:"Hay Bale",material:"bush",hideOnMap:!0,health:180,scale:{spawnMin:1,spawnMax:1,destroy:.9},hitbox:a.fromRect(11.91,10.2),rotationMode:1,allowFlyover:0,particleVariations:2},{idString:"secret_door",name:"Secret Door",material:"wood",noInteractMessage:!0,health:120,scale:{spawnMin:1,spawnMax:1,destroy:1},hitbox:a.fromRect(11,1.75,e.create(-.8,0)),rotationMode:1,noResidue:!0,role:j.Door,hingeOffset:e.create(-5.5,0),frames:{particle:"furniture_particle"}},{idString:"glass_door",name:"Glass Door",material:"glass",doorSound:"auto_door",health:100,scale:{spawnMin:1,spawnMax:1,destroy:1},hitbox:a.fromRect(10.86,1.13),rotationMode:1,noResidue:!0,role:j.Door,automatic:!0,hideWhenOpen:!0,operationStyle:"slide",slideFactor:.9,frames:{particle:"window_particle"}},{idString:"bigger_glass_door",name:"Bigger Glass Door",material:"glass",doorSound:"auto_door",health:100,scale:{spawnMin:1,spawnMax:1,destroy:1},hitbox:a.fromRect(10.86,1.14),rotationMode:1,noResidue:!0,role:j.Door,automatic:!0,hideWhenOpen:!0,operationStyle:"slide",slideFactor:.9,frames:{particle:"window_particle"}},{idString:"red_metal_auto_door",name:"Red Metal Automatic Door",material:"metal_heavy",doorSound:"metal_auto_door",locked:!0,openOnce:!0,indestructible:!0,reflectBullets:!0,health:100,hitbox:a.fromRect(10.5,1.62),rotationMode:1,noResidue:!0,role:j.Door,hideWhenOpen:!0,operationStyle:"slide",slideFactor:.9,animationDuration:500,frames:{base:"auto_door"},tint:4200986},{idString:"blue_metal_auto_door",name:"Blue Metal Automatic Door",material:"metal_heavy",doorSound:"metal_auto_door",locked:!0,openOnce:!0,indestructible:!0,reflectBullets:!0,health:100,hitbox:a.fromRect(10.5,1.62),rotationMode:1,noResidue:!0,role:j.Door,hideWhenOpen:!0,operationStyle:"slide",slideFactor:.9,animationDuration:500,frames:{base:"auto_door"},tint:1710656},{idString:"metal_auto_door",name:"Metal Automatic Door",material:"metal_heavy",doorSound:"metal_auto_door",health:100,indestructible:!0,reflectBullets:!0,hitbox:a.fromRect(10.5,1.62),rotationMode:1,noResidue:!0,role:j.Door,automatic:!0,hideWhenOpen:!0,operationStyle:"slide",slideFactor:.9,animationDuration:500,frames:{base:"auto_door",particle:"metal_auto_door_particle"},tint:4210752},{idString:"metal_door",name:"Metal Door",material:"metal_heavy",reflectBullets:!0,doorSound:"metal_door",indestructible:!0,collideWithLayers:De.Adjacent,health:500,scale:{spawnMin:1,spawnMax:1,destroy:1},hitbox:a.fromRect(10.46,1.69,e.create(-.25,0)),rotationMode:1,noResidue:!0,animationDuration:80,role:j.Door,hingeOffset:e.create(-5.5,0),frames:{particle:"metal_particle"}},{idString:"vault_door",name:"Vault Door",material:"metal_heavy",health:1e3,indestructible:!0,reflectBullets:!0,hitbox:a.fromRect(14.2,1.9,e.create(1.1,-.4)),rotationMode:1,role:j.Door,locked:!0,openOnce:!0,doorSound:"vault_door",animationDuration:2e3,hingeOffset:e.create(-6.1,-.8),zIndex:k.ObstaclesLayer3,frames:{particle:"metal_particle"}},{idString:"tent_window",name:"Tent Window",material:"wood",indestructible:!0,noBulletCollision:!0,noMeleeCollision:!0,health:100,role:j.Window,invisible:!0,noHitEffect:!0,hitbox:a.fromRect(7.6,2.5),rotationMode:1,zIndex:k.ObstaclesLayer3,frames:{}},{idString:"windowed_vault_door",name:"Windowed Vault Door",material:"metal_heavy",health:1e3,indestructible:!0,reflectBullets:!0,hitbox:a.fromRect(12.83,1.9,e.create(0,-.4)),rotationMode:1,zIndex:k.ObstaclesLayer3,frames:{particle:"metal_particle"}},{idString:"toilet",name:"Toilet",material:"porcelain",health:100,scale:{spawnMin:1,spawnMax:1,destroy:.8},hitbox:new f(2.5),allowFlyover:0,rotationMode:1,hasLoot:!0},{idString:"used_toilet",name:"Used Toilet",material:"porcelain",health:100,scale:{spawnMin:1,spawnMax:1,destroy:.8},hitbox:new f(2.5),allowFlyover:0,rotationMode:1,hasLoot:!0,frames:{particle:"toilet_particle",residue:"toilet_residue"}},{idString:"sink",name:"Sink",material:"wood",health:100,scale:{spawnMin:1,spawnMax:1,destroy:.7},hideOnMap:!0,hasLoot:!0,hitbox:a.fromRect(9.5,6.63,e.create(0,-.47)),rotationMode:1,allowFlyover:0,frames:{particle:"furniture_particle"}},{idString:"sink2",name:"Sink",material:"porcelain",health:120,scale:{spawnMin:1,spawnMax:1,destroy:.8},hitbox:a.fromRect(7.32,5.79,e.create(0,-.52)),allowFlyover:0,rotationMode:1,frames:{particle:"toilet_particle"},hideOnMap:!0,hasLoot:!0},{idString:"bathtub",name:"Bathtub",material:"appliance",health:180,scale:{spawnMin:1,spawnMax:1,destroy:.8},hitbox:a.fromRect(17.72,9.29),allowFlyover:1,rotationMode:1,frames:{particle:"toilet_particle"},hideOnMap:!0},{idString:"small_drawer",name:"Small Drawer",material:"wood",health:80,scale:{spawnMin:1,spawnMax:1,destroy:.8},hitbox:a.fromRect(6.2,6,e.create(0,-.5)),rotationMode:1,allowFlyover:0,hasLoot:!0,frames:{particle:"furniture_particle"}},{idString:"filing_cabinet",name:"Filing Cabinet",material:"iron",health:125,scale:{spawnMin:1,spawnMax:1,destroy:.8},hitbox:a.fromRect(6.2,6,e.create(0,-.4)),rotationMode:1,reflectBullets:!0,allowFlyover:0,hasLoot:!0},{idString:"large_drawer",name:"Large Drawer",material:"wood",health:80,scale:{spawnMin:1,spawnMax:1,destroy:.8},hideOnMap:!0,hitbox:a.fromRect(12.5,6,e.create(0,-.5)),rotationMode:1,allowFlyover:0,hasLoot:!0,frames:{particle:"furniture_particle"}},{idString:"couch",name:"Couch",material:"wood",health:100,scale:{spawnMin:1,spawnMax:1,destroy:.9},hideOnMap:!0,hitbox:a.fromRect(6.85,15.4,e.create(-.3,0)),rotationMode:1},{idString:"white_small_couch",name:"White Small Couch",material:"wood",health:95,scale:{spawnMin:1,spawnMax:1,destroy:.9},hideOnMap:!0,hitbox:new T(a.fromRect(5,5),a.fromRect(2,7,e.create(-3.5,0)),a.fromRect(2,7,e.create(3.5,0)),a.fromRect(7,2,e.create(0,-2.5))),rotationMode:1,frames:{particle:"white_small_couch_particle"}},{idString:"red_small_couch",name:"Red Small Couch",material:"wood",health:95,scale:{spawnMin:1,spawnMax:1,destroy:.9},hideOnMap:!0,tint:8532771,hitbox:new T(a.fromRect(5,5),a.fromRect(2,7,e.create(-3.5,0)),a.fromRect(2,7,e.create(3.5,0)),a.fromRect(7,2,e.create(0,-2.5))),rotationMode:1,frames:{base:"white_small_couch",residue:"white_small_couch_residue",particle:"red_small_couch_particle"}},{idString:"couch_part",name:"Couch Part",material:"wood",health:95,scale:{spawnMin:1,spawnMax:1,destroy:.9},hideOnMap:!0,hitbox:new T(a.fromRect(5,5),a.fromRect(1.5,6,e.create(-2.5,0)),new f(2.5,e.create(.9,0))),rotationMode:1,frames:{particle:"couch_part_particle",residue:"brown_couch_part_residue"}},{idString:"couch_corner",name:"Couch Corner",material:"wood",health:95,scale:{spawnMin:1,spawnMax:1,destroy:.9},hideOnMap:!0,hitbox:new T(a.fromRect(5,5,e.create(.6,.6)),a.fromRect(1.5,5,e.create(-2.5,.6)),a.fromRect(5,1.5,e.create(.6,-2.5)),new f(.8,e.create(-2.4,-2.4))),rotationMode:1,frames:{particle:"couch_part_particle",residue:"brown_couch_part_residue"}},{idString:"couch_end_right",name:"Couch Part",material:"wood",health:95,scale:{spawnMin:1,spawnMax:1,destroy:.9},hideOnMap:!0,hitbox:new T(a.fromRect(5,5,e.create(-1,0)),a.fromRect(6.8,1.5,e.create(-.25,-2.6)),a.fromRect(1.5,4.5,e.create(2.6,-.5)),new f(.85,e.create(2.6,-2.6)),new f(.85,e.create(2.6,2.65)),new f(2.635,e.create(-1,.25))),rotationMode:1,frames:{particle:"couch_part_particle",residue:"brown_couch_part_residue"}},{idString:"couch_end_left",name:"Couch Part",material:"wood",health:95,scale:{spawnMin:1,spawnMax:1,destroy:.9},hideOnMap:!0,hitbox:new T(a.fromRect(5,5,e.create(0,-1)),a.fromRect(1.5,6.8,e.create(-2.6,-.5)),a.fromRect(4.5,1.5,e.create(0,2.6)),new f(.85,e.create(2.6,2.6)),new f(.85,e.create(-2.6,2.65)),new f(2.65,e.create(.25,-.5))),rotationMode:1,frames:{particle:"couch_part_particle",residue:"brown_couch_part_residue"}},{idString:"tv",name:"TV",material:"glass",health:100,scale:{spawnMin:1,spawnMax:1,destroy:.9},hideOnMap:!0,hitbox:a.fromRect(1.1,15.1,e.create(-.25,0)),rotationMode:1,zIndex:k.ObstaclesLayer2},{idString:"small_table",name:"Small Table",material:"wood",health:100,scale:{spawnMin:1,spawnMax:1,destroy:.9},variations:2,hideOnMap:!0,hitbox:a.fromRect(8.3,12.3),rotationMode:1,frames:{particle:"furniture_particle"},zIndex:k.ObstaclesLayer3,noCollisions:!0,noResidue:!0},{idString:"large_table",name:"Large Table",material:"wood",health:100,scale:{spawnMin:1,spawnMax:1,destroy:.9},variations:2,hideOnMap:!0,hitbox:a.fromRect(12,16.6),rotationMode:1,frames:{particle:"furniture_particle"},zIndex:k.ObstaclesLayer3,noCollisions:!0,noResidue:!0},{idString:"round_table",name:"Round Table",material:"wood",health:100,scale:{spawnMin:1,spawnMax:1,destroy:.9},hideOnMap:!0,hitbox:new f(6.12),rotationMode:0,frames:{particle:"furniture_particle"},zIndex:k.ObstaclesLayer3,noCollisions:!0,noResidue:!0},{idString:"chair",name:"Chair",material:"wood",health:100,scale:{spawnMin:1,spawnMax:1,destroy:.9},hideOnMap:!0,hitbox:a.fromRect(6.8,6.7),rotationMode:1,frames:{particle:"furniture_particle"}},{idString:"bookshelf",name:"Bookshelf",material:"wood",health:80,scale:{spawnMin:1,spawnMax:1,destroy:.8},hideOnMap:!0,variations:2,allowFlyover:0,hitbox:a.fromRect(12.49,4.24),rotationMode:1,hasLoot:!0,frames:{particle:"furniture_particle"}},{idString:"window_damaged",name:"Window",material:"glass",health:20,invisible:!0,noMeleeCollision:!0,noBulletCollision:!0,indestructible:!0,hideOnMap:!0,hitbox:a.fromRect(1.8,9.4),zIndex:k.ObstaclesLayer2,allowFlyover:0,rotationMode:1,role:j.Window},{idString:"window",name:"Window",material:"glass",health:20,scale:{spawnMin:1,spawnMax:1,destroy:.95},hideOnMap:!0,hitbox:a.fromRect(1.8,9.4),zIndex:k.ObstaclesLayer2,allowFlyover:2,rotationMode:1,role:j.Window},{idString:"window2",name:"Window",material:"glass",health:20,scale:{spawnMin:1,spawnMax:1,destroy:.95},hitbox:a.fromRect(1.8,9.4),allowFlyover:2,rotationMode:1,role:j.Window},{idString:"bulletproof_window",name:"Bulletproof Window",material:"glass",health:1e3,scale:{spawnMin:1,spawnMax:1,destroy:1},hitbox:a.fromRect(18.57,2.45),allowFlyover:2,rotationMode:1,frames:{particle:"window_particle"}},{idString:"bed",name:"Bed",material:"wood",health:100,scale:{spawnMin:1,spawnMax:1,destroy:.9},hideOnMap:!0,hitbox:a.fromRect(11.2,16),rotationMode:1,allowFlyover:0},{idString:"small_bed",name:"Small Bed",material:"wood",health:100,scale:{spawnMin:1,spawnMax:1,destroy:.9},hideOnMap:!0,hitbox:a.fromRect(7.12,16.06),rotationMode:1,allowFlyover:0,frames:{particle:"bed_particle"}},{idString:"bunk_bed",name:"Bunk Bed",material:"metal_heavy",health:1e3,indestructible:!0,reflectBullets:!0,hideOnMap:!0,hitbox:a.fromRect(8.2,15.6,e.create(.4,0)),rotationMode:1,allowFlyover:0,frames:{particle:"metal_particle"}},{idString:"garage_door",name:"Garage Door",material:"wood",health:200,scale:{spawnMin:1,spawnMax:1,destroy:.95},hideOnMap:!0,hitbox:a.fromRect(21.7,1.5,e.create(0,-.4)),rotationMode:1,allowFlyover:2,frames:{particle:"furniture_particle"}},{idString:"porta_potty_toilet_open",name:"Porta Potty Toilet Open",material:"porcelain",health:100,scale:{spawnMin:1,spawnMax:1,destroy:.9},hideOnMap:!0,hitbox:a.fromRect(12.13,4.3,e.create(.02,-1.05)),rotationMode:1,allowFlyover:0,hasLoot:!0,frames:{particle:"porta_potty_toilet_particle",residue:"porta_potty_toilet_residue"}},{idString:"porta_potty_toilet_closed",name:"Porta Potty Toilet Closed",material:"porcelain",health:100,scale:{spawnMin:1,spawnMax:1,destroy:.9},hideOnMap:!0,hitbox:a.fromRect(12,4.3,e.create(0,-1.05)),rotationMode:1,allowFlyover:0,hasLoot:!0,frames:{particle:"porta_potty_toilet_particle",residue:"porta_potty_toilet_residue"}},{idString:"porta_potty_door",name:"Porta Potty Door",material:"wood",health:100,noResidue:!0,scale:{spawnMin:1,spawnMax:1,destroy:1},hideOnMap:!0,hitbox:a.fromRect(10.5,1.4,e.create(-.8,0)),rotationMode:1,allowFlyover:2,role:j.Door,zIndex:k.ObstaclesLayer3,hingeOffset:e.create(-5.5,0)},{idString:"outhouse_door",name:"Outhouse Door",material:"wood",health:100,noResidue:!0,scale:{spawnMin:1,spawnMax:1,destroy:1},hideOnMap:!0,hitbox:a.fromRect(9.91,1.5),rotationMode:1,allowFlyover:2,role:j.Door,zIndex:k.ObstaclesLayer3,hingeOffset:e.create(-4.96,0),frames:{particle:"outhouse_wall_particle"}},{idString:"porta_potty_sink_wall",name:"Porta Potty Sink Wall",material:"wood",health:100,noResidue:!0,scale:{spawnMin:1,spawnMax:1,destroy:.9},hideOnMap:!0,hitbox:a.fromRect(19.2,1.9,e.create(0,1.25)),rotationMode:1,allowFlyover:2,role:j.Wall,zIndex:k.ObstaclesLayer2,frames:{particle:"porta_potty_wall_particle"}},{idString:"porta_potty_sink_wall_fall",name:"Porta Potty Sink Wall",material:"wood",health:100,noResidue:!0,scale:{spawnMin:1,spawnMax:1,destroy:.9},hideOnMap:!0,hitbox:a.fromRect(19.2,1.9,e.create(0,1.25)),rotationMode:1,allowFlyover:2,role:j.Wall,zIndex:k.ObstaclesLayer2,frames:{base:"porta_potty_sink_wall",particle:"porta_potty_particle_fall"}},{idString:"outhouse_toilet_paper_wall",name:"Outhouse Toilet Paper Wall",material:"wood",health:100,noResidue:!0,scale:{spawnMin:1,spawnMax:1,destroy:.9},hideOnMap:!0,hitbox:a.fromRect(1.81,19.2,e.create(-1.16,.01)),rotationMode:1,allowFlyover:2,role:j.Wall,zIndex:k.ObstaclesLayer2,frames:{particle:"outhouse_wall_particle"}},{idString:"porta_potty_toilet_paper_wall",name:"Porta Potty Toilet Paper Wall",material:"wood",health:100,noResidue:!0,scale:{spawnMin:1,spawnMax:1,destroy:.9},hideOnMap:!0,hitbox:a.fromRect(19.2,1.7,e.create(0,-1.15)),rotationMode:1,allowFlyover:2,role:j.Wall,zIndex:k.ObstaclesLayer2,frames:{particle:"porta_potty_wall_particle"}},{idString:"hq_toilet_paper_wall",name:"Headquarters Toilet Paper Wall",material:"wood",health:100,noResidue:!0,scale:{spawnMin:1,spawnMax:1,destroy:.9},hideOnMap:!0,hitbox:a.fromRect(19.2,1.7,e.create(0,-1.15)),rotationMode:1,allowFlyover:2,role:j.Wall,zIndex:k.ObstaclesLayer2,frames:{particle:"hq_tp_wall_particle"}},m([1,a.fromRect(10.8,1.9)]),m([2,a.fromRect(36.7,1.9)]),m([3,a.fromRect(39.14,1.9)]),m([4,a.fromRect(47.14,1.9)]),{idString:"bombed_armory_vault_wall",material:"stone",hitbox:a.fromRect(15,2.04),health:500,noResidue:!0,hideOnMap:!0,impenetrable:!0,rotationMode:1,role:j.Wall,allowFlyover:2,particleVariations:2,frames:{particle:"rock_particle"}},{idString:"small_refinery_barrel",name:"Small Refinery Barrel",material:"metal_light",health:250,scale:{spawnMin:1,spawnMax:1,destroy:.5},hitbox:new f(6.8),rotationMode:0,allowFlyover:2,explosion:"small_refinery_barrel_explosion",reflectBullets:!0,frames:{particle:"metal_particle",residue:"barrel_residue"}},{idString:"large_refinery_barrel",name:"Large Refinery Barrel",material:"metal_heavy",health:3500,scale:{spawnMin:1,spawnMax:1,destroy:.5},hitbox:new f(17.15),rotationMode:0,allowFlyover:2,explosion:"large_refinery_barrel_explosion",reflectBullets:!0,zIndex:k.ObstaclesLayer5,frames:{particle:"metal_particle"}},{idString:"smokestack",name:"Smokestack",material:"metal_heavy",health:500,indestructible:!0,hitbox:new f(8.9),rotationMode:1,reflectBullets:!0,allowFlyover:2,zIndex:k.ObstaclesLayer5,noResidue:!0},{idString:"distillation_column",name:"Distillation Column",material:"metal_heavy",health:500,indestructible:!0,hitbox:new T(new f(5.22,e.create(0,-.65)),new f(4.9,e.create(0,.9))),rotationMode:1,allowFlyover:2,reflectBullets:!0,zIndex:k.ObstaclesLayer5,noResidue:!0},{idString:"distillation_equipment",name:"Distillation Equipment",material:"metal_heavy",health:500,indestructible:!0,hitbox:new T(new f(3,e.create(-11.3,-3.85)),new f(3,e.create(-11.3,-6.55)),a.fromRect(17.5,3.5,e.create(-5.55,-5.25)),a.fromRect(14.2,8.5,e.create(-3.9,-5.15)),new f(3.15,e.create(.72,5.62)),new f(4.4,e.create(8.95,5.62)),new f(5.35,e.create(8.95,-4.7)),a.fromRect(1.8,3.7,e.create(.65,.85)),a.fromRect(2.6,1.2,e.create(8.95,1)),a.fromRect(1.6,1.75,e.create(4.2,5.53)),a.fromRect(1.9,-2.6,e.create(4.05,-6.65))),rotationMode:1,allowFlyover:2,reflectBullets:!0,noResidue:!0,frames:{particle:"metal_particle"}},I(["mcx_spear"]),I(["stoner_63"]),I(["mini14"]),I(["hp18"]),I(["m590m"]),I(["maul"],{hitbox:new T(a.fromRect(5.05,1,e.create(0,-1.3)),a.fromRect(.8,3,e.create(-1.55,.35)),a.fromRect(.8,3,e.create(1.55,.35)))}),I(["dual_rsh12"],{frames:{particle:"gun_mount_dual_rsh12_particle",residue:"gun_mount_dual_rsh12_residue"},hitbox:new T(a.fromRect(6.5,.99,e.create(0,-1.36)),a.fromRect(5.7,2.5,e.create(0,.4)))}),{idString:"truck",name:"Truck",material:"metal_heavy",health:1e3,indestructible:!0,hitbox:new T(a.fromRect(20.25,2.15,e.create(0,25.1)),a.fromRect(18.96,9.2,e.create(0,19.4)),a.fromRect(16.7,23.5,e.create(0,3)),a.fromRect(4.75,15.9,e.create(0,-16.65)),a.fromRect(17,6.9,e.create(0,-13.2)),a.fromRect(17,6.9,e.create(0,-20.7)),a.fromRect(16.55,1.6,e.create(0,-25.35))),reflectBullets:!0,rotationMode:1,allowFlyover:2,zIndex:k.ObstaclesLayer3,frames:{particle:"metal_particle"}},{idString:"trailer",name:"Trailer",material:"metal_heavy",health:1e3,indestructible:!0,reflectBullets:!0,hitbox:new T(a.fromRect(14.9,44.7,e.create(-.05,0)),a.fromRect(15.9,6.4,e.create(0,-11.2)),a.fromRect(15.9,6.4,e.create(0,-18.2)),a.fromRect(15.5,1.5,e.create(0,-22.5)),a.fromRect(9.75,1,e.create(-.05,22.75))),rotationMode:1,allowFlyover:2,zIndex:k.ObstaclesLayer4,noResidue:!0,frames:{particle:"metal_particle"}},{idString:"tango_crate",name:"Tango Crate",material:"wood",health:120,scale:{spawnMin:1,spawnMax:1,destroy:.7},hitbox:a.fromRect(15.49,5.85),rotationMode:1,allowFlyover:0,hasLoot:!0},x(["control_panel","Control Panel"],{role:j.Activatable,sound:{names:["button_press","puzzle_solved"]},frames:{activated:"control_panel_activated"}}),x(["control_panel2","Control Panel"]),x(["recorder","Recorder"],{hitbox:a.fromRect(8.7,6.34),indestructible:!0,role:j.Activatable,noInteractMessage:!0,requiredItem:"heap_sword",sound:{names:["speaker_start","speaker_start"]},frames:{activated:"recorder_used"}}),x(["control_panel_small","Small Control Panel"],{hitbox:a.fromRect(7.5,8)}),{idString:"small_desk",name:"Small Desk",material:"wood",scale:{spawnMin:1,spawnMax:1,destroy:.79},noResidue:!0,health:150,hasLoot:!0,rotationMode:1,allowFlyover:2,frames:{particle:"headquarters_desk_particle"},hitbox:a.fromRect(12.5,5)},...S([{idString:"generator",name:"Generator",material:"metal_heavy",health:200,indestructible:!0,reflectBullets:!0,rotationMode:1,frames:{particle:"super_barrel_particle"},role:j.Activatable,sound:{name:"generator_starting",maxRange:412,falloff:2},emitParticles:!0,requiredItem:"gas_can",hitbox:a.fromRect(9,7)}]),{idString:"ship_oil_tank",name:"Ship Oil Tank",material:"metal_heavy",health:200,indestructible:!0,rotationMode:1,allowFlyover:2,hitbox:a.fromRect(28,14)},...S([{idString:"forklift",name:"Forklift",material:"metal_heavy",health:1e3,indestructible:!0,reflectBullets:!0,hitbox:new T(a.fromRect(8.15,17.3,e.create(0,-3.8)),a.fromRect(9.45,10.6,e.create(0,-4.9))),zIndex:k.ObstaclesLayer1-2,rotationMode:1}]),{idString:"pallet",name:"Pallet",material:"wood",health:120,indestructible:!0,hitbox:a.fromRect(0,0),zIndex:k.ObstaclesLayer1-1,rotationMode:1,allowFlyover:0,frames:{particle:"crate_particle"},noCollisions:!0,noMeleeCollision:!0,noBulletCollision:!0},{idString:"pipe_1",name:"Pipe",material:"metal_light",health:200,indestructible:!0,hitbox:a.fromRect(0,0),zIndex:k.ObstaclesLayer4,rotationMode:1,allowFlyover:0,noBulletCollision:!0,noMeleeCollision:!0,noCollisions:!0},{idString:"pipe_2",name:"Pipe",material:"metal_light",health:200,indestructible:!0,hitbox:a.fromRect(0,0),zIndex:k.ObstaclesLayer4,rotationMode:1,allowFlyover:0,noBulletCollision:!0,noMeleeCollision:!0,noCollisions:!0},{idString:"pipe_3",name:"Pipe",material:"metal_light",health:200,indestructible:!0,hitbox:a.fromRect(0,0),zIndex:k.ObstaclesLayer4,rotationMode:1,allowFlyover:0,noBulletCollision:!0,noMeleeCollision:!0,noCollisions:!0},{idString:"pipe_4",name:"Pipe",material:"metal_light",health:200,indestructible:!0,hitbox:a.fromRect(0,0),zIndex:k.ObstaclesLayer4,rotationMode:1,allowFlyover:0,noCollisions:!0},{idString:"bollard",name:"Bollard",material:"metal_heavy",health:1e3,indestructible:!0,reflectBullets:!0,hitbox:new T(a.fromRect(8.2,9.2,e.create(-.36,0)),new f(3.45,e.create(1,0))),rotationMode:1,allowFlyover:0},{idString:"barrier",name:"Barrier",material:"metal_heavy",health:1e3,indestructible:!0,reflectBullets:!0,hitbox:new T(a.fromRect(1.2,31.75,e.create(-2.2,-2.8)),a.fromRect(2,5,e.create(-2.3,15.4)),a.fromRect(4.71,6.59,e.create(.95,15.4))),rotationMode:1,frames:{particle:"metal_particle"}},{idString:"fence",name:"Fence",material:"fence",health:40,scale:{spawnMin:1,spawnMax:1,destroy:.8},hitbox:a.fromRect(8.45,1.6),rotationMode:1,noResidue:!0,frames:{particle:"fence_particle"}},{idString:"house_column",name:"House Column",material:"stone",indestructible:!0,health:340,scale:{spawnMin:1,spawnMax:1,destroy:.95},hitbox:new T(a.fromRect(3,3)),rotationMode:1,allowFlyover:2,tint:10719611,frames:{base:"column",particle:"wall_particle"},role:j.Wall},{idString:"metal_column",name:"Metal Column",material:"metal_light",reflectBullets:!0,indestructible:!0,health:340,scale:{spawnMin:1,spawnMax:1,destroy:.95},hitbox:new T(a.fromRect(3,3)),rotationMode:1,allowFlyover:2,tint:9408399,frames:{base:"column",particle:"metal_column_particle"},role:j.Wall},{idString:"potted_plant",name:"Potted Plant",material:"porcelain",health:100,scale:{spawnMin:1,spawnMax:1,destroy:.95},hitbox:new f(2.45,e.create(-.15,.9)),rotationMode:0,allowFlyover:0,hasLoot:!0},{idString:"trash_can",name:"Trash Can",material:"appliance",health:105,scale:{spawnMin:1,spawnMax:1,destroy:.95},hasLoot:!0,lootTable:"trash",reflectBullets:!0,hitbox:new f(2.5),rotationMode:0,allowFlyover:0,frames:{particle:"metal_particle"}},...S([{idString:"sandbags",name:"Sandbags",material:"sand",health:1e3,indestructible:!0,hitbox:a.fromRect(13.1,7.7),rotationMode:1}]),{idString:"gun_locker",name:"Gun Locker",material:"iron",scale:{spawnMin:1,spawnMax:1,destroy:.9},health:220,impenetrable:!0,hasLoot:!0,reflectBullets:!0,hitbox:a.fromRect(13.1,4.2,e.create(0,-.25)),rotationMode:1,allowFlyover:2,hideOnMap:!0,frames:{particle:"metal_particle"}},{idString:"roadblock",name:"Road Block",material:"fence",health:80,indestructible:!1,hitbox:a.fromRect(1,10),rotationMode:1},{idString:"gun_case",name:"Gun Case",material:"wood",health:100,scale:{spawnMin:1,spawnMax:1,destroy:.7},hitbox:a.fromRect(10.19,4.76),rotationMode:1,allowFlyover:0,hasLoot:!0},{idString:"cooler",name:"Cooler",material:"wood",health:100,scale:{spawnMin:1,spawnMax:1,destroy:.7},hitbox:a.fromRect(8.3,4.73),rotationMode:1,allowFlyover:0,hasLoot:!0},{idString:"m1117",name:"M1117",material:"metal_heavy",health:1e3,indestructible:!0,reflectBullets:!0,hitbox:new T(a.fromRect(18.51,32.28,e.create(0,-5.17)),a.fromRect(19.69,6.67,e.create(0,-10.87)),a.fromRect(19.69,6.67,e.create(0,10.8)),a.fromRect(17,5.38,e.create(0,16.14)),a.fromRect(15.06,5.38,e.create(0,19.7))),variations:2,rotationMode:1,allowFlyover:2},{idString:"cabinet",name:"Cabinet",material:"appliance",health:100,reflectBullets:!0,scale:{spawnMin:1,spawnMax:1,destroy:.7},hitbox:a.fromRect(14.53,4.3,e.create(0,-.22)),rotationMode:1,frames:{particle:"metal_particle"},hasLoot:!0},{idString:"briefcase",name:"Briefcase",material:"appliance",health:150,scale:{spawnMin:1,spawnMax:1,destroy:.7},hitbox:a.fromRect(10.65,7.42,e.create(0,.43)),rotationMode:1,allowFlyover:0,hasLoot:!0},{idString:"fire_hatchet_case",name:"Fire Hatchet Case",material:"appliance",health:180,scale:{spawnMin:1,spawnMax:1,destroy:.8},hasLoot:!0,hitbox:new T(a.fromRect(10.5,4.5,e.create(-.1,-.1)),a.fromRect(.55,5.95,e.create(-4.15,0)),a.fromRect(.55,5.95,e.create(3.15,0))),rotationMode:1,allowFlyover:2,frames:{particle:"super_barrel_particle"},reflectBullets:!0},{idString:"button",name:"Button",material:"stone",health:1e3,indestructible:!0,variations:2,role:j.Activatable,sound:{name:"button_press"},hitbox:a.fromRect(2.15,1.51),rotationMode:1,allowFlyover:0,frames:{particle:"metal_particle",activated:"button_activated"}},h(["1"],{hitbox:a.fromRect(7.5,1.68)}),h(["2"],{hitbox:a.fromRect(20.6,1.68)}),h(["3"],{hitbox:a.fromRect(20.5,1.68)}),h(["4"],{hitbox:a.fromRect(10.65,1.68)}),R(["1"],{hitbox:a.fromRect(6.61,6.61,e.create(0,-.45)),frames:{particle:"furniture_particle",residue:"small_drawer_residue"}}),R(["2"],{hitbox:a.fromRect(6.61,6.61),frames:{particle:"furniture_particle",residue:"small_drawer_residue"}}),R(["3"],{hitbox:a.fromRect(9.45,6.61,e.create(0,-.48)),frames:{particle:"furniture_particle",residue:"sink_residue"}}),{idString:"tire",name:"Tire",material:"stone",health:200,scale:{spawnMin:1,spawnMax:1,destroy:.8},hitbox:a.fromRect(3.47,8.35),rotationMode:1,zIndex:k.BuildingsFloor-1,noResidue:!0,frames:{particle:"flint_stone_particle"},particleVariations:2},{idString:"mobile_home_window",name:"Mobile Home Window",material:"glass",health:20,scale:{spawnMin:1,spawnMax:1,destroy:.95},hideOnMap:!0,noCollisionAfterDestroyed:!0,hitbox:a.fromRect(13.8,1.5),zIndex:k.ObstaclesLayer2,allowFlyover:2,rotationMode:1,role:j.Window,frames:{particle:"window_particle"}},{idString:"lux_crate",name:"Lux Crate",material:"wood",health:120,scale:{spawnMin:1,spawnMax:1,destroy:.7},hitbox:a.fromRect(15.49,5.85),rotationMode:1,allowFlyover:0,hasLoot:!0},{idString:"tugboat_control_panel",name:"Tugboat Control Panel",material:"metal_heavy",health:250,reflectBullets:!0,scale:{spawnMin:1,spawnMax:1,destroy:.95},hitbox:a.fromRect(26.3,8.02,e.create(0,.5)),rotationMode:1,explosion:"control_panel_explosion",frames:{particle:"metal_particle"}},{idString:"office_chair",name:"Office Chair",material:"wood",health:140,scale:{spawnMin:1,spawnMax:1,destroy:.9},hideOnMap:!0,hitbox:a.fromRect(4.5,5.3,e.create(0,-.14)),rotationMode:1,frames:{particle:"office_chair_particle"}},{idString:"grey_office_chair",name:"Office Chair (Grey Edition)",material:"wood",health:155,scale:{spawnMin:1,spawnMax:1,destroy:.9},hideOnMap:!0,hitbox:a.fromRect(5,5.1),rotationMode:1,frames:{particle:"grey_office_chair_particle"}},{idString:"life_preserver",name:"Life Preserver",material:"stone",health:80,scale:{spawnMin:1,spawnMax:1,destroy:.95},hideOnMap:!0,hitbox:a.fromRect(3.2,8.87,e.create(-.4,0)),rotationMode:1,zIndex:k.BuildingsFloor},...S([{idString:"grenade_box",name:"Grenade Box",material:"cardboard",health:60,scale:{spawnMin:1,spawnMax:1,destroy:.8},hitbox:a.fromRect(4.4,4.4),rotationMode:1,zIndex:k.ObstaclesLayer2,hasLoot:!0,frames:{particle:"box_particle",residue:"box_residue"}},2]),{idString:"lily_pad",name:"Lily Pad",material:"bush",health:80,scale:{spawnMin:1.1,spawnMax:1.4,destroy:1},hitbox:new f(4.2),noCollisions:!0,rotationMode:0,spawnMode:ce.River,variations:2,zIndex:k.ObstaclesLayer3},{idString:"planted_bushes",name:"Planted Bushes",material:"porcelain",health:800,indestructible:!0,scale:{spawnMin:.9,spawnMax:1.1,destroy:.8},hitbox:a.fromRect(9.5,16.5),rotationMode:1,spawnMode:ce.River,noResidue:!0},{idString:"viking_chest",name:"Viking Chest",material:"wood",health:150,scale:{spawnMin:1,spawnMax:1,destroy:.7},hitbox:a.fromRect(12,7,e.create(0,-.4)),rotationMode:1,hasLoot:!0,hideOnMap:!0,frames:{particle:"chest_particle",residue:"chest_residue"},spawnMode:ce.Beach,allowFlyover:0},{idString:"river_chest",name:"River Chest",material:"wood",health:150,scale:{spawnMin:1,spawnMax:1,destroy:.7},hitbox:a.fromRect(12,7,e.create(0,-.1)),rotationMode:3,zIndex:k.UnderwaterPlayers-1,hasLoot:!0,hideOnMap:!0,frames:{particle:"chest_particle"},spawnMode:ce.River,allowFlyover:0},{idString:"bunker_entrance",name:"Bunker Entrance",material:"metal_heavy",health:1e3,reflectBullets:!0,indestructible:!0,hitbox:a.fromRect(13,16.9),frames:{particle:"metal_particle"},rotationMode:1},{idString:"bunker_stair",name:"Bunker Stair",material:"metal_heavy",health:1e3,indestructible:!0,role:j.Stair,activeEdges:{high:2,low:0},invisible:!0,hitbox:a.fromRect(10,11.5),frames:{particle:"metal_particle"},rotationMode:1},{idString:"hq_stair",name:"HQ Stair",material:"metal_heavy",health:1e3,indestructible:!0,invisible:!0,role:j.Stair,activeEdges:{high:0,low:1},hitbox:a.fromRect(10.8,24),frames:{particle:"metal_particle"},rotationMode:1,zIndex:k.BuildingsFloor},{idString:"barn_stair",name:"Barn Stair",material:"metal_heavy",health:1e3,indestructible:!0,invisible:!0,role:j.Stair,activeEdges:{high:0,low:2},hitbox:a.fromRect(6.5,4),frames:{particle:"metal_particle"},rotationMode:1,zIndex:k.BuildingsFloor},{idString:"hq_large_stair",name:"HQ Large Stair",material:"metal_heavy",health:1e3,indestructible:!0,invisible:!0,role:j.Stair,activeEdges:{high:2,low:0},hitbox:a.fromRect(11.55,25.5),frames:{particle:"metal_particle"},rotationMode:1,zIndex:k.BuildingsFloor},{idString:"fire_exit_stair",name:"Fire Exit Stair",material:"metal_heavy",health:1e3,indestructible:!0,role:j.Stair,activeEdges:{high:0,low:2},hitbox:a.fromRect(13.8,27.8),frames:{particle:"metal_particle"},rotationMode:1,zIndex:k.BuildingsFloor},{idString:"lodge_stair",name:"Lodge Stair",material:"metal_heavy",health:1e3,indestructible:!0,invisible:!0,role:j.Stair,activeEdges:{high:0,low:3},hitbox:a.fromRect(11.72,8.8),frames:{particle:"metal_particle"},rotationMode:1,zIndex:k.BuildingsFloor},{idString:"plumpkin_bunker_stair",name:"Plumpkin Bunker Stair",material:"metal_heavy",health:1e3,indestructible:!0,invisible:!0,role:j.Stair,activeEdges:{high:1,low:3},hitbox:a.fromRect(16.07,11.3),frames:{particle:"metal_particle"},rotationMode:1},{idString:"fire_exit_railing",name:"Fire exit railing",material:"metal_heavy",health:1e3,indestructible:!0,invisible:!0,reflectBullets:!0,hitbox:new T(a.fromRect(1.4,41,e.create(5.18,1)),a.fromRect(11.6,1.4,e.create(-.3,21.5)),new f(.95,e.create(5.18,-19.3)),new f(.95,e.create(5.18,6.6)),new f(.95,e.create(5.18,21.5)),new f(.95,e.create(-6.18,21.5))),frames:{particle:"metal_particle"},rotationMode:1,zIndex:k.ObstaclesLayer1},{idString:"hq_second_floor_collider_hack",name:"HQ Second Floor Collider Hack",material:"stone",hitbox:new T(a.fromRect(84.9,1.75,e.create(-28.9,-105.9)),a.fromRect(1.75,40.8,e.create(-33.35,-85.5)),a.fromRect(1.75,44.5,e.create(-70.3,-84.4))),health:1e3,indestructible:!0,invisible:!0,frames:{particle:"hq_stone_wall_particle"},particleVariations:2,visibleFromLayers:De.All,collideWithLayers:De.All,rotationMode:1},{idString:"hq_second_floor_collider_hack_2",name:"HQ Second Floor Collider Hack 2",material:"stone",hitbox:a.fromRect(13,17.7,e.create(-52,-85.5)),health:1e3,indestructible:!0,invisible:!0,noHitEffect:!0,particleVariations:2,visibleFromLayers:De.All,rotationMode:1},{idString:"lodge_railing",name:"Lodge Railing",material:"stone",hitbox:new T(a.fromRect(12.04,1.28,e.create(-32.61,20.51)),a.fromRect(1.24,12.93,e.create(-38.53,14.66))),collideWithLayers:De.Equal,health:1e3,indestructible:!0,invisible:!0,visibleFromLayers:De.All,frames:{particle:"lodge_particle"},rotationMode:1},{idString:"headquarters_bottom_entrance",name:"Headquarters Bottom Entrance",material:"stone",health:1e3,hideOnMap:!0,indestructible:!0,hitbox:new T(a.fromRect(.25,12.5,e.create(-40.9,43)),new f(.5,e.create(-41.1,50.15)),new f(.5,e.create(-41.1,36.75)),a.fromRect(.25,12.5,e.create(-20.86,43.1)),new f(.5,e.create(-20.95,50.15)),new f(.5,e.create(-20.95,36.9))),rotationMode:1,allowFlyover:0,invisible:!0,particleVariations:2,frames:{particle:"rock_particle"}},{idString:"barn_stair_walls",name:"Barn Stair Walls",material:"metal_heavy",health:1e3,hideOnMap:!0,indestructible:!0,collideWithLayers:De.Adjacent,reflectBullets:!0,hitbox:new T(a.fromRect(1,9,e.create(-45,.5)),a.fromRect(1,9,e.create(-52.8,.5)),a.fromRect(9,1,e.create(9.1,-31.1)),a.fromRect(9,1,e.create(9.1,-39))),rotationMode:1,allowFlyover:0,invisible:!0,frames:{particle:"metal_particle"}},{idString:"barn_stair_walls_top_floor",name:"Barn Stair Walls",material:"metal_heavy",health:1e3,hideOnMap:!0,indestructible:!0,reflectBullets:!0,hitbox:new T(a.fromRect(1,8,e.create(-45,0)),a.fromRect(1,8,e.create(-52.8,0)),a.fromRect(8,1,e.create(9.5,-31.1)),a.fromRect(8,1,e.create(9.5,-39))),rotationMode:1,allowFlyover:0,invisible:!0,frames:{particle:"metal_particle"}},{idString:"barn_stair_walls_2",name:"Barn Stair Walls",material:"metal_heavy",health:1e3,hideOnMap:!0,indestructible:!0,reflectBullets:!0,hitbox:new T(a.fromRect(8,1.5,e.create(-48.5,4.25)),a.fromRect(1.5,8,e.create(5.25,-35))),rotationMode:1,allowFlyover:2,invisible:!0,frames:{particle:"metal_particle"}},{idString:"headquarters_main_desk",name:"Headquarters Main Desk",material:"stone",health:120,indestructible:!0,scale:{spawnMin:1,spawnMax:1,destroy:.95},hideOnMap:!0,invisible:!0,noResidue:!0,rotationMode:1,hitbox:new T(a.fromRect(23.6,5,e.create(0,3)),a.fromRect(4.6,8,e.create(9.5,-1.5)),a.fromRect(4.6,8,e.create(-9.5,-1.5))),frames:{particle:"hq_stone_wall_particle"},particleVariations:2},{idString:"headquarters_boss_desk",name:"Headquarters Boss Desk",material:"stone",health:120,indestructible:!0,scale:{spawnMin:1,spawnMax:1,destroy:.95},hideOnMap:!0,invisible:!0,noResidue:!0,rotationMode:1,hitbox:new T(a.fromRect(20,6.3,e.create(0,0)),a.fromRect(11,7,e.create(0,-.5))),frames:{particle:"hq_stone_wall_particle"},particleVariations:2},{idString:"headquarters_cafeteria_table",name:"Headquarters Cafeteria Table",material:"wood",health:120,noBulletCollision:!0,indestructible:!0,scale:{spawnMin:1,spawnMax:1,destroy:.95},hideOnMap:!0,invisible:!0,noResidue:!0,rotationMode:1,allowFlyover:0,hitbox:a.fromRect(22.8,5),frames:{particle:"headquarters_c_desk_particle"}},{idString:"headquarters_security_desk",name:"Headquarters Security Desk",material:"wood",health:120,indestructible:!0,scale:{spawnMin:1,spawnMax:1,destroy:.95},hideOnMap:!0,noResidue:!0,hitbox:a.fromRect(27.5,5.2),rotationMode:1,role:j.Activatable,allowFlyover:0,replaceWith:{idString:"headquarters_security_desk_activated",delay:0},sound:{names:["button_press","puzzle_solved"]},frames:{particle:"headquarters_desk_particle"}},{idString:"headquarters_security_desk_activated",name:"Headquarters Security Panel (active)",material:"wood",health:120,indestructible:!0,scale:{spawnMin:1,spawnMax:1,destroy:.7},hitbox:a.fromRect(27.5,5.2),rotationMode:1,frames:{particle:"headquarters_desk_particle"}},{idString:"headquarters_wood_obstacles",name:"Headquarters Wood Obstacles",material:"wood",health:1e3,hideOnMap:!0,indestructible:!0,hitbox:a.fromRect(27.5,5,e.create(-56.3,31)),rotationMode:1,allowFlyover:0,invisible:!0,frames:{particle:"headquarters_desk_particle"}},{idString:"headquarters_wood_table_second_floor",name:"Headquarters Wood Obstacles",material:"wood",health:1e3,hideOnMap:!0,indestructible:!0,hitbox:new T(a.fromRect(3.05,21.5),a.fromRect(13.4,4.25,e.create(-5,-8.8))),rotationMode:1,allowFlyover:0,invisible:!0,frames:{particle:"headquarters_desk_particle"}},{idString:"headquarters_sinks",name:"Headquarters Sinks",material:"porcelain",health:1e3,hideOnMap:!0,indestructible:!0,hitbox:new T(a.fromRect(34,6,e.create(-7.4,-103.5))),rotationMode:1,allowFlyover:0,invisible:!0,frames:{particle:"toilet_particle"}},{idString:"test_wall",name:"Test Wall",material:"wood",health:200,hitbox:a.fromRect(20,2),rotationMode:1,wall:{color:16755200,borderColor:16711680}},{idString:"pole",name:"Pole",material:"fence",health:150,scale:{spawnMin:.9,spawnMax:1.1,destroy:.5},noResidue:!0,role:j.Wall,spawnMode:ce.GrassAndSand,hitbox:new f(1.1),rotationMode:3,frames:{particle:"metal_particle"}}].map(b=>{const v=b;return b.role!==void 0&&(v[`is${j[b.role]}`]=!0),b.variations!==void 0&&(v.variationBits=Math.ceil(Math.log2(b.variations))),b})}),wt={container_1:1,container_2:2,container_3:3,container_4:4,container_5:3,container_6:4,container_7:3,container_8:4,container_10:3},we={...wt,[rr]:7},eo={regular_crate:2,flint_crate:1},ea={regular_crate:3,barrel:1,super_barrel:1,ammo_crate:2,rocket_box:1,confetti_grenade_box:1},to={super_barrel:1,barrel:2},$t={toilet:1,used_toilet:1},Ur={white:12632256,red:10692864,green:41742,blue:24483,yellow:13421568},Gr={white:7960953,red:6691072,green:26120,blue:15206,yellow:8421376},Nr={white:11053224,red:9380864,green:36620,blue:21391,yellow:11776768},Ai=ze.withDefault()("Buildings",{hideOnMap:!1,spawnMode:ce.Grass,obstacles:[],lootSpawners:[],subBuildings:[],wallsToDestroy:1/0,floorImages:[],floorZIndex:k.BuildingsFloor,ceilingImages:[],ceilingZIndex:k.BuildingsCeiling,floors:[],graphics:[],graphicsZIndex:k.BuildingsFloor,groundGraphics:[],rotationMode:de.Limited,allowFlyover:Mi.Never,ceilingScopeEffect:!0},([o,,,t])=>{const i=o((p,u,y)=>({idString:`blue_house_vault_layout_${p}`,name:"Blue House Vault Layout",spawnHitbox:a.fromRect(40,35,e.create(18.4,18)),floorImages:[{key:y?"blue_house_floor_2_2_special":"blue_house_floor_2_2",position:e.create(18.4,18),scale:e.create(1.07,1.07)}],obstacles:u,subBuildings:y??[],lootSpawners:y?[]:[{table:"ground_loot",position:e.create(23.5,14.4)}]})),s=o((p,u)=>({idString:`warehouse_layout_${p}`,name:"Warehouse Layout",spawnHitbox:a.fromRect(63.07,114),obstacles:u})),n=o((p,u,y,I)=>{const R=Ur[u];let x,S,b,v,P;switch(y){case"open2":x=new T(a.fromRect(1.85,28,e.create(6.1,0)),a.fromRect(1.85,28,e.create(-6.1,0))),S=new T(a.fromRect(.91,27.05,e.create(-6.11,0)),a.fromRect(.91,27.05,e.create(6.11,0))),b=a.fromRect(16,39.9),v=I?"container_ceiling_3":"container_ceiling_2",P="container_ceiling_2";break;case"open1":x=new T(a.fromRect(1.85,28,e.create(6.1,0)),a.fromRect(1.85,28,e.create(-6.1,0)),a.fromRect(14,1.85,e.create(0,-13.07))),S=new T(a.fromRect(.91,27.05,e.create(-6.11,0)),a.fromRect(.91,27.05,e.create(6.11,0)),a.fromRect(13.13,.92,e.create(0,-13.07))),b=a.fromRect(16,34.9,e.create(0,2)),v=I?"container_ceiling_4":"container_ceiling_1",P=I?"container_ceiling_5":"container_ceiling_2";break;case"closed":default:x=a.fromRect(14,28),b=a.fromRect(16,30),v=P="container_ceiling_1";break}const D=y==="closed";return{idString:`container_${p}`,name:`Container ${p}`,hitbox:x,reflectBullets:!0,material:"metal_heavy",particle:`container_particle_${u}`,spawnHitbox:b,ceilingHitbox:a.fromRect(12,27),graphics:D?[]:[{color:R,hitbox:a.fromRect(14,28)},{color:Gr[u],hitbox:x},{color:Nr[u],hitbox:S}],graphicsZIndex:k.BuildingsFloor+1,ceilingImages:[{key:v,position:e.create(0,-6.98),tint:R},{key:P,position:e.create(0,6.98),rotation:Math.PI,tint:R}],floors:[{type:F.Metal,hitbox:a.fromRect(14,28)}],lootSpawners:D?[]:[{position:e.create(0,0),table:"ground_loot"}]}}),r=o((p,u,y=!1)=>{const I=ye[u];return{idString:`tent_${p}`,name:`Tent ${p}`,spawnHitbox:a.fromRect(31,23),ceilingHitbox:a.fromRect(26,16),floorImages:[{key:"tent_floor",position:e.create(0,0),scale:e.create(1.02,1.02),tint:I}],ceilingImages:[{key:"tent_ceiling",position:e.create(0,0),tint:I,residue:"tent_residue",scale:e.create(2.04,2.04)}],floors:[{type:F.Carpet,hitbox:a.fromRect(26.5,18)}],ceilingCollapseSound:"tent_collapse",ceilingCollapseParticle:`tent_ceiling_particle_${u}`,ceilingCollapseParticleVariations:3,resetCeilingResidueScale:!0,destroyUponCeilingCollapse:["pole",`tent_wall_${p}`],wallsToDestroy:1,obstacles:y?[{idString:"pole",position:e.create(0,0)},{idString:`tent_wall_${p}`,position:e.create(0,-8),rotation:0},{idString:`tent_wall_${p}`,position:e.create(0,8),rotation:2},{idString:"box",position:e.create(0,5)},{idString:"box",position:e.create(-7,5)},{idString:"box",position:e.create(7,5)}]:[{idString:"pole",position:e.create(0,0)},{idString:`tent_wall_${p}`,position:e.create(0,-8),rotation:0},{idString:`tent_wall_${p}`,position:e.create(0,8),rotation:2},{idString:"box",position:e.create(0,5)}],lootSpawners:[{table:y?"warehouse":"ground_loot",position:e.create(0,-5)}]}}),l=o((p,u,y,I)=>({idString:`hay_shed_${p}`,name:`Hay Shed ${p}`,spawnHitbox:a.fromRect(47,32),ceilingHitbox:a.fromRect(33.5,24.5,e.create(-1.2,-.5)),floorImages:[{key:"fall_patch_floor",position:e.create(0,0),scale:e.create(2.14,2.14),zIndex:k.Ground}],ceilingImages:[{key:`hay_shed_ceiling_${u}`,position:e.create(-1,-.5),residue:"hay_shed_residue",scale:e.create(2.14,2.14)}],ceilingCollapseParticle:"hay_shed_ceiling_particle",ceilingCollapseParticleVariations:2,wallsToDestroy:2,obstacles:[{idString:"pole",position:e.create(14.04,-11.53)},{idString:"pole",position:e.create(-16.68,-11.55)},{idString:"pole",position:e.create(-16.52,10.83)},{idString:"pole",position:e.create(13.98,10.87)},...y],lootSpawners:I??[]})),d=o((p,u)=>{const y=ye[u];return{idString:`tent_big_${p}`,name:`Big Tent ${p}`,spawnHitbox:a.fromRect(58,35),ceilingHitbox:a.fromRect(44,27),floorImages:[{key:"tent_floor_big",position:e.create(0,0),scale:e.create(2.04,2.04),tint:y}],ceilingImages:[{key:"tent_ceiling_big",position:e.create(0,0),tint:y,residue:"tent_residue_big",scale:e.create(2.02,2.02)}],floors:[{type:F.Carpet,hitbox:a.fromRect(44.25,29)}],ceilingCollapseSound:"tent_collapse",ceilingCollapseParticle:`tent_ceiling_particle_${u}`,ceilingCollapseParticleVariations:3,wallsToDestroy:1,destroyUponCeilingCollapse:["pole",`tent_wall_big_${p}`,"tent_window"],obstacles:[{idString:"pole",position:e.create(3.42,-5.76)},{idString:"pole",position:e.create(-3.42,5.76)},{idString:`tent_wall_big_${p}`,position:e.create(0,-10.5),rotation:2},{idString:`tent_wall_big_${p}`,position:e.create(0,10.5),rotation:0},{idString:"office_chair",position:e.create(-17,-9.73),rotation:1},{idString:{box:1,office_chair:2},position:e.create(25.5,9.65),rotation:2},{idString:{grenade_box:1,box:.5},position:e.create(-18.07,10.49)},{idString:"box",position:e.create(-.07,-10.51)},{idString:"small_bed",position:e.create(12,8.56),rotation:3},{idString:"box",position:e.create(18.17,-10.51),rotation:0},{idString:{box:2,office_chair:1},position:e.create(-25.5,-9.65),rotation:0},{idString:"tent_window",position:e.create(9.11,-14.03),rotation:0},{idString:"tent_window",position:e.create(-9.11,-14.03),rotation:0},{idString:"tent_window",position:e.create(-9.11,14.03),rotation:0},{idString:"tent_window",position:e.create(9.11,14.03),rotation:0}],lootSpawners:[{table:"ground_loot",position:e.create(-10.68,0)},{table:"ground_loot",position:e.create(10.68,0)}]}}),m=o((p,u)=>({idString:`tugboat_${p}`,name:"Tugboat",reflectBullets:!0,material:"metal_heavy",particle:"metal_particle",hitbox:new T(a.fromRect(8.93,2.09,e.create(80.47,-4.78)),a.fromRect(8.93,2.09,e.create(99.51,-4.78)),a.fromRect(2.21,35.83,e.create(104.37,12.09)),a.fromRect(2.14,35.83,e.create(75.67,12.09)),a.fromRect(30.88,1.98,e.create(90.04,29.78)),a.fromRect(.99,14,e.create(69.21,-38)),a.fromRect(12,1,e.create(76,-46.2)),a.fromRect(13,1,e.create(103.5,-46.2)),a.fromRect(1,73,e.create(110.59,-8.5)),a.fromRect(.99,45,e.create(69.21,5.5)),new f(1.45,e.create(70.1,-45.5)),new f(1.45,e.create(81.7,-45.5)),new f(1.45,e.create(97.4,-45.5)),new f(1.45,e.create(109.7,-45.5)),new f(1.45,e.create(109.7,-30.8)),new f(1.45,e.create(70.1,-30.8)),new f(1.45,e.create(109.7,-16.6)),new f(1.45,e.create(70.1,-16.6)),new f(1.45,e.create(109.7,-1.6)),new f(1.45,e.create(70.1,-1.6)),new f(1.45,e.create(109.7,13.4)),new f(1.45,e.create(70.1,13.4)),new f(1.45,e.create(109.7,27.6)),new f(1.45,e.create(70.1,27.6)),new f(2,e.create(90,45)),new f(2,e.create(91.5,44.99)),new f(2,e.create(93,44.95)),new f(2,e.create(94.5,44.84)),new f(2,e.create(96,44.61)),new f(2,e.create(97.5,44.23)),new f(2,e.create(99,43.65)),new f(2,e.create(100.5,42.8)),new f(2,e.create(102,41.61)),new f(2,e.create(103.5,39.99)),new f(2,e.create(105,37.78)),new f(2,e.create(106.5,34.72)),new f(2,e.create(108,30.23)),new f(2,e.create(90,45)),new f(2,e.create(88.5,44.99)),new f(2,e.create(87,44.95)),new f(2,e.create(85.5,44.84)),new f(2,e.create(84,44.61)),new f(2,e.create(82.5,44.23)),new f(2,e.create(81,43.65)),new f(2,e.create(79.5,42.8)),new f(2,e.create(78,41.61)),new f(2,e.create(76.5,39.99)),new f(2,e.create(75,37.78)),new f(2,e.create(73.5,34.72)),new f(2,e.create(72,30.23))),spawnMode:ce.Beach,spawnHitbox:a.fromRect(70,110,e.create(90,0)),ceilingHitbox:a.fromRect(30,35,e.create(90,12.5)),floorImages:[{key:`tugboat_${p}_floor_1`,position:e.create(90,-23.7)},{key:`tugboat_${p}_floor_2`,position:e.create(90,23.7)}],ceilingImages:[{key:`tugboat_${p}_ceiling`,position:e.create(90,12.5)}],floors:[{type:F.Wood,hitbox:a.fromRect(29,71.5,e.create(90,-7))},{type:F.Metal,hitbox:a.fromRect(39.5,75,e.create(90,-8))},{type:F.Metal,hitbox:a.fromRect(9.7,10,e.create(71,-23.7))},{type:F.Metal,hitbox:a.fromRect(10,8.7,e.create(89.9,-46))}],obstacles:[{idString:"tire",position:e.create(111.28,5.18),rotation:0},{idString:"tire",position:e.create(111.4,14.57),rotation:0},{idString:"tire",position:e.create(111.4,24.17),rotation:0},{idString:"tire",position:e.create(71.55,24.17),rotation:0},{idString:"tire",position:e.create(71.5,14.57),rotation:0},{idString:"tire",position:e.create(71.45,5.12),rotation:0},{idString:"regular_crate",position:e.create(81.48,-37.36)},{idString:"regular_crate",position:e.create(101.49,-11.45)},{idString:"grenade_crate",position:e.create(102.3,-38.43)},{idString:"barrel",position:e.create(102.74,-26.23)},{idString:"tugboat_control_panel",position:e.create(90,24.1),rotation:0},{idString:"office_chair",position:e.create(90,16.65),rotation:0},{idString:"door",position:e.create(90.45,-4.8),rotation:0},{idString:"large_drawer",position:e.create(99.29,2.98),rotation:3},{idString:"life_preserver",position:e.create(101.23,14.67),rotation:0},{idString:u,position:e.create(80.38,4.29),rotation:1},{idString:"window2",position:e.create(83.91,30.75),rotation:1},{idString:"window2",position:e.create(95.63,30.75),rotation:1}],lootSpawners:p==="red"?[{table:"tugboat_red_floor",position:e.create(89,-25)}]:[]})),h=o((p,u)=>({idString:`port_warehouse_${p}`,name:"Port Warehouse",reflectBullets:!0,material:"metal_heavy",particle:"metal_particle",hitbox:new T(a.fromRect(2,18.4,e.create(-29.53,-51.54)),a.fromRect(2,18.4,e.create(29.53,51.54)),a.fromRect(2,18.4,e.create(-29.53,51.54)),a.fromRect(2,18.4,e.create(29.53,-51.54)),a.fromRect(60,2,e.create(0,-59.79)),a.fromRect(60,2,e.create(0,59.79)),a.fromRect(2,35.55,e.create(-29.53,0)),a.fromRect(2,35.55,e.create(29.53,0)),a.fromRect(13,2,e.create(22.34,-16.85)),a.fromRect(13,2,e.create(-22.34,16.85)),a.fromRect(1.74,25,e.create(-29.65,-30)),a.fromRect(1.74,25,e.create(29.65,30))),spawnHitbox:a.fromRect(72,130),ceilingHitbox:a.fromRect(58,118),floorImages:[{key:"port_warehouse_floor",position:e.create(2.04,-30.38)},{key:"port_warehouse_floor",position:e.create(-2.04,30.38),rotation:Math.PI}],ceilingImages:[{key:"port_warehouse_ceiling",position:e.create(0,0),tint:u,scale:e.create(2.01,2.05)}],obstacles:[{idString:"super_barrel",position:e.create(-10,-52)},{idString:"regular_crate",position:e.create(-22,-52)},{idString:"forklift",position:e.create(15,-52),rotation:3},{idString:"regular_crate",position:e.create(-22,-10)},{idString:"regular_crate",position:e.create(-20,0)},{idString:"regular_crate",position:e.create(-22,10)},{idString:"forklift",position:e.create(-8,-2),rotation:2},{idString:{regular_crate:.3,flint_crate:1},position:e.create(-11,50)},{idString:"regular_crate",position:e.create(-22,52)},{idString:"barrel",position:e.create(1,52)},{idString:"super_barrel",position:e.create(10,48)},{idString:"barrel",position:e.create(23,52)},{idString:"barrel",position:e.create(17,5)},{idString:"barrel",position:e.create(24,0)},{idString:"box",position:e.create(24,9)},{idString:"box",position:e.create(19,12)}]}));return[{idString:"porta_potty",name:"Porta Potty",spawnHitbox:a.fromRect(20,32),ceilingHitbox:a.fromRect(14,18),floorImages:[{key:"porta_potty_floor_1",position:e.create(0,-3.8)},{key:"porta_potty_floor_2",position:e.create(0,7)}],ceilingImages:[{key:"porta_potty_ceiling_2",position:e.create(0,0),residue:"porta_potty_residue"},{key:"porta_potty_ceiling_1",position:e.create(0,-4.81)},{key:"porta_potty_ceiling_2",position:e.create(0,4.825)}],wallsToDestroy:2,floors:[{type:F.Wood,hitbox:a.fromRect(14,18)},{type:F.Wood,hitbox:a.fromRect(9.8,3.5,e.create(1.5,10.6))}],obstacles:[{idString:{porta_potty_toilet_open:.7,porta_potty_toilet_closed:.3},position:e.create(0,-5),lootSpawnOffset:e.create(0,5),rotation:0},{idString:"porta_potty_back_wall",position:e.create(0,-8.75),rotation:0},{idString:"porta_potty_sink_wall",position:e.create(-5.65,0),rotation:3},{idString:"porta_potty_toilet_paper_wall",position:e.create(5.7,0),rotation:3},{idString:"porta_potty_door",position:e.create(2.2,8.8),rotation:0},{idString:"porta_potty_front_wall",position:e.create(-4.6,8.66),rotation:2}]},{idString:"outhouse",name:"Outhouse",spawnHitbox:a.fromRect(19,29),ceilingHitbox:a.fromRect(14.94,20,e.create(0,-2.02)),floorImages:[{key:"outhouse_floor",position:e.create(0,0)}],ceilingImages:[{key:"outhouse_ceiling",position:e.create(0,-1.95),residue:"outhouse_residue"}],wallsToDestroy:2,floors:[{type:F.Wood,hitbox:a.fromRect(14.94,20.8,e.create(0,-2.02))},{type:F.Stone,hitbox:a.fromRect(10,4.7,e.create(0,10.07))}],obstacles:[{idString:$t,position:e.create(0,-6),rotation:0},{idString:"outhouse_back_wall",position:e.create(0,-11.55),rotation:0},{idString:"outhouse_toilet_paper_wall",position:e.create(-5.58,-2.83),rotation:0},{idString:"outhouse_side_wall",position:e.create(6.76,-2.83),rotation:0},{idString:"outhouse_front_wall",position:e.create(6.25,7.68),rotation:0},{idString:"outhouse_front_wall",position:e.create(-6.25,7.68),rotation:0},{idString:"outhouse_door",position:e.create(-.05,7.64),rotation:0}]},{idString:"firework_warehouse",name:"Firework Warehouse",material:"stone",particle:"wall_particle",hitbox:new T(a.fromRect(27.7,1.75,e.create(-19,-23)),a.fromRect(27.7,1.75,e.create(19,-23)),a.fromRect(27.7,1.75,e.create(-19,23)),a.fromRect(27.7,1.75,e.create(19,23)),a.fromRect(1.75,18,e.create(32.3,15)),a.fromRect(1.75,18,e.create(32.3,-15)),a.fromRect(1.75,18,e.create(-32.3,15)),a.fromRect(1.75,18,e.create(-32.3,-15))),spawnHitbox:a.fromRect(110,70),ceilingHitbox:a.fromRect(65,48),floorImages:[{key:"firework_warehouse_floor_1_top",position:e.create(-17.4,-14)},{key:"firework_warehouse_floor_1_bottom",position:e.create(-17.4,14)},{key:"firework_warehouse_floor_2_top",position:e.create(17.4,-14)},{key:"firework_warehouse_floor_2_bottom",position:e.create(17.4,14)}],ceilingImages:[{key:"firework_warehouse_ceiling_1",position:e.create(-16.5,0),scale:e.create(2,2)},{key:"firework_warehouse_ceiling_2",position:e.create(17,0),scale:e.create(2,2)}],floors:[{type:F.Stone,hitbox:a.fromRect(65,48,e.create(0,0))}],obstacles:[{idString:to,position:e.create(-27,18)},{idString:to,position:e.create(27,-18)},{idString:"window",position:e.create(32.4,0),rotation:2},{idString:"window",position:e.create(-32.4,0),rotation:2},{idString:"door",position:e.create(-.47,23),rotation:2},{idString:"door",position:e.create(.47,-23),rotation:0},{idString:"confetti_grenade_box",position:e.create(29,-12)},{idString:"rocket_box",position:e.create(-29,12)},{idString:"confetti_grenade_box",position:e.create(-27,7)},{idString:"rocket_box",position:e.create(-22,9)},{idString:ea,position:e.create(-17,17)},{idString:ea,position:e.create(17,-17)},{idString:"ammo_crate",position:e.create(26.8,17)},{idString:ea,position:e.create(-26.8,-17)},{idString:{box:9,grenade_box:1},position:e.create(18.8,14)},{idString:"confetti_grenade_box",position:e.create(20,19)},{idString:"hazel_crate",position:e.create(0,0)}]},s([1,[{idString:"ammo_crate",position:e.create(-19.53,-26.33)},{idString:"box",position:e.create(22.08,-38.77)},{idString:"box",position:e.create(17,-38)},{idString:"box",position:e.create(20.47,-33)},{idString:"super_barrel",position:e.create(20.13,-26.24)},{idString:"ammo_crate",position:e.create(-10,0)},{idString:"ammo_crate",position:e.create(10,0)},{idString:"regular_crate",position:e.create(0,5)},{idString:"regular_crate",position:e.create(0,-5)},{idString:"barrel",position:e.create(-20.34,27.05)},{idString:"box",position:e.create(21.65,28.5)},{idString:"regular_crate",position:e.create(19.39,36.48)}]]),s([2,[{idString:"barrel",position:e.create(-20.34,-27.05)},{idString:"grenade_box",position:e.create(-21.81,-19.82)},{idString:"regular_crate",position:e.create(19.39,-36.48)},{idString:"super_barrel",position:e.create(20.13,-26.24)},{idString:"ammo_crate",position:e.create(-10,0)},{idString:"ammo_crate",position:e.create(10,0)},{idString:"barrel",position:e.create(0,5)},{idString:"box",position:e.create(-2.26,-3.25)},{idString:"box",position:e.create(2.5,-7.02)},{idString:"box",position:e.create(8.39,8.04)},{idString:"box",position:e.create(-8.39,8.04)},{idString:"ammo_crate",position:e.create(-19.53,26.33)},{idString:"box",position:e.create(-21.74,17.98)},{idString:"box",position:e.create(21.65,28.5)},{idString:"grenade_box",position:e.create(17.06,23.3)},{idString:"regular_crate",position:e.create(19.39,36.48)}]]),s([3,[{idString:"barrel",position:e.create(-20.34,-26.33)},{idString:"grenade_crate",position:e.create(20.42,-37.61)},{idString:"barrel",position:e.create(20.13,-28.5)},{idString:"regular_crate",position:e.create(-10,0)},{idString:"regular_crate",position:e.create(10,0)},{idString:"ammo_crate",position:e.create(0,5)},{idString:"ammo_crate",position:e.create(0,-5)},{idString:"super_barrel",position:e.create(-20.34,27.05)},{idString:"box",position:e.create(16.57,38.75)},{idString:"box",position:e.create(21.97,33.38)},{idString:"grenade_box",position:e.create(21.96,38.75)}]]),{idString:"warehouse",name:"Warehouse",reflectBullets:!0,material:"metal_heavy",particle:"metal_particle",hitbox:new T(a.fromRect(14.05,1.97,e.create(-20.01,-43.01)),a.fromRect(14.05,1.97,e.create(20.01,-43.01)),a.fromRect(14.05,1.97,e.create(-20.01,43.01)),a.fromRect(14.05,1.97,e.create(20.01,43.01)),a.fromRect(1.97,87.84,e.create(-26,0)),a.fromRect(1.97,87.84,e.create(26,0))),spawnHitbox:a.fromRect(63.07,114),ceilingHitbox:a.fromRect(52.92,89),floorImages:[{key:"warehouse_floor_1",position:e.create(0,-26.5)},{key:"warehouse_floor_2",position:e.create(0,26.5)}],ceilingImages:[{key:"warehouse_ceiling_1",position:e.create(0,-22.25),scale:e.create(2,2)},{key:"warehouse_ceiling_2",position:e.create(0,22.25),scale:e.create(2,2)}],floors:[{type:F.Stone,hitbox:a.fromRect(54.04,105.96)}],obstacles:[{idString:eo,position:e.create(-19.39,-36.48)},{idString:eo,position:e.create(-19.39,36.48)}],subBuildings:[{idString:{warehouse_layout_1:1,warehouse_layout_2:1,warehouse_layout_3:1},position:e.create(0,0)}]},h(["red",8466737]),h(["blue",3026538]),{idString:"refinery",name:"Refinery",material:"stone",particle:"rock_particle",particleVariations:2,hitbox:new T(a.fromRect(57,1.8,e.create(-22,-36.1)),a.fromRect(30.75,1.8,e.create(35.38,-36.1)),a.fromRect(2,33.5,e.create(49.75,-22.25)),a.fromRect(16.25,2.05,e.create(42.63,-6.53)),a.fromRect(38.5,2.05,e.create(2.25,-6.53)),a.fromRect(2,21.55,e.create(-16,3.23)),a.fromRect(2,13.5,e.create(-16,30.25)),a.fromRect(35.5,2,e.create(-32.75,36.25)),a.fromRect(2,74,e.create(-49.5,0)),a.fromRect(13.3,2,e.create(-43.35,9)),a.fromRect(10.5,2,e.create(-21.25,9)),a.fromRect(40.2,1.93,e.create(-33.85,83)),a.fromRect(1.93,18,e.create(-53,73.3)),a.fromRect(1.93,86,e.create(-53,2.05)),a.fromRect(60,1.93,e.create(-22,-40)),a.fromRect(64,1.93,e.create(51,-40)),a.fromRect(19,1.93,e.create(114.45,-40)),a.fromRect(1.93,39,e.create(123,-19.7)),a.fromRect(1.93,55.7,e.create(123,56.1)),a.fromRect(102,1.93,e.create(71.7,83))),spawnHitbox:a.fromRect(184,131,e.create(35,21.5)),ceilingHitbox:new T(a.fromRect(33.5,72,e.create(-32.75,0)),a.fromRect(65.5,29.5,e.create(16.75,-21.25))),floorImages:[{key:"refinery_floor_1",position:e.create(0,-18.1)},{key:"refinery_floor_2",position:e.create(-32.85,19)},{key:"concrete_wall_end",position:e.create(-15,83)},{key:"concrete_wall_corner",position:e.create(-53,83)},{key:"concrete_wall_end_broken_1",position:e.create(-53,65.5),rotation:Math.PI*1.5},{key:"concrete_wall_end_broken_2",position:e.create(-53,44),rotation:Math.PI/2},{key:"concrete_wall_corner",position:e.create(-53,-40),rotation:Math.PI/2},{key:"concrete_wall_end_broken_1",position:e.create(7,-40)},{key:"concrete_wall_end_broken_2",position:e.create(20,-40),rotation:Math.PI},{key:"concrete_wall_end_broken_2",position:e.create(82,-40)},{key:"concrete_wall_end_broken_1",position:e.create(106,-40),rotation:Math.PI},{key:"concrete_wall_corner",position:e.create(123,-40),rotation:Math.PI},{key:"concrete_wall_end",position:e.create(123,-1.5),rotation:Math.PI/2},{key:"concrete_wall_end",position:e.create(123,29.5),rotation:Math.PI*1.5},{key:"concrete_wall_corner",position:e.create(123,83),rotation:Math.PI*1.5},{key:"concrete_wall_end",position:e.create(22,83),rotation:Math.PI}],ceilingImages:[{key:"refinery_ceiling_1",position:e.create(0,-21.3)},{key:"refinery_ceiling_2",position:e.create(-32.85,15.75)}],groundGraphics:[{color:5855577,hitbox:a.fromRect(176,123,e.create(35,21.5))},{color:11710976,hitbox:new f(21,e.create(45.5,59.1))},{color:5263440,hitbox:new f(19,e.create(45.5,59.1))},{color:11710976,hitbox:new f(21,e.create(97,59.1))},{color:5263440,hitbox:new f(19,e.create(97,59.1))},{color:11710976,hitbox:a.fromRect(2,81,e.create(-9,42.5))},{color:11710976,hitbox:a.fromRect(2,59,e.create(16,53.5))},{color:11710976,hitbox:a.fromRect(133,2,e.create(56.5,3))},{color:11710976,hitbox:a.fromRect(108,2,e.create(69,25))}],graphics:[{color:3355443,hitbox:a.fromRect(36,1.93,e.create(-34.25,83))},{color:8421504,hitbox:a.fromRect(36,1.22,e.create(-34.25,83))},{color:3355443,hitbox:a.fromRect(1.93,16,e.create(-53,74.2))},{color:8421504,hitbox:a.fromRect(1.22,16,e.create(-53,74.2))},{color:3355443,hitbox:a.fromRect(1.93,82,e.create(-53,1.75))},{color:8421504,hitbox:a.fromRect(1.22,82,e.create(-53,1.75))},{color:3355443,hitbox:a.fromRect(58,1.93,e.create(-23.4,-40))},{color:8421504,hitbox:a.fromRect(58,1.22,e.create(-23.4,-40))},{color:3355443,hitbox:a.fromRect(60,1.93,e.create(51,-40))},{color:8421504,hitbox:a.fromRect(60,1.22,e.create(51,-40))},{color:3355443,hitbox:a.fromRect(15,1.93,e.create(114.7,-40))},{color:8421504,hitbox:a.fromRect(15,1.22,e.create(114.7,-40))},{color:3355443,hitbox:a.fromRect(1.93,36.5,e.create(123,-21))},{color:8421504,hitbox:a.fromRect(1.22,36.5,e.create(123,-21))},{color:3355443,hitbox:a.fromRect(1.93,52,e.create(123,56.2))},{color:8421504,hitbox:a.fromRect(1.22,52,e.create(123,56.2))},{color:3355443,hitbox:a.fromRect(100,1.93,e.create(72.2,83))},{color:8421504,hitbox:a.fromRect(100,1.22,e.create(72.2,83))}],floors:[{type:F.Wood,hitbox:a.fromRect(33.5,27,e.create(-32.75,22.5))},{type:F.Stone,hitbox:a.fromRect(176,123,e.create(35,21.5))}],obstacles:[{idString:"window",position:e.create(-16,18.5),rotation:0},{idString:"door",position:e.create(-31.15,9.2),rotation:0},{idString:"small_table",position:e.create(-22,28),rotation:0,variation:0},{idString:"chair",position:e.create(-26,28),rotation:3},{idString:{gun_mount_mcx_spear:.99,gun_mount_stoner_63:.01},position:e.create(-46.8,28),rotation:1,lootSpawnOffset:e.create(4,0)},{idString:"trash_can",position:e.create(-44.9,13.43),lootSpawnOffset:e.create(1,0)},{idString:"small_refinery_barrel",position:e.create(41.3,-14.8)},{idString:"distillation_column",position:e.create(42.7,-28),rotation:0},{idString:"distillation_column",position:e.create(-42.65,1),rotation:0},{idString:"distillation_equipment",position:e.create(0,-18),rotation:2},{idString:"smokestack",position:e.create(-39,-25.59)},{idString:{barrel:1,super_barrel:1},position:e.create(-26,-30)},{idString:{barrel:1,super_barrel:1},position:e.create(-21.5,4)},{idString:"regular_crate",position:e.create(28.75,-30)},{idString:"regular_crate",position:e.create(-43,-11)},{idString:"oil_tank",position:e.create(-38,73),rotation:0},{idString:"barrel",position:e.create(-20.5,77.5),rotation:0},{idString:"barrel",position:e.create(-21.5,67),rotation:0},{idString:"regular_crate",position:e.create(-46.5,45.5)},{idString:"regular_crate",position:e.create(-36,48)},{idString:"large_refinery_barrel",position:e.create(45.5,59.1)},{idString:"large_refinery_barrel",position:e.create(97,59.2)},{idString:"regular_crate",position:e.create(69,62)},{idString:"aegis_crate",position:e.create(64,75)},{idString:"aegis_crate",position:e.create(77,73)},{idString:"barrel",position:e.create(117.5,77.5)},{idString:"regular_crate",position:e.create(117,40)},{idString:"super_barrel",position:e.create(27.5,39)},{idString:"barrel",position:e.create(-10,0)},{idString:"oil_tank",position:e.create(113,-25),rotation:1},{idString:"barrel",position:e.create(117.5,-7)},{idString:"regular_crate",position:e.create(95,-33)},{idString:"aegis_crate",position:e.create(76.25,-33.5)},{idString:"super_barrel",position:e.create(85.25,-33.5)},{idString:{barrel:1,super_barrel:1},position:e.create(83,-25)},{idString:"super_barrel",position:e.create(75,-23)},{idString:"regular_crate",position:e.create(76.25,-12)},{idString:"inner_concrete_wall_1",position:e.create(116.75,-1.5),rotation:0},{idString:"inner_concrete_wall_1",position:e.create(106.05,-1.5),rotation:0},{idString:"inner_concrete_wall_2",position:e.create(70.05,-20.75),rotation:1},{idString:"inner_concrete_wall_1",position:e.create(74.5,-1.5),rotation:0},{idString:"inner_concrete_wall_1",position:e.create(116.75,34),rotation:0},{idString:"inner_concrete_wall_1",position:e.create(106.05,34),rotation:0},{idString:"inner_concrete_wall_1",position:e.create(95.35,34),rotation:0},{idString:"inner_concrete_wall_1",position:e.create(47.84,34),rotation:0},{idString:"inner_concrete_wall_1",position:e.create(37.14,34),rotation:0},{idString:"inner_concrete_wall_1",position:e.create(26.44,34),rotation:0},{idString:"inner_concrete_wall_4",position:e.create(22,58.5),rotation:1},{idString:"inner_concrete_wall_3",position:e.create(-32.45,39),rotation:0},{idString:"inner_concrete_wall_1",position:e.create(-15,76.65),rotation:1},{idString:"inner_concrete_wall_1",position:e.create(-15,65.95),rotation:1}],subBuildings:[{idString:"porta_potty",position:e.create(59.75,-27.6)}]},{idString:"red_house",name:"Red House",material:"stone",particle:"wall_particle",hitbox:new T(a.fromRect(2,9,e.create(30.8,-26)),a.fromRect(2,22,e.create(30.8,-.2)),a.fromRect(2,9.8,e.create(30.8,25)),a.fromRect(19.8,2,e.create(-22,-29.5)),a.fromRect(8.2,2,e.create(26,-29.5)),a.fromRect(14,2,e.create(4.6,-29.5)),a.fromRect(2,32,e.create(-30.9,-13.5)),a.fromRect(2,16,e.create(-30.9,20.5)),a.fromRect(12.3,2,e.create(-25.8,28.9)),a.fromRect(39.4,2,e.create(10.45,28.9)),a.fromRect(3,3,e.create(8.75,-6.12))),spawnHitbox:a.fromRect(80,80),ceilingHitbox:a.fromRect(60,56),floorImages:[{key:"red_house_floor_1",position:e.create(0,-17.23)},{key:"red_house_floor_2",position:e.create(0,17.23)}],ceilingImages:[{key:"red_house_ceiling",position:e.create(0,-.25),scale:e.create(2,2)}],floors:[{type:F.Wood,hitbox:a.fromRect(62,58.5,e.create(0,-.25))},{type:F.Stone,hitbox:a.fromRect(-10.1,4.7,e.create(16.55,-31.75))},{type:F.Stone,hitbox:a.fromRect(10.1,-4.7,e.create(-14.45,31.75))}],obstacles:[{idString:"house_wall_4",position:e.create(8.6,-18),rotation:1},{idString:"house_wall_1",position:e.create(2.6,-6.07),rotation:0},{idString:"house_wall_9",position:e.create(-20.98,-6.07),rotation:0},{idString:"door",position:e.create(-7.45,-6.06),rotation:2},{idString:"bookshelf",position:e.create(5.11,-21.95),rotation:1},{idString:"couch",position:e.create(-21.48,-1.01),rotation:3},{idString:"large_drawer",position:e.create(-25.98,21.3),rotation:1},{idString:"house_wall_4",position:e.create(-2.5,17.2),rotation:1},{idString:"house_wall_4",position:e.create(9.55,17.2),rotation:1},{idString:"door",position:e.create(3.1,7.2),rotation:2},{idString:{toilet:2,used_toilet:1},position:e.create(3.6,23),rotation:2},{idString:"door",position:e.create(-14.85,29),rotation:2},{idString:"door",position:e.create(16.2,-29.5),rotation:2},{idString:"bookshelf",position:e.create(-6,17.5),rotation:3},{idString:"stove",position:e.create(15.5,24),rotation:2},{idString:"fridge",position:e.create(25,24),rotation:2},{idString:"chair",position:e.create(25,5),rotation:0},{idString:"chair",position:e.create(25,-5),rotation:2},{idString:"small_table",position:e.create(25,0),rotation:2,variation:0},{idString:"small_drawer",position:e.create(26,-25),rotation:3},{idString:"bed",position:e.create(-21.5,-22.5),rotation:1},{idString:"small_drawer",position:e.create(-26,-11.5),rotation:1},{idString:"window",position:e.create(-7.2,-29.5),rotation:1},{idString:"window",position:e.create(-31,7.5),rotation:2},{idString:"window",position:e.create(31,15.4),rotation:2},{idString:"window",position:e.create(31,-15.9),rotation:2}],lootSpawners:[{table:"ground_loot",position:e.create(16.44,-15.64)},{table:"ground_loot",position:e.create(-15.42,17.44)}]},{idString:"red_house_v2",name:"Red House Variation 2",material:"stone",particle:"wall_particle",hitbox:new T(a.fromRect(1.8,60.1,e.create(-31.25,-.3)),a.fromRect(1.8,40.5,e.create(30.1,-9)),a.fromRect(1.8,6.5,e.create(30.1,25.1)),a.fromRect(18.6,1.8,e.create(21.6,-29.5)),a.fromRect(12,1.8,e.create(-4.1,-29.5)),a.fromRect(10.5,1.8,e.create(-26,-29.5)),a.fromRect(18.6,1.8,e.create(21.6,28.7)),a.fromRect(12,1.8,e.create(-4.1,28.7)),a.fromRect(10.5,1.8,e.create(-26,28.7)),a.fromRect(3,3,e.create(16.15,-5.6)),a.fromRect(3,3,e.create(.8,10.35))),spawnHitbox:a.fromRect(80,80),ceilingHitbox:a.fromRect(60,56),floorImages:[{key:"red_house_v2_floor_1",position:e.create(-16.22,0)},{key:"red_house_v2_floor_2",position:e.create(16.28,0)}],ceilingImages:[{key:"red_house_ceiling",position:e.create(-.6,-.25),scale:e.create(2,2)}],floors:[{type:F.Wood,hitbox:a.fromRect(62,59,e.create(0,-.25))},{type:F.Stone,hitbox:a.fromRect(-10.1,4.7,e.create(7.15,-31.75))},{type:F.Stone,hitbox:a.fromRect(10.1,-4.7,e.create(7.15,31.75))}],obstacles:[{idString:"door",position:e.create(7.6,-29.6),rotation:0},{idString:"door",position:e.create(6.7,28.8),rotation:2},{idString:"house_wall_1",position:e.create(-4.5,-9),rotation:0},{idString:"house_wall_3",position:e.create(-24.85,-9),rotation:0},{idString:"door",position:e.create(-14.55,-9),rotation:2},{idString:"house_wall_10",position:e.create(1,-18.3),rotation:1},{idString:"small_bed",position:e.create(-4,-19.4),rotation:0},{idString:"large_drawer",position:e.create(-26.7,-19.4),lootSpawnOffset:e.create(2,0),rotation:1},{idString:"tv",position:e.create(-29.8,-19.4),rotation:2},{idString:"small_table",position:e.create(24.85,2),rotation:0,variation:0},{idString:"chair",position:e.create(24.85,7.5),rotation:0},{idString:"chair",position:e.create(21,0),rotation:3},{idString:"bookshelf",position:e.create(22.5,25.5),rotation:0},{idString:"house_wall_1",position:e.create(-5,10.25),rotation:0},{idString:"house_wall_1",position:e.create(-26.05,10.25),rotation:0},{idString:"house_wall_12",position:e.create(1,19.85),rotation:1},{idString:"potted_plant",position:e.create(-26,5.55)},{idString:"red_small_couch",position:e.create(-26.6,-3),rotation:1},{idString:"small_stove",position:e.create(-26.6,14.9),rotation:1},{idString:"fridge",position:e.create(-26.77,23.1),rotation:1},{idString:"sink",position:e.create(-4.5,16.4),rotation:3},{idString:"small_drawer",position:e.create(-4.3,24.5),rotation:3},{idString:"door",position:e.create(16.1,-12.5),rotation:1},{idString:"house_wall_11",position:e.create(16.1,-22.9),rotation:1},{idString:$t,position:e.create(23,-24),rotation:0},{idString:"house_wall_11",position:e.create(23.4,-5.5),rotation:0},{idString:"window",position:e.create(30.2,16.7),rotation:0},{idString:"window",position:e.create(-15.2,28.9),rotation:1},{idString:"window",position:e.create(-15.6,-29.7),rotation:1}],lootSpawners:[{table:"ground_loot",position:e.create(0,0)}]},{idString:"green_house",name:"Green House",material:"stone",particle:"wall_particle",hitbox:new T(a.fromRect(21.8,1.88,e.create(-39.9,-30.2)),a.fromRect(51.88,1.88,e.create(8,-30.2)),a.fromRect(1.88,9.3,e.create(33,-2.55)),a.fromRect(10.78,1.87,e.create(28.55,27.46)),a.fromRect(1.88,58,e.create(-49.86,-1)),a.fromRect(42.74,1.87,e.create(-9.3,27.46)),a.fromRect(10.02,1.87,e.create(-45.79,27.46)),a.fromRect(1.88,15.98,e.create(33,20.22)),a.fromRect(1.88,11.08,e.create(33,-23.88)),a.fromRect(3.5,3.5,e.create(42.75,-.67)),a.fromRect(3.5,3.5,e.create(42.75,14.8)),a.fromRect(3,3,e.create(-7.33,9.98)),a.fromRect(3,3,e.create(11.76,-6.26)),a.fromRect(3,3,e.create(-7.27,-6.32))),spawnHitbox:a.fromRect(110,70),ceilingHitbox:new T(a.fromRect(83,58,e.create(-8.5,-1.5)),a.fromRect(14,19.4,e.create(38,7.1))),floorImages:[{key:"green_house_floor_1",position:e.create(-26.66,0)},{key:"green_house_floor_2",position:e.create(21.5,0)}],ceilingImages:[{key:"green_house_ceiling_1",position:e.create(22,-1.1),scale:e.create(2,2)},{key:"green_house_ceiling_2",position:e.create(-27,-1.1),scale:e.create(2,2)}],floors:[{type:F.Wood,hitbox:new T(a.fromRect(83,58,e.create(-8.5,-1.5)),a.fromRect(14,19.4,e.create(38,7.1)),a.fromRect(6,13.5,e.create(47.7,7.1)))},{type:F.Stone,hitbox:a.fromRect(10.3,5,e.create(-35.7,30.2))}],obstacles:[{idString:"window",position:e.create(32.99,-12.81),rotation:0},{idString:"window",position:e.create(17.59,27.52),rotation:1},{idString:"window",position:e.create(-23.44,-30.22),rotation:1},{idString:"door",position:e.create(33.03,6.74),rotation:1},{idString:"door",position:e.create(11.94,-13.22),rotation:1},{idString:"door",position:e.create(-36.15,27.47),rotation:2},{idString:"door",position:e.create(-22.56,-6.26),rotation:0},{idString:"house_wall_1",position:e.create(-13.3,-6.24),rotation:0},{idString:"house_wall_3",position:e.create(11.94,-23.55),rotation:1},{idString:"house_wall_4",position:e.create(-7.26,-18.54),rotation:1},{idString:"house_wall_5",position:e.create(2.24,-6.35),rotation:0},{idString:"house_wall_6",position:e.create(-7.33,18.92),rotation:1},{idString:"house_wall_7",position:e.create(-38.53,-6.29),rotation:0},{idString:$t,position:e.create(-2.75,-24.92),rotation:0},{idString:"trash_can",position:e.create(-3,-10.5)},{idString:"sink",position:e.create(5.91,-25.15),rotation:0},{idString:"bed",position:e.create(-43.06,-20.98),rotation:0},{idString:"small_drawer",position:e.create(-33.63,-25.48),rotation:0},{idString:"potted_plant",position:e.create(17.46,-25.03)},{idString:"potted_plant",position:e.create(-12.73,-12.13)},{idString:"washing_machine",position:e.create(27.07,-25.54),rotation:0},{idString:"tv",position:e.create(2.43,-4.51),rotation:1},{idString:"large_drawer",position:e.create(28.24,20),rotation:3},{idString:"couch",position:e.create(2.36,22.18),rotation:1},{idString:"small_table",position:e.create(2.02,11.51),rotation:1,variation:1},{idString:"large_table",position:e.create(-15.91,16.87),rotation:0,variation:1},{idString:"chair",position:e.create(-21.87,20.61),rotation:3},{idString:"chair",position:e.create(-21.87,13.45),rotation:3},{idString:"chair",position:e.create(-16.02,8.25),rotation:2},{idString:"fridge",position:e.create(-45.15,21.66),rotation:1},{idString:"stove",position:e.create(-45.15,12.3),rotation:1},{idString:"large_drawer",position:e.create(-45.12,1.28),rotation:1},{idString:"gun_mount_hp18",position:e.create(30.33,-2.98),rotation:3,lootSpawnOffset:e.create(-4,0)},{idString:"bookshelf",position:e.create(-10.88,-22.62),rotation:1}],lootSpawners:[{table:"ground_loot",position:e.create(18.48,6.37)},{table:"ground_loot",position:e.create(-23.91,-18.07)}]},i([1,[{idString:"box",position:e.create(12.5,10.5)},{idString:"box",position:e.create(14,15.5)}]]),i([3,[{idString:"box",position:e.create(12.5,10.5)},{idString:"box",position:e.create(12.5,15.5)},{idString:"box",position:e.create(17.5,15.5)}]]),i([4,[{idString:"gun_case",position:e.create(12.5,13),rotation:1},{idString:"box",position:e.create(18.1,10.5)}]]),i([5,[{idString:"box",position:e.create(14,10.5)},{idString:"bookshelf",position:e.create(16,16),rotation:0}]]),{idString:"blue_house",name:"Blue House",hitbox:new T(a.fromRect(2,11,e.create(-34.4,18.25)),a.fromRect(2,32.55,e.create(-34.4,-14.6)),a.fromRect(2,20.5,e.create(34.5,13.1)),a.fromRect(2,21.5,e.create(34.5,-19)),a.fromRect(10,2,e.create(-29.25,-29.9)),a.fromRect(6,2,e.create(-10.8,-29.9)),a.fromRect(58,2,e.create(5.6,22.5)),a.fromRect(33.4,2,e.create(18.9,-29.9)),a.fromRect(3,3,e.create(7.5,-12.5))),material:"stone",particle:"wall_particle",spawnHitbox:a.fromRect(90,90),ceilingHitbox:new T(a.fromRect(68,53,e.create(0,-3.5)),a.fromRect(11,10,e.create(-28,27))),floorImages:[{key:"blue_house_floor_2_1",position:e.create(-18.67,18),scale:e.create(1.07,1.07)},{key:"blue_house_floor_1",position:e.create(0,-17),scale:e.create(1.07,1.07)}],ceilingImages:[{key:"blue_house_ceiling",position:e.create(0,1.5),scale:e.create(2.3,2.3)}],floors:[{type:F.Stone,hitbox:new T(a.fromRect(11,5.5,e.create(-3.25,-32.6)),a.fromRect(71,11,e.create(0,29)),a.fromRect(22.5,11,e.create(20.5,14)),a.fromRect(10,14,e.create(26.5,12)))},{type:F.Wood,hitbox:new T(a.fromRect(41,52,e.create(-13.5,-3.6)),a.fromRect(41,34,e.create(13.5,-12)),a.fromRect(12,2,e.create(-28,22.5)),a.fromRect(12,2,e.create(-3.3,-30)),a.fromRect(14,2,e.create(13,6)))}],obstacles:[{idString:"window",position:e.create(-34.5,7.4),rotation:0},{idString:"window",position:e.create(34.6,-2.5),rotation:0},{idString:"window",position:e.create(-19,-30),rotation:1},{idString:"door",position:e.create(-3.3,-29.9),rotation:2},{idString:"door",position:e.create(-29,22.6),rotation:2},{idString:"barrel",position:e.create(-7,29)},{idString:{box:1,trash_bag:.6},position:e.create(25,27)},{idString:"box",position:e.create(19,28.5)},{idString:"house_wall_6",position:e.create(7.5,-21.5),rotation:1},{idString:"small_drawer",position:e.create(30.25,-25),rotation:0},{idString:"fridge",position:e.create(21.5,-25.1),rotation:0},{idString:"small_stove",position:e.create(12.5,-25),rotation:0},{idString:"house_wall_14",position:e.create(6.25,13.1),rotation:1},{idString:"metal_door",position:e.create(26.15,5.7),rotation:2},{idString:"box",position:e.create(16,1.7)},{idString:"house_wall_3",position:e.create(-10.5,5.6),rotation:0},{idString:{toilet:2,used_toilet:1},position:e.create(-11.25,10.1),rotation:1},{idString:"small_drawer",position:e.create(-11.6,17.5),rotation:1},{idString:"door",position:e.create(-.2,5.6),rotation:2},{idString:"house_wall_14",position:e.create(-17,13.15),rotation:1},{idString:"bookshelf",position:e.create(-20.27,15),rotation:1},{idString:"trash_can",position:e.create(2.1,18)},{idString:"house_wall_16",position:e.create(-10,-13.65),rotation:1},{idString:"door",position:e.create(-10,-23.5),rotation:3},{idString:"house_wall_17",position:e.create(-22.3,-9.4),rotation:0},{idString:"small_drawer",position:e.create(-14.7,-14.5),rotation:2},{idString:"small_bed",position:e.create(-29.25,-19.9),rotation:2},{idString:"bookshelf",position:e.create(-15.25,-6),rotation:0},{idString:"potted_plant",position:e.create(-29,-4)}],subBuildings:[{idString:"blue_house_vault",position:e.create(-14.1,20.5),orientation:1},{idString:{blue_house_vault_layout_1:1,blue_house_vault_layout_3:1,blue_house_vault_layout_4:1,blue_house_vault_layout_5:1},position:e.create(0,0)}]},{idString:"blue_house_vault",name:"Blue House Vault",reflectBullets:!0,material:"metal_heavy",particle:"metal_particle",hitbox:new T(a.fromRect(14.8,2,e.create(.1,-12.1)),a.fromRect(15.5,2,e.create(2.1,11.9)),a.fromRect(2,25,e.create(-6.3,.5)),a.fromRect(2,14,e.create(8.7,-6))),spawnHitbox:a.fromRect(22.73,28.32),ceilingHitbox:a.fromRect(14,24),ceilingZIndex:k.BuildingsCeiling-1,ceilingImages:[{key:"blue_house_vault_ceiling",position:e.create(1,-.1)}]},{idString:"crane",name:"Crane",reflectBullets:!0,ceilingScopeEffect:!1,material:"metal_heavy",particle:"container_particle_yellow",hitbox:new T(a.fromRect(4.82,1.8,e.create(32,-6.42)),a.fromRect(4.82,1.8,e.create(-31.5,-6.42)),a.fromRect(4.82,1.8,e.create(32,-135.5)),a.fromRect(4.82,1.8,e.create(-31.5,-135.5)),a.fromRect(5.89,15,e.create(-31.55,-87.3)),a.fromRect(4.99,25.69,e.create(-31.55,-87.3)),a.fromRect(4.29,31.46,e.create(-31.55,-87.3)),a.fromRect(5.89,15,e.create(-31.55,-35.6)),a.fromRect(4.99,25.69,e.create(-31.55,-35.6)),a.fromRect(4.29,31.46,e.create(-31.55,-35.6)),a.fromRect(5.89,15,e.create(32,-87.3)),a.fromRect(4.99,25.69,e.create(32,-87.3)),a.fromRect(4.29,31.46,e.create(32,-87.3)),a.fromRect(5.89,15,e.create(32,-35.6)),a.fromRect(4.99,25.69,e.create(32,-35.6)),a.fromRect(4.29,31.46,e.create(32,-35.6))),spawnHitbox:a.fromRect(210,140,e.create(55,-72)),ceilingHitbox:a.fromRect(210,100,e.create(55,-60)),floorImages:[{key:"crane_base_part",position:e.create(-31.55,-87.3)},{key:"crane_base_part",position:e.create(-31.55,-35.6)},{key:"crane_base_part",position:e.create(32,-87.3)},{key:"crane_base_part",position:e.create(32,-35.6)},{key:"crane_base_end",position:e.create(32,-6.42)},{key:"crane_base_end",position:e.create(-31.5,-6.42)},{key:"crane_base_end",position:e.create(32,-135.5)},{key:"crane_base_end",position:e.create(-31.5,-135.5)}],floorZIndex:k.ObstaclesLayer4,ceilingImages:[{key:"crane_ceiling_1",position:e.create(31,-60),scale:e.create(2,2)},{key:"crane_ceiling_2",position:e.create(77.5,-60),scale:e.create(2,2)},{key:"crane_ceiling_3",position:e.create(-20,-60),scale:e.create(2,2)},{key:"crane_ceiling_4",position:e.create(131,-60),scale:e.create(2,2)}],ceilingZIndex:k.BuildingsCeiling+1},{idString:"shed",name:"Shed",material:"stone",particle:"rock_particle",particleVariations:2,hitbox:new T(a.fromRect(1.75,29.5,e.create(-11.03,-1.7)),a.fromRect(1.75,9.2,e.create(9.43,-11.9)),a.fromRect(1.75,10.7,e.create(9.43,7.6)),a.fromRect(20,1.75,e.create(-.8,-15.56)),a.fromRect(9,1.75,e.create(-6.05,12.19))),spawnHitbox:a.fromRect(27,37,e.create(-.8,0)),ceilingHitbox:a.fromRect(20,27.5,e.create(-.8,-1.5)),floorImages:[{key:"shed_floor_1",position:e.create(0,-8.3),scale:e.create(2,2)},{key:"shed_floor_2",position:e.create(0,8.1),scale:e.create(2,2)}],ceilingImages:[{key:"shed_ceiling_1",position:e.create(-.8,-9.025)},{key:"shed_ceiling_2",position:e.create(-.8,5.9)}],floors:[{type:F.Stone,hitbox:new T(a.fromRect(20.5,27,e.create(-.5,-2)),a.fromRect(10,4.5,e.create(3.55,14)))}],obstacles:[{idString:"door",position:e.create(3.95,12.15),rotation:0},{idString:"window",position:e.create(9.45,-2.6),rotation:0},{idString:"bookshelf",position:e.create(-7.75,4.9),rotation:1},{idString:"small_table",position:e.create(2.2,-10.35),rotation:1,variation:0},{idString:"chair",position:e.create(2.2,-5.5),rotation:0},{idString:"trash_can",position:e.create(-7,-11.5),lootSpawnOffset:e.create(1,1)}]},n([1,"white","closed"]),n([2,"red","closed"]),n([3,"green","open1"]),n([4,"green","open1",!0]),n([5,"blue","open1"]),n([6,"blue","open1",!0]),n([7,"blue","open2"]),n([8,"blue","open2",!0]),n([9,"yellow","open1"]),n([10,"yellow","open2"]),n([11,"green","closed"]),n([12,"yellow","closed"]),d([1,"red"]),d([2,"green"]),d([3,"blue"]),d([4,"orange"]),r([1,"red"]),r([2,"green"]),r([3,"blue"]),r([4,"orange"]),r([5,"purple",!0]),l([1,2,[{idString:"flint_crate",position:e.create(-1,-.25)},{idString:"barrel",position:e.create(.27,-9.26)},{idString:"super_barrel",position:e.create(-1.82,8.8)},{idString:"hay_bale",position:e.create(-11.5,3),rotation:1},{idString:"hay_bale",position:e.create(9.5,-3.29),rotation:1}]]),l([2,Kt()?1:2,[{idString:"regular_crate",position:e.create(10.22,4.45)},{idString:"barrel",position:e.create(11.56,-6.05)},{idString:"hay_bale",position:e.create(-11.89,2.82),rotation:1},{idString:"box",position:e.create(-11.4,-7.28)}],[{table:"ground_loot",position:e.create(-.99,-1.75)}]]),l([3,1,[{idString:"super_barrel",position:e.create(-11.56,-6.05)},{idString:"hay_bale",position:e.create(9.5,2.82),rotation:1},{idString:"box",position:e.create(-13.03,7.34)},{idString:"box",position:e.create(-8.27,2.09)},{idString:"grenade_crate",position:e.create(8.85,-8.02)},{idString:"box",position:e.create(-6.71,8.27)}]]),l([4,1,[{idString:"hay_bale",position:e.create(9.68,3.88),rotation:0},{idString:"super_barrel",position:e.create(7.71,-6.26)}]]),{idString:"cargo_ship_center_roof",name:"Cargo Ship Center Roof",spawnHitbox:a.fromRect(40,95,e.create(0,0)),ceilingHitbox:a.fromRect(25,90,e.create(.5,0)),ceilingImages:[{key:"cargo_ship_center_ceiling",position:e.create(1.25,0),scale:e.create(2.15,2.15)}]},{idString:"cargo_ship",name:"Cargo Ship",reflectBullets:!0,material:"metal_heavy",particle:"metal_particle",hitbox:new T(a.fromRect(237,3,e.create(-18.5,-45.5)),a.fromRect(3,92,e.create(-135.5,0)),a.fromRect(78.7,3,e.create(-52.25,45.5)),a.fromRect(35.5,3,e.create(-119.5,45.5)),a.fromRect(105.5,3,e.create(50,45.5)),a.fromRect(3.8,17,e.create(99,-36.1)),a.fromRect(3.8,17,e.create(99,36.1)),a.fromRect(1.8,19.5,e.create(98,16.5)),a.fromRect(1.8,19.5,e.create(98,-16.8)),a.fromRect(34,1.7,e.create(114,-26.5)),a.fromRect(34,1.7,e.create(114,26.5)),a.fromRect(1.7,53,e.create(130.65,0)),a.fromRect(10.5,1.6,e.create(-21.5,31.1)),a.fromRect(10.5,1.6,e.create(-42.1,31.1)),a.fromRect(10.5,1.6,e.create(-21.5,-31.1)),a.fromRect(10.5,1.6,e.create(-42.1,-31.1)),a.fromRect(1.5,61,e.create(-46.5,0)),a.fromRect(12.8,.9,e.create(-39,42.35)),a.fromRect(13.15,.9,e.create(-24.7,42.35)),a.fromRect(1.5,2,e.create(-32,42.35)),a.fromRect(1.5,2,e.create(-17.3,42.35)),a.fromRect(1.5,2,e.create(-46.1,42.35)),a.fromRect(12.8,.9,e.create(-39,-42.35)),a.fromRect(13.15,.9,e.create(-24.7,-42.35)),a.fromRect(1.5,2,e.create(-32,-42.35)),a.fromRect(1.5,2,e.create(-17.3,-42.35)),a.fromRect(1.5,2,e.create(-46.1,-42.35)),new f(11.1,e.create(143.8,-.5)),new f(4,e.create(103,-43.3)),new f(4,e.create(150.5,-7.5)),new f(4,e.create(150.5,7.5)),new f(6,e.create(149,-2.5)),new f(6,e.create(149,2.5)),new f(4,e.create(149,-12.5)),new f(4,e.create(146.5,-16.5)),new f(4,e.create(145.5,-18.5)),new f(4,e.create(144,-20.5)),new f(4,e.create(143,-22.5)),new f(4,e.create(141.5,-24.5)),new f(4,e.create(139.5,-26.5)),new f(4,e.create(137.5,-28.5)),new f(4,e.create(136,-30.5)),new f(4,e.create(133.5,-32.5)),new f(4,e.create(131,-34.5)),new f(4,e.create(127,-36.5)),new f(4,e.create(122.5,-38.5)),new f(4,e.create(118,-39.5)),new f(4,e.create(114,-40.5)),new f(4,e.create(111,-41.5)),new f(4,e.create(106,-42.5)),new f(4,e.create(149,12.5)),new f(4,e.create(146.5,16.5)),new f(4,e.create(145.5,18.5)),new f(4,e.create(144,20.5)),new f(4,e.create(143,22.5)),new f(4,e.create(141.5,24.5)),new f(4,e.create(139.5,26.5)),new f(4,e.create(137.5,28.5)),new f(4,e.create(136,30.5)),new f(4,e.create(133.5,32.5)),new f(4,e.create(131,34.5)),new f(4,e.create(127,36.5)),new f(4,e.create(122.5,38.5)),new f(4,e.create(118,39.5)),new f(4,e.create(114,40.5)),new f(4,e.create(111,41.5)),new f(4,e.create(106,42.5))),spawnHitbox:a.fromRect(320,130,e.create(5,5)),ceilingHitbox:a.fromRect(34,51,e.create(115,0)),puzzle:{triggerOnSolve:"vault_door",delay:2e3},sounds:{solved:"generator_running",position:e.create(91,-18.5),maxRange:416,falloff:2},ceilingImages:[{key:"cargo_ship_front_ceiling",position:e.create(126.5,.1),scale:e.create(2.14,2.14)}],floorImages:[{key:"cargo_ship_floor_3_1",position:e.create(126.5,-23.75),scale:e.create(1.07,1.07)},{key:"cargo_ship_floor_3_2",position:e.create(126.5,23.8),scale:e.create(1.07,1.07)},{key:"cargo_ship_floor_2",position:e.create(41.5,.05),scale:e.create(1.07,1.07)},{key:"cargo_ship_floor_1",position:e.create(-70,0),scale:e.create(2.139,2.139)},{key:"ship_stair",position:e.create(-8,54.25)},{key:"ship_stair",position:e.create(-97,54.25)}],floors:[{type:F.Metal,hitbox:new T(a.fromRect(10,20.25,e.create(-8,54.25)),a.fromRect(10,20.25,e.create(-97,54.25)),a.fromRect(232,88.5,e.create(-18.5,.05)))},{type:F.Stone,hitbox:a.fromRect(33,52,e.create(114,.05))}],obstacles:[{idString:"tango_crate",position:e.create(126.25,0),rotation:3},{idString:"regular_crate",position:e.create(105.5,-20)},{idString:"barrel",position:e.create(118,-20)},{idString:"barrel",position:e.create(125,-14)},{idString:"box",position:e.create(126.5,22)},{idString:"box",position:e.create(120.5,21.5)},{idString:"box",position:e.create(126.8,16)},{idString:"grenade_crate",position:e.create(104,21)},{idString:"vault_door",position:e.create(98.25,1),rotation:1},{idString:"aegis_crate",position:e.create(91,-29)},{idString:"barrel",position:e.create(85,-39)},{idString:"generator",position:e.create(91,-18.5),rotation:0,puzzlePiece:!0},{idString:"regular_crate",position:e.create(35,-37)},{idString:"regular_crate",position:e.create(91,38.5)},{idString:"regular_crate",position:e.create(80,36.5)},{idString:"sandbags",position:e.create(79.5,21),rotation:0},{idString:"sandbags",position:e.create(61,-5.25),rotation:1},{idString:"gun_case",position:e.create(53.5,-7),rotation:3},{idString:"regular_crate",position:e.create(66,7.1)},{idString:"regular_crate",position:e.create(55.5,7.1)},{idString:"ship_oil_tank",position:e.create(58,20),rotation:0},{idString:"sandbags",position:e.create(22,22),rotation:1},{idString:"regular_crate",position:e.create(12.5,23)},{idString:"sandbags",position:e.create(18,-5.5),rotation:1},{idString:"grenade_crate",position:e.create(10,-7.8)},{idString:"barrel",position:e.create(28,-7.8)},{idString:"tear_gas_crate",position:e.create(-11.5,-3.8),rotation:3},{idString:"bookshelf",position:e.create(-43.25,-23.5),rotation:1},{idString:"barrel",position:e.create(-22.5,-26)},{idString:"tugboat_control_panel",position:e.create(-23,-5.5),rotation:1},{idString:"large_drawer",position:e.create(-22,14.5),rotation:3},{idString:"control_panel_small",position:e.create(-22.5,26),rotation:1},{idString:"life_preserver",position:e.create(-44,25),rotation:2},{idString:"life_preserver",position:e.create(-44,15),rotation:2},{idString:"window2",position:e.create(-16,-25),rotation:0},{idString:"window2",position:e.create(-16,-15),rotation:0},{idString:"window2",position:e.create(-16,-5),rotation:0},{idString:"window2",position:e.create(-16,5),rotation:0},{idString:"window2",position:e.create(-16,15),rotation:0},{idString:"window2",position:e.create(-16,25),rotation:0},{idString:"sandbags",position:e.create(-66.25,5.5),rotation:1},{idString:"tear_gas_crate",position:e.create(-76,8),rotation:0},{idString:"aegis_crate",position:e.create(-126.5,-35)},{idString:"barrel",position:e.create(-115,-38)},{idString:"ship_oil_tank",position:e.create(-119.5,-20),rotation:0},{idString:"aegis_crate",position:e.create(-69.5,-19.5)},{idString:"regular_crate",position:e.create(-82.5,-22)},{idString:"super_barrel",position:e.create(-80,-12.5)},{idString:"regular_crate",position:e.create(-129,7)},{idString:"sandbags",position:e.create(-114,-5.5),rotation:1},{idString:"gun_case",position:e.create(-124,-8.5),rotation:0}],subBuildings:[{idString:"cargo_ship_center_roof",position:e.create(-32,0)},{idString:wt,position:e.create(-36.25,58),orientation:1},{idString:wt,position:e.create(36.25,58),orientation:1},{idString:wt,position:e.create(36.25,-74.9),orientation:1},{idString:"container_2",position:e.create(19.9,58),orientation:1},{idString:"container_11",position:e.create(-36.2,-15.5),orientation:3},{idString:wt,position:e.create(-19.9,-15.5),orientation:3},{idString:wt,position:e.create(36.25,-15.5),orientation:3},{idString:"container_12",position:e.create(-19.9,-74.9),orientation:1},{idString:wt,position:e.create(-36.25,-74.9),orientation:1},{idString:"container_2",position:e.create(-36.25,-119.6),orientation:1},{idString:wt,position:e.create(-19.9,-119.6),orientation:1}],lootSpawners:[{position:e.create(-35,0),table:"gas_can"}]},{idString:"oil_tanker_ship",name:"Oil Tanker",reflectBullets:!0,material:"metal_heavy",particle:"metal_particle",hitbox:new T(a.fromRect(250,4.5,e.create(14,-42.6)),a.fromRect(98.25,4.5,e.create(20.5,42.6)),a.fromRect(71.5,4.5,e.create(-74.5,42.6)),a.fromRect(3.8,6.2,e.create(-111.6,42.6)),a.fromRect(3.8,6.2,e.create(-111.6,-42.6)),a.fromRect(60,4.5,e.create(110,42.6)),a.fromRect(4.5,80.5,e.create(137.5,0)),new f(4.8,e.create(7,39.8)),new f(4.8,e.create(7,-39.8)),new f(4.8,e.create(-67.8,39.8)),new f(4.8,e.create(-67.8,-39.8)),new f(4.8,e.create(94.25,39.8)),new f(4.8,e.create(94.25,-39.8)),a.fromRect(2,80,e.create(-112.9,0)),a.fromRect(18.7,2,e.create(-83.7,-27.25)),a.fromRect(23,2,e.create(-86.2,17)),a.fromRect(1.9,21.25,e.create(-75.5,28)),a.fromRect(1.9,2.7,e.create(-75,-4.9)),a.fromRect(38,2,e.create(-93,-38.8)),a.fromRect(38,2,e.create(-93,38.8)),a.fromRect(10,25,e.create(-120,0)),a.fromRect(3,45,e.create(-115.5,0)),a.fromRect(3,35.5,e.create(-120.5,0)),a.fromRect(3,25,e.create(-125.5,.5)),a.fromRect(3,38,e.create(-118.5,0)),new f(13.25,e.create(178.5,1)),new f(3,e.create(140,-41.8)),new f(3,e.create(187.5,-6)),new f(3,e.create(187.5,9)),new f(3,e.create(186,-11)),new f(3,e.create(183.5,-15)),new f(3,e.create(182.5,-17)),new f(3,e.create(181,-19)),new f(3,e.create(180,-21)),new f(3,e.create(178.5,-23)),new f(3,e.create(176.5,-25)),new f(3,e.create(174.5,-27)),new f(3,e.create(173,-29)),new f(3,e.create(170.5,-31)),new f(3,e.create(168,-33)),new f(3,e.create(164,-35)),new f(3,e.create(159.5,-37)),new f(3,e.create(155,-38)),new f(3,e.create(151,-39)),new f(3,e.create(148,-40)),new f(3,e.create(143,-41)),new f(3,e.create(186,12)),new f(3,e.create(183.5,16)),new f(3,e.create(182.5,18)),new f(3,e.create(181,20)),new f(3,e.create(180,22)),new f(3,e.create(178.5,24)),new f(3,e.create(176.5,26)),new f(3,e.create(174.5,28)),new f(3,e.create(173,30)),new f(3,e.create(170.5,32)),new f(3,e.create(168,34)),new f(3,e.create(164,36)),new f(3,e.create(159.5,38)),new f(3,e.create(155,39)),new f(3,e.create(151,40)),new f(3,e.create(148,41)),new f(3,e.create(143,42))),spawnHitbox:a.fromRect(360,130,e.create(30,0)),ceilingHitbox:a.fromRect(38,80,e.create(-94,0)),puzzle:{triggerOnSolve:"vault_door",delay:1500},ceilingImages:[{key:"oil_tanker_ship_room_ceiling",position:e.create(-101.5,0),scale:e.create(1.8,1.9)}],floorImages:[{key:"oil_tanker_ship_floor_2",position:e.create(57.6,-.09),scale:e.create(2.141,2.141)},{key:"oil_tanker_ship_floor_3",position:e.create(153,-.2),scale:e.create(2.141,2.141)},{key:"oil_tanker_ship_back",position:e.create(-120,0),scale:e.create(2.1,1.8)},{key:"oil_tanker_ship_floor_1",position:e.create(-57,0),scale:e.create(1.07,1.07)},{key:"ship_stair",position:e.create(-33.9,50)},{key:"ship_stair",position:e.create(75.2,50)}],floors:[{type:F.Stone,hitbox:a.fromRect(212,80,e.create(31,0))},{type:F.Metal,hitbox:a.fromRect(38,76.5,e.create(-94,0))},{type:F.Metal,hitbox:a.fromRect(10,20.25,e.create(-33.9,50))},{type:F.Metal,hitbox:a.fromRect(10,20.25,e.create(75.2,50))}],obstacles:[{idString:"regular_crate",position:e.create(-55.9,32.7)},{idString:"barrel",position:e.create(-62,23)},{idString:"aegis_crate",position:e.create(-59,-32.25)},{idString:"grenade_crate",position:e.create(-50,-35)},{idString:"flint_crate",position:e.create(-17.5,-35)},{idString:"barrel",position:e.create(-8.5,-36)},{idString:"regular_crate",position:e.create(1,24)},{idString:"super_barrel",position:e.create(11,24)},{idString:"fire_hatchet_case",position:e.create(2,-24),rotation:2},{idString:"grenade_crate",position:e.create(128,-34)},{idString:"aegis_crate",position:e.create(129.5,34)},{idString:"barrel",position:e.create(74.5,-35)},{idString:"regular_crate",position:e.create(84.25,-34)},{idString:"regular_crate",position:e.create(75,-6.5)},{idString:"regular_crate",position:e.create(75,4)},{idString:"vault_door",position:e.create(-105.9,17.7),rotation:0},{idString:"barrel",position:e.create(-107,33.25)},{idString:"briefcase",position:e.create(-82.5,33.3),rotation:0},{idString:"regular_crate",position:e.create(-92.9,32.7)},{idString:"regular_crate",position:e.create(-81.9,23.1)},{idString:"gun_case",position:e.create(-109,-32.3),rotation:1},{idString:"life_preserver",position:e.create(-110.1,-21.6),rotation:2},{idString:"life_preserver",position:e.create(-110.1,-11.5),rotation:2},{idString:"tugboat_control_panel",position:e.create(-81.5,0),rotation:1},{idString:"control_panel",position:e.create(-81,-19.25),rotation:3,puzzlePiece:!0},{idString:"window2",position:e.create(-74.5,-21.5),rotation:0},{idString:"window2",position:e.create(-74.5,-11.5),rotation:0},{idString:"window2",position:e.create(-74.5,1.3),rotation:0},{idString:"window2",position:e.create(-74.5,11.5),rotation:0}],subBuildings:[{idString:"oil_tanker_ship_vault",position:e.create(-28.1,-94.25),orientation:1},{idString:"oil_tanker_tanks",position:e.create(39,-5)}],lootSpawners:[{position:e.create(-93,23),table:"ship_skin"}]},{idString:"oil_tanker_ship_vault",name:"Oil Tanker Ship Vault",spawnHitbox:a.fromRect(20,35),ceilingHitbox:a.fromRect(20,35),ceilingZIndex:k.BuildingsCeiling-1,ceilingImages:[{key:"oil_tanker_ship_vault_ceiling",position:e.create(0,0),scale:e.create(.895,1.28)}]},{idString:"oil_tanker_tanks",name:"Oil Tanker Tanks",reflectBullets:!0,material:"metal_heavy",particle:"metal_particle",hitbox:new T(new f(31.25,e.create(-.5,4.4)),new f(31.25,e.create(-72.25,4.4)),new f(31.25,e.create(73.1,4.4)),a.fromRect(10.5,16.3,e.create(-98.5,5)),a.fromRect(17.5,13,e.create(-74.7,-29.7)),a.fromRect(4.6,37.8,e.create(-32.5,4)),a.fromRect(4.6,37.8,e.create(-39.9,4)),a.fromRect(30,20,e.create(10.5,-13.3)),a.fromRect(30,20,e.create(10.25,22.6)),a.fromRect(30,20,e.create(62,-13.3)),a.fromRect(30,20,e.create(62,22.6)),a.fromRect(30,20,e.create(-61.25,-13.3)),a.fromRect(30,20,e.create(-60,22))),spawnHitbox:a.fromRect(200,90),ceilingImages:[{key:"oil_tanker_tanks_1",position:e.create(-52,0),scale:e.create(1.07,1.07)},{key:"oil_tanker_tanks_2",position:e.create(53.4,.06),scale:e.create(1.07,1.07)}]},{idString:"port",name:"Port",spawnHitbox:a.fromRect(315,290,e.create(-5,0)),groundGraphics:[{color:"#6664",hitbox:a.fromRect(297.2,271.7,e.create(-4.5,0))},{color:5855577,hitbox:a.fromRect(293.5,267.96,e.create(-4.5,0))},{color:15132390,hitbox:new T(a.fromRect(1.47,102.18,e.create(129.93,73.42)),a.fromRect(126.01,1.5,e.create(67.66,123.77)),a.fromRect(84.61,1.48,e.create(88.35,74.7)),a.fromRect(74.74,1.52,e.create(-113.86,-33.25)),a.fromRect(84.61,1.49,e.create(88.35,49.55)),a.fromRect(1.51,56,e.create(-77.24,-5)),a.fromRect(207.5,1.5,e.create(25.75,23.08)),a.fromRect(84.61,1.49,e.create(88.35,98.77)),a.fromRect(1.47,63.43,e.create(5.4,92.81)),a.fromRect(82.47,1.48,e.create(-35.1,61.83)),a.fromRect(1.44,8.6,e.create(-75.61,65.39)),a.fromRect(1.46,8.6,e.create(-102.2,65.39)),a.fromRect(14,1.48,e.create(-109.9,61.83)),a.fromRect(1.46,55.47,e.create(-116.51,34.84)),a.fromRect(35.45,1.47,e.create(-133.5,7.85)))},{color:11710976,hitbox:a.fromRect(1.87,186.8,e.create(143.17,-32.5))},{color:2829099,hitbox:new T(a.fromRect(.75,128,e.create(64.33,-46)),a.fromRect(.75,128,e.create(66.55,-46)),a.fromRect(.75,128,e.create(127.9,-46)),a.fromRect(.75,128,e.create(130.1,-46)))}],floors:[{type:F.Stone,hitbox:a.fromRect(300,270,e.create(-5,0))}],floorImages:[{key:"floor_oil_01",position:e.create(69.49,116.11),zIndex:k.Decals},{key:"floor_oil_02",position:e.create(-87.54,-117.88),zIndex:k.Decals},{key:"floor_oil_03",position:e.create(-147.56,-92.28),zIndex:k.Decals},{key:"floor_oil_04",position:e.create(86.72,-64.06),zIndex:k.Decals},{key:"floor_oil_05",position:e.create(-135.24,82.47),zIndex:k.Decals},{key:"floor_oil_06",position:e.create(-79.85,-46.97),zIndex:k.Decals},{key:"floor_oil_07",position:e.create(-13.48,10.95),zIndex:k.Decals},{key:"container_mark",position:e.create(-60,5),zIndex:k.Decals},{key:"container_mark",position:e.create(-45,5),zIndex:k.Decals},{key:"container_mark",position:e.create(-30,5),zIndex:k.Decals},{key:"container_mark",position:e.create(-60,-25),zIndex:k.Decals},{key:"container_mark",position:e.create(-45,-25),zIndex:k.Decals},{key:"container_mark",position:e.create(-30,-25),zIndex:k.Decals},{key:"container_mark",position:e.create(5,5),zIndex:k.Decals},{key:"container_mark",position:e.create(20,5),zIndex:k.Decals},{key:"container_mark",position:e.create(35,5),zIndex:k.Decals},{key:"container_mark",position:e.create(5,-25),zIndex:k.Decals},{key:"container_mark",position:e.create(20,-25),zIndex:k.Decals},{key:"container_mark",position:e.create(35,-25),zIndex:k.Decals},{key:"container_mark",position:e.create(-100,-60),zIndex:k.Decals},{key:"container_mark",position:e.create(-115,-60),zIndex:k.Decals},{key:"container_mark",position:e.create(-130,-60),zIndex:k.Decals},{key:"container_mark",position:e.create(-100,-90),zIndex:k.Decals},{key:"container_mark",position:e.create(-115,-90),zIndex:k.Decals},{key:"container_mark",position:e.create(-130,-90),zIndex:k.Decals},{key:"container_mark",position:e.create(82.5,0),zIndex:k.Decals},{key:"container_mark",position:e.create(97.5,0),zIndex:k.Decals},{key:"container_mark",position:e.create(112.5,0),zIndex:k.Decals},{key:"container_mark",position:e.create(82.5,-30),zIndex:k.Decals},{key:"container_mark",position:e.create(97.5,-30),zIndex:k.Decals},{key:"container_mark",position:e.create(112.5,-30),zIndex:k.Decals}],obstacles:[{idString:"regular_crate",position:e.create(67.36,58.18)},{idString:"forklift",position:e.create(95,64),rotation:1},{idString:"pallet",position:e.create(107.5,64),rotation:1},{idString:"barrel",position:e.create(107.5,64)},{idString:"trailer",position:e.create(100,84),rotation:3},{idString:"truck",position:e.create(72,84),rotation:3},{idString:"regular_crate",position:e.create(120,110)},{idString:{regular_crate:3,grenade_crate:1},position:e.create(110,115)},{idString:"box",position:e.create(87,123)},{idString:"box",position:e.create(92,120)},{idString:"box",position:e.create(85,117)},{idString:"box",position:e.create(92,114)},{idString:"forklift",position:e.create(90,102.5),rotation:1},{idString:"pallet",position:e.create(100,102.5),rotation:1},{idString:"regular_crate",position:e.create(100,102.5)},{idString:"truck",position:e.create(12.5,40),rotation:3},{idString:"trailer",position:e.create(40,40),rotation:3},{idString:"dumpster",position:e.create(-7,-62),rotation:1},{idString:"dumpster",position:e.create(-22,-62),rotation:1},{idString:"barrier",position:e.create(-124,-10),rotation:0},{idString:"sandbags",position:e.create(-144,65),rotation:1},{idString:"sandbags",position:e.create(-132,60),rotation:2},{idString:"super_barrel",position:e.create(-137,75)},{idString:"barrel",position:e.create(-147,80)},{idString:"super_barrel",position:e.create(-134,90)},{idString:"barrel",position:e.create(-126,85)},{idString:{aegis_crate:1,flint_crate:1},position:e.create(-126,100)},{idString:{aegis_crate:1,flint_crate:1},position:e.create(-136,105)},{idString:"sandbags",position:e.create(-132,117),rotation:2},{idString:"barrel",position:e.create(-145,117)},{idString:"grenade_crate",position:e.create(-124,-120)},{idString:{regular_crate:3,grenade_crate:1},position:e.create(-135,-125)},{idString:{regular_crate:2,flint_crate:1,aegis_crate:1},position:e.create(-140,-115),rotation:1},{idString:"barrel",position:e.create(-142,-95)},{idString:"super_barrel",position:e.create(-147,-87)},{idString:"regular_crate",position:e.create(54.57,-72.34)},{idString:"forklift",position:e.create(-60,-55),rotation:1},{idString:"pallet",position:e.create(-50,-55),rotation:1},{idString:{flint_crate:1,regular_crate:1},position:e.create(-75,-45)},{idString:"flint_crate",position:e.create(-50,-55)},{idString:{regular_crate:3,grenade_crate:1},position:e.create(108,-110)},{idString:"regular_crate",position:e.create(97,-100)},{idString:"grenade_crate",position:e.create(99,-90)},{idString:"forklift",position:e.create(110,-95),rotation:2},{idString:"pallet",position:e.create(110,-107.5),rotation:2},{idString:"box",position:e.create(115.28,-104.85)},{idString:{barrel:2,super_barrel:1},position:e.create(93.77,-72.33)},{idString:{barrel:2,super_barrel:1},position:e.create(75.38,-68.72)},{idString:"aegis_crate",position:e.create(54.48,-118.9)},{idString:{aegis_crate:1,regular_crate:1},position:e.create(64.96,-123.57)},...Array.from({length:5},(p,u)=>({idString:"bollard",position:e.create(140.4,50-41.5*u),rotation:0})),...Array.from({length:19},(p,u)=>({idString:"fence",position:e.create(5-8.45*u,135),rotation:0})),...Array.from({length:12},(p,u)=>({idString:"fence",position:e.create(130-8.45*u,135),rotation:0})),...Array.from({length:15},(p,u)=>({idString:"fence",position:e.create(-152.25,131.5-8.45*u),rotation:1})),...Array.from({length:12},(p,u)=>({idString:"fence",position:e.create(-152.25,-38.5-8.45*u),rotation:1})),...Array.from({length:21},(p,u)=>({idString:"fence",position:e.create(46-8.45*u,-135),rotation:0})),...Array.from({length:8},(p,u)=>({idString:"fence",position:e.create(139.7-8.45*u,-135),rotation:0})),{idString:"fence",position:e.create(143.1,-130),rotation:1}],subBuildings:[{idString:"container_1",position:e.create(-40,40),orientation:1},{idString:"crane",position:e.create(97,25)},{idString:"port_warehouse_red",position:e.create(-95,-59),orientation:1},{idString:"port_warehouse_blue",position:e.create(-97,15),orientation:3},{idString:"shed",position:e.create(-25,-134),orientation:1},{idString:"porta_potty",position:e.create(-47,-140.8),orientation:1},{idString:"porta_potty",position:e.create(82.5,-100)},{idString:we,position:e.create(-60,5)},{idString:we,position:e.create(-45,5)},{idString:we,position:e.create(-30,5)},{idString:we,position:e.create(60,25),orientation:2},{idString:we,position:e.create(45,25),orientation:2},{idString:we,position:e.create(30,25),orientation:2},{idString:we,position:e.create(5,5)},{idString:we,position:e.create(20,5)},{idString:we,position:e.create(35,5)},{idString:we,position:e.create(-5,25),orientation:2},{idString:we,position:e.create(-20,25),orientation:2},{idString:we,position:e.create(-35,25),orientation:2},{idString:we,position:e.create(-100,-60)},{idString:we,position:e.create(-115,-60)},{idString:we,position:e.create(-130,-60)},{idString:we,position:e.create(100,90),orientation:2},{idString:we,position:e.create(115,90),orientation:2},{idString:we,position:e.create(130,90),orientation:2},{idString:we,position:e.create(82.5,0)},{idString:we,position:e.create(97.5,0)},{idString:we,position:e.create(112.5,0)},{idString:we,position:e.create(-82.5,30),orientation:2},{idString:we,position:e.create(-97.5,30),orientation:2},{idString:we,position:e.create(-112.5,30),orientation:2}]},{idString:"cargo_ship_holder",name:"Cargo Ship (Holder)",spawnHitbox:a.fromRect(365,290,e.create(-100,0)),spawnMode:ce.Beach,sounds:{normal:"port_ambience",position:e.create(86,40),maxRange:380,falloff:1},subBuildings:[{idString:"cargo_ship",position:e.create(40,-86),orientation:3}]},{idString:"oil_tanker_ship_holder",name:"Oil Tanker Ship (Holder)",spawnHitbox:a.fromRect(365,290,e.create(-100,0)),spawnMode:ce.Beach,sounds:{normal:"port_ambience",position:e.create(81.8,-55),maxRange:380,falloff:1},subBuildings:[{idString:"oil_tanker_ship",position:e.create(-55,-81.8),orientation:3}]},{idString:"port_complex",name:"Port Complex",spawnHitbox:a.fromRect(365,290,e.create(-100,0)),spawnMode:ce.Beach,subBuildings:[{idString:"port",position:e.create(-120,0)},{idString:{cargo_ship_holder:1,oil_tanker_ship_holder:1},position:e.create(0,0)}]},{idString:"armory_barracks",name:"Armory Barracks",material:"stone",particle:"rock_particle",particleVariations:2,hitbox:new T(new a(e.create(23.44,-41),e.create(25.54,-15.1)),new a(e.create(23.44,-4),e.create(25.54,23.13)),new a(e.create(23.44,34.23),e.create(25.54,41)),new a(e.create(-25.51,-42.34),e.create(-1.91,-40.25)),new a(e.create(7,16.1),e.create(24,18.2)),new a(e.create(8.18,-42.34),e.create(25.54,-40.25)),new a(e.create(-25.51,-41),e.create(-23.42,17.54)),new a(e.create(-25.51,28.57),e.create(-23.42,42.35)),new a(e.create(-24,40.25),e.create(-4.33,42.35)),new a(e.create(5.76,40.25),e.create(25.54,42.35)),new a(e.create(4.05,15.59),e.create(7.06,18.77)),new a(e.create(-4.12,-21.39),e.create(-1.11,-18.21)),new a(e.create(-24,-20.85),e.create(-4,-18.76))),spawnHitbox:a.fromRect(50,84),ceilingHitbox:a.fromRect(50,84),floorImages:[{key:"armory_barracks_floor_1",position:e.create(0,-23.2)},{key:"armory_barracks_floor_2",position:e.create(0,23.2)}],ceilingImages:[{key:"armory_barracks_ceiling_1",position:e.create(0,-21),scale:e.create(2,2)},{key:"armory_barracks_ceiling_2",position:e.create(0,20.6),scale:e.create(2,2)}],floors:[{type:F.Wood,hitbox:a.fromRect(50,84)}],obstacles:[{idString:"door",position:e.create(2.7,-41.3),rotation:2},{idString:"fridge",position:e.create(-19.8,-35.5),rotation:1},{idString:"stove",position:e.create(-19.8,-26.1),rotation:1},{idString:"bunk_bed",position:e.create(18,-31.25),rotation:0},{idString:"small_drawer",position:e.create(18.4,-18.7),rotation:0},{idString:"small_drawer",position:e.create(-2,-13.6),rotation:1},{idString:"bunk_bed",position:e.create(-14.43,-13.21),rotation:1},{idString:"bunk_bed",position:e.create(-18.1,7.6),rotation:2},{idString:"bunk_bed",position:e.create(17.95,7),rotation:0},{idString:"bunk_bed",position:e.create(-14.48,34.83),rotation:3},{idString:"cabinet",position:e.create(16,37.6),rotation:2},{idString:"cabinet",position:e.create(16,20.9),rotation:0},{idString:"door",position:e.create(1.15,41.3),rotation:0},{idString:"window",position:e.create(24.5,-9.5),rotation:0},{idString:"window",position:e.create(24.5,28.75),rotation:0},{idString:"window",position:e.create(-24.5,23),rotation:0}]},{idString:"armory_center",name:"Armory Center",material:"stone",particle:"rock_particle",particleVariations:2,hitbox:new T(a.fromRect(2.09,42,e.create(16.38,0)),a.fromRect(32.34,2.08,e.create(1.24,-21.87)),a.fromRect(2.09,3.97,e.create(-13.88,-19.01)),a.fromRect(2.09,8.27,e.create(-13.88,16.87)),a.fromRect(2.09,8.58,e.create(-13.88,-2.64)),a.fromRect(32.34,2.07,e.create(1.24,21.88))),spawnHitbox:a.fromRect(31,44,e.create(1.5,0)),ceilingHitbox:a.fromRect(31,44,e.create(1.5,0)),floorImages:[{key:"armory_center_floor_1",position:e.create(0,-11.5)},{key:"armory_center_floor_2",position:e.create(0,11.5)}],ceilingImages:[{key:"armory_center_ceiling_1",position:e.create(1.25,-11),scale:e.create(2,2)},{key:"armory_center_ceiling_2",position:e.create(1.25,11.4),scale:e.create(2,2)}],floors:[{type:F.Wood,hitbox:a.fromRect(31,44,e.create(1.5,0))}],obstacles:[{idString:"door",position:e.create(-13.9,-12.43),rotation:1},{idString:"cabinet",position:e.create(12.45,-11.6),rotation:3},{idString:"small_table",position:e.create(8.85,1.6),rotation:1,variation:0},{idString:"chair",position:e.create(3,1.7),rotation:3},{idString:"chair",position:e.create(10.1,6),rotation:0},{idString:"small_drawer",position:e.create(-9.2,16.8),rotation:2},{idString:"gun_mount_maul",position:e.create(2,19.05),rotation:2},{idString:"window",position:e.create(-13.9,7.1),rotation:0},{idString:"trash_can",position:e.create(12,17.5)}]},{idString:"armory_vault",name:"Armory Vault",material:"stone",particle:"rock_particle",particleVariations:2,hitbox:new T(a.fromRect(2.09,36,e.create(36.03,-2)),a.fromRect(2.09,11.67,e.create(-13.96,-15.16)),a.fromRect(13.4,2.09,e.create(30.37,16.52)),a.fromRect(74.12,2.09,e.create(.01,-20.98)),a.fromRect(2.09,11.07,e.create(-13.96,10.47)),a.fromRect(29,2.09,e.create(21.9,-6.66)),a.fromRect(2.07,37,e.create(-36.01,-2.5)),a.fromRect(35.39,2.09,e.create(-19.35,16.52)),a.fromRect(4.16,2.09,e.create(10.5,16.52))),spawnHitbox:a.fromRect(72,38,e.create(0,-2)),ceilingHitbox:a.fromRect(72,38,e.create(0,-2)),puzzle:{triggerOnSolve:"vault_door",delay:1500,order:["o","l","j","y"],solvedSound:!0,setSolvedImmediately:!0},floorImages:[{key:"armory_vault_floor_1",position:e.create(-16.6,0)},{key:"armory_vault_floor_2",position:e.create(20.2,0)}],ceilingImages:[{key:"armory_vault_ceiling",position:e.create(0,-2.5),scale:e.create(2,2)}],ceilingZIndex:k.BuildingsCeiling+1,floors:[{type:F.Wood,hitbox:a.fromRect(72,38,e.create(0,-2))}],subBuildings:[{idString:"armory_inner_vault",position:e.create(-25,-2.25)}],obstacles:[{idString:"door",position:e.create(3.8,16.5),rotation:0},{idString:"window",position:e.create(18.1,16.5),rotation:1},{idString:"gun_case",position:e.create(31.9,10),rotation:3},{idString:"gun_case",position:e.create(-7.5,12.4),rotation:2},{idString:"ammo_crate",position:e.create(29.5,-.45),rotation:0},{idString:"ammo_crate",position:e.create(12.85,-.45),rotation:0},{idString:"tear_gas_crate",position:e.create(21.2,-.45),rotation:1},{idString:"grenade_crate",position:e.create(-9.1,-15.9)},...Array.from({length:4},(p,u)=>({idString:"button",position:e.create(10+4.75*u,-19.2),rotation:0,variation:0,puzzlePiece:["y","o","j","l"][u]})),{idString:"control_panel2",position:e.create(30.7,-14),rotation:3},{idString:"ammo_crate",position:e.create(-20,-14.8),rotation:0},{idString:"regular_crate",position:e.create(-29.8,-14.8),rotation:0},{idString:"barrel",position:e.create(-30.9,11.3)},{idString:"briefcase",position:e.create(-20.7,10.85),rotation:0},{idString:"vault_door",position:e.create(-14.1,-3.22),rotation:3}],lootSpawners:[{position:e.create(-25.5,-1),table:"armory_skin"}]},{idString:"armory_inner_vault",name:"Armory Inner Vault",spawnHitbox:a.fromRect(20.87,36.34),ceilingHitbox:a.fromRect(20.87,36.34),ceilingImages:[{key:"armory_inner_vault_ceiling_1",position:e.create(0,-9)},{key:"armory_inner_vault_ceiling_2",position:e.create(0,9.1)}]},{idString:"armory",name:"Armory",spawnHitbox:a.fromRect(160,176),spawnMode:ce.GrassAndSand,subBuildings:[{idString:"armory_barracks",position:e.create(-41.31,27.86)},{idString:"armory_center",position:e.create(55.4,15.07)},{idString:"armory_vault",position:e.create(-35.03,-58.37)},{idString:"shed",position:e.create(-60.9,-65.63),orientation:2},{idString:"porta_potty",position:e.create(31.87,-60.35),orientation:1}],groundGraphics:[{color:"#6664",hitbox:a.fromRect(153.09,1.87,e.create(0,-83.96))},{color:"#6664",hitbox:a.fromRect(153.09,1.87,e.create(0,83.96))},{color:"#6664",hitbox:a.fromRect(1.93,168,e.create(-75.57,0))},{color:"#6664",hitbox:a.fromRect(1.93,168,e.create(75.57,0))},{color:4210752,hitbox:new Ke([e.create(5.54,-80.63),e.create(62.37,-80.63),e.create(62.37,-24.57),e.create(48.11,-15.97),e.create(34.01,-15.97),e.create(34.01,84.86),e.create(-8.82,84.86),e.create(-8.82,-32.87),e.create(5.54,-41.2)])},...Array.from({length:4},(p,u)=>({color:5592405,hitbox:a.fromRect(13.15,24.16,e.create(-1.5,-3.4+25.2*u))})),...Array.from({length:6},(p,u)=>({color:5592405,hitbox:a.fromRect(13.15,24.16,e.create(12.7,-53.8+25.2*u))})),...Array.from({length:6},(p,u)=>({color:5592405,hitbox:a.fromRect(13.15,24.16,e.create(26.95,-53.8+25.2*u))})),...Array.from({length:2},(p,u)=>({color:5592405,hitbox:a.fromRect(13.15,24.16,e.create(41.1,-53.8+25.2*u))})),{color:5592405,hitbox:a.fromRect(13.15,24.16,e.create(55.3,-53.8))},{color:5592405,hitbox:a.fromRect(27.27,13.11,e.create(19.83,-73.38))},{color:5592405,hitbox:a.fromRect(27.27,13.11,e.create(48.2,-73.38))},{color:5592405,hitbox:new Ke([e.create(5.05,-40.17),e.create(5.05,-16.47),e.create(-8.06,-16.47),e.create(-8.06,-32.29)])},{color:5592405,hitbox:new Ke([e.create(61.82,-40.67),e.create(61.75,-24.97),e.create(48.71,-16.97),e.create(48.71,-40.73)])}],floors:[{type:F.Stone,hitbox:new Ke([e.create(5.54,-80.63),e.create(62.37,-80.63),e.create(62.37,-24.57),e.create(48.11,-15.97),e.create(34.01,-15.97),e.create(34.01,84.86),e.create(-8.82,84.86),e.create(-8.82,-32.87),e.create(5.54,-41.2)])}],obstacles:[{idString:"regular_crate",position:e.create(63.13,-15.17)},{idString:"regular_crate",position:e.create(-7.99,2.28)},{idString:"regular_crate",position:e.create(7.06,30.07)},{idString:"regular_crate",position:e.create(18.06,27.86)},{idString:"regular_crate",position:e.create(-64.29,76.5)},{idString:"regular_crate",position:e.create(65.01,-56.73)},{idString:"regular_crate",position:e.create(8.45,-66.79)},{idString:"flint_crate",position:e.create(33.86,-46.16)},{idString:"barrel",position:e.create(-10.72,-7.93)},{idString:"barrel",position:e.create(9.13,40.34)},{idString:"barrel",position:e.create(69.75,42.55)},{idString:"barrel",position:e.create(24.36,-46.95)},{idString:"barrel",position:e.create(70.01,-72.17)},{idString:"super_barrel",position:e.create(34.44,-55.28),rotation:0},{idString:"super_barrel",position:e.create(44.51,78.15),rotation:0},{idString:"sandbags",position:e.create(15.15,17.92),rotation:0},{idString:"sandbags",position:e.create(-10,78.77),rotation:0},{idString:"sandbags",position:e.create(44.5,65),rotation:1},{idString:"sandbags",position:e.create(31.6,-36.18),rotation:0},{idString:"sandbags",position:e.create(30.66,-70.69),rotation:0},{idString:"sandbags",position:e.create(18.54,-67.73),rotation:1},{idString:"m1117",position:e.create(48.93,-53.75),rotation:0,variation:0},{idString:"gun_case",position:e.create(30.66,-28.84),rotation:0},{idString:"gun_case",position:e.create(63.16,-36.39),rotation:1},{idString:"gun_case",position:e.create(19.48,36.69),rotation:0},{idString:"tear_gas_crate",position:e.create(16.55,9.68),rotation:0},{idString:"tear_gas_crate",position:e.create(33.06,-62.76),rotation:0},{idString:"grenade_crate",position:e.create(-55.29,78.02)},{idString:"grenade_crate",position:e.create(69.81,-34.24)},{idString:"ammo_crate",position:e.create(50.07,-20.07),rotation:0},{idString:"barrier",position:e.create(13.91,70.32),rotation:1},{idString:"fence",position:e.create(70.5,-83.93),rotation:0},...Array.from({length:10},(p,u)=>({idString:"fence",position:e.create(-72.1+8.45*u,-83.93),rotation:0})),...Array.from({length:3},(p,u)=>({idString:"fence",position:e.create(23+8.45*u,-83.93),rotation:0})),...Array.from({length:7},(p,u)=>({idString:"fence",position:e.create(75.55,-80.45+8.45*u),rotation:1})),...Array.from({length:10},(p,u)=>({idString:"fence",position:e.create(75.55,4.4+8.45*u),rotation:1})),...Array.from({length:4},(p,u)=>({idString:"fence",position:e.create(45.1+8.45*u,83.93),rotation:0})),...Array.from({length:6},(p,u)=>({idString:"fence",position:e.create(-58+8.45*u,83.93),rotation:0})),...Array.from({length:9},(p,u)=>({idString:"fence",position:e.create(-75.55,7+8.45*u),rotation:1})),...Array.from({length:9},(p,u)=>({idString:"fence",position:e.create(-75.55,-78.85+8.45*u),rotation:1}))]},{idString:"mobile_home",name:"Mobile Home",spawnHitbox:a.fromRect(65,40),ceilingHitbox:a.fromRect(43.5,20,e.create(0,-1)),floorImages:[{key:"mobile_home_floor_1",position:e.create(-11,0),scale:e.create(1.07,1.07)},{key:"mobile_home_floor_2",position:e.create(11,.01),scale:e.create(1.07,1.07)}],ceilingImages:[{key:"mobile_home_ceiling",position:e.create(0,-1),residue:"mobile_home_residue",scale:e.create(1.07,1.07)}],floors:[{type:F.Wood,hitbox:a.fromRect(43.5,20,e.create(0,-1))},{type:F.Metal,hitbox:a.fromRect(9.8,4,e.create(5,11))}],wallsToDestroy:2,obstacles:[{idString:"small_drawer",position:e.create(8.5,-5.5),rotation:0},{idString:"sink",position:e.create(-16.8,-4.6),rotation:1},{idString:"small_stove",position:e.create(-16.8,3.9),rotation:1},{idString:"door",position:e.create(4.5,8.45),rotation:2},{idString:"mobile_home_wall_4",position:e.create(15.5,8.45),rotation:0},{idString:"mobile_home_wall_2",position:e.create(-10.5,8.45),rotation:0},{idString:"tire",position:e.create(-24.25,4.85),rotation:0},{idString:"small_bed",position:e.create(16.8,-1),rotation:0},{idString:"mobile_home_window",position:e.create(-6.6,-10.5),rotation:0},{idString:"mobile_home_wall_1",position:e.create(-17.25,-10.5),rotation:0},{idString:"mobile_home_wall_2",position:e.create(21.7,-1),rotation:1},{idString:"mobile_home_wall_2",position:e.create(-21.7,-1),rotation:1},{idString:"mobile_home_wall_3",position:e.create(10.6,-10.5),rotation:0},{idString:"box",position:e.create(25.7,-3.5),rotation:0},{idString:"box",position:e.create(27.5,1.55),rotation:0}]},m(["red","lux_crate"]),m(["white","gun_case"]),{idString:"sea_traffic_control",name:"Sea Traffic Control",material:"stone",particle:"rock_particle",particleVariations:2,hitbox:new T(a.fromRect(1.87,20.8,e.create(19.6,-20.4)),a.fromRect(2.37,1.52,e.create(19.85,1.62)),a.fromRect(17.25,1.74,e.create(11.91,25.14)),a.fromRect(1.78,55,e.create(-20.19,-2.5)),a.fromRect(2.4,1.51,e.create(19.87,13.27)),a.fromRect(14.31,1.78,e.create(-13.93,25.12)),a.fromRect(40.08,1.78,e.create(-1.04,-29.91))),spawnHitbox:a.fromRect(48,98,e.create(0,15)),ceilingHitbox:a.fromRect(40,55,e.create(0,-2)),spawnMode:ce.Beach,floorImages:[{key:"sea_traffic_control_floor_1",position:e.create(0,-15.45),scale:e.create(2,2)},{key:"sea_traffic_control_floor_2",position:e.create(0,15.4),scale:e.create(2,2)}],ceilingImages:[{key:"sea_traffic_control_ceiling",position:e.create(-.25,-2.4),scale:e.create(2,2)}],floors:[{type:F.Wood,hitbox:a.fromRect(40,55,e.create(0,-2))},{type:F.Stone,hitbox:a.fromRect(10.5,5.2,e.create(-1.7,28.2))}],obstacles:[{idString:"sandbags",position:e.create(-16.79,33.53),rotation:1},{idString:"sandbags",position:e.create(-16.79,47.1),rotation:1},{idString:"sandbags",position:e.create(-14.15,58.27),rotation:2},{idString:"barrel",position:e.create(-7.67,47.77)},{idString:"barrel",position:e.create(14.07,42)},{idString:"regular_crate",position:e.create(11.03,32.15)},{idString:"door",position:e.create(-1.35,25.19),rotation:0},{idString:"gun_case",position:e.create(-13.41,20.92),rotation:2},{idString:"large_drawer",position:e.create(13.83,1.1),rotation:3},{idString:"office_chair",position:e.create(.43,-16.77),rotation:2},{idString:"office_chair",position:e.create(-11.78,-16.82),rotation:2},{idString:"office_chair",position:e.create(5.67,13.88),rotation:1},{idString:"aegis_crate",position:e.create(13.27,-23.45)},{idString:"life_preserver",position:e.create(-17.63,-2.6),rotation:2},{idString:"life_preserver",position:e.create(-17.63,7.05),rotation:2},{idString:"small_table",position:e.create(13.47,13.95),rotation:2,variation:0},{idString:"control_panel",position:e.create(-5.75,-24.7),rotation:0,activated:!0},{idString:"control_panel_small",position:e.create(3.81,-24.7),rotation:0},{idString:"control_panel_small",position:e.create(-15.34,-24.7),rotation:0},{idString:"window2",position:e.create(20.57,-4.5),rotation:0},{idString:"window2",position:e.create(20.57,7.4),rotation:0},{idString:"window2",position:e.create(20.57,19.2),rotation:0}],lootSpawners:[{table:"sea_traffic_control_floor",position:e.create(0,0)},{table:"sea_traffic_control_outside",position:e.create(1.5,48)}]},{idString:"small_bridge",name:"Small Bridge",noBulletCollision:!0,allowFlyover:Mi.Always,material:"wood",particle:"furniture_particle",hitbox:new T(a.fromRect(1.02,56,e.create(6.39,0)),a.fromRect(1.02,56,e.create(-6.39,0)),...Array.from({length:2},(p,u)=>{const y=u===0?1:-1;return Array.from({length:2},(I,R)=>{const x=R===0?1:-1;return[new f(1.1,e.create(6.39*y,0)),new f(1.1,e.create(6.39*y,9.54*x)),new f(1.1,e.create(6.39*y,19.17*x)),new f(1.1,e.create(6.39*y,27.97*x))]}).flat()}).flat()),spawnHitbox:a.fromRect(20,62),bridgeHitbox:new T(a.fromRect(20,5,e.create(0,28.5)),a.fromRect(20,5,e.create(0,-28.5))),floorImages:[{key:"small_bridge",position:e.create(0,-14.5)},{key:"small_bridge",position:e.create(0,14.5),rotation:Math.PI}],floors:[{type:F.Wood,hitbox:a.fromRect(13.6,55.7,e.create(0,0))}],lootSpawners:[{table:"ground_loot",position:e.create(0,0)}]},{idString:"large_bridge",name:"Large Bridge",allowFlyover:Mi.Always,material:"stone",particle:"rock_particle",particleVariations:2,hitbox:new T(a.fromRect(4,136,e.create(21.5,-1.5)),a.fromRect(4,136,e.create(-21.5,-1.5)),a.fromRect(5,5,e.create(-21.5,-72)),a.fromRect(5,5,e.create(21.5,-72)),a.fromRect(5,5,e.create(-21.5,69)),a.fromRect(5,5,e.create(21.5,69)),a.fromRect(5,3.25,e.create(-25.25,-1.35)),a.fromRect(5,3.25,e.create(25.25,-1.35)),a.fromRect(5,3.25,e.create(-25.25,-35.9)),a.fromRect(5,3.25,e.create(25.25,-35.9)),a.fromRect(5,3.25,e.create(-25.25,33.15)),a.fromRect(5,3.25,e.create(25.25,33.15)),a.fromRect(5,3.25,e.create(-25.25,67.8)),a.fromRect(5,3.25,e.create(25.25,67.8)),a.fromRect(5,3.25,e.create(-25.25,-70.65)),a.fromRect(5,3.25,e.create(25.25,-70.65))),spawnHitbox:a.fromRect(105,230),bridgeHitbox:new T(a.fromRect(105,45,e.create(0,92.5)),a.fromRect(105,45,e.create(0,-92.5))),floorImages:[{key:"large_bridge_railing",position:e.create(23.3,-38)},{key:"large_bridge_railing",position:e.create(23.3,35.3),rotation:Math.PI,scale:e.create(-1,1)},{key:"large_bridge_railing",position:e.create(-23.3,-38),scale:e.create(-1,1)},{key:"large_bridge_railing",position:e.create(-23.3,35.3),rotation:Math.PI},{key:"floor_oil_02",position:e.create(5.28,-66.1),zIndex:k.Decals},{key:"floor_oil_03",position:e.create(-12.06,23.49),rotation:Math.PI/2,zIndex:k.Decals},{key:"smoke_explosion_decal",position:e.create(-12.96,-49.37),zIndex:k.Decals},{key:"explosion_decal",position:e.create(15.91,-2.56),zIndex:k.Decals},{key:"explosion_decal",position:e.create(-8.65,42.84),zIndex:k.Decals},{key:"explosion_decal",position:e.create(-2.11,85.37),zIndex:k.Decals},{key:"frag_explosion_decal",position:e.create(-4.31,-91.09),zIndex:k.Decals},{key:"smoke_explosion_decal",position:e.create(11.09,75.08),zIndex:k.Decals}],groundGraphics:[{color:"#5d5d5d",hitbox:a.fromRect(44.77,211.1)},{color:"#4d4d4d",hitbox:a.fromRect(43.77,210.1)},{color:"#5d5d5d",hitbox:a.fromRect(3.61,210.1)}],floors:[{type:F.Stone,hitbox:a.fromRect(45,210,e.create(0,0))}],obstacles:[{idString:"barrel",position:e.create(-17.5,-80),rotation:0},{idString:"sandbags",position:e.create(25,-80),rotation:0},{idString:"sandbags",position:e.create(36,-82.5),rotation:1},{idString:"sandbags",position:e.create(36,-96.5),rotation:1},{idString:"grenade_crate",position:e.create(27.5,-88.5)},{idString:"regular_crate",position:e.create(13.5,-55),rotation:1},{idString:"barrel",position:e.create(4,-51),rotation:1},{idString:"gun_case",position:e.create(13.5,-47),rotation:2},{idString:"sandbags",position:e.create(12.5,-40),rotation:2},{idString:"aegis_crate",position:e.create(14.5,-30.5)},{idString:"m1117",position:e.create(-8.5,-4),rotation:0,variation:1},{idString:"regular_crate",position:e.create(7,-20),rotation:0},{idString:"gun_case",position:e.create(14,10),rotation:0},{idString:"gun_case",position:e.create(6,26),rotation:3},{idString:"ammo_crate",position:e.create(14,26)},{idString:"sandbags",position:e.create(12.5,35.5),rotation:2},{idString:"barrel",position:e.create(15.5,43.5),rotation:2},{idString:"tear_gas_crate",position:e.create(15.5,52.5),rotation:1},{idString:"barrel",position:e.create(17.5,80),rotation:0},{idString:"sandbags",position:e.create(-25,77),rotation:0},{idString:"sandbags",position:e.create(-36,79.5),rotation:1},{idString:"sandbags",position:e.create(-36,93.5),rotation:1},{idString:"grenade_crate",position:e.create(-27.5,85.5)}],lootSpawners:[],subBuildings:[{idString:"shed",position:e.create(-36,-95)},{idString:"shed",position:e.create(-36,-95),orientation:2}]},{idString:"construction_site",name:"Construction Site",spawnHitbox:a.fromRect(75,75,e.create(0,0)),spawnMode:ce.Grass,floorImages:[{key:"construction_site_floor_1_left",position:e.create(-16.5,-16.5),scale:e.create(2,2)},{key:"construction_site_floor_1_right",position:e.create(15.5,-16.5),scale:e.create(2,2)},{key:"construction_site_floor_2_right",position:e.create(-16.5,16),scale:e.create(2,2)},{key:"construction_site_floor_2_left",position:e.create(16.5,16),scale:e.create(2,2)}],floors:[{type:F.Sand,hitbox:a.fromRect(65,65,e.create(0,0))}],obstacles:[{idString:"bunker_entrance",position:e.create(-10,-16),rotation:0},{idString:"sandbags",position:e.create(18.42,-27.15),rotation:0},{idString:"sandbags",position:e.create(25.28,-15.7),rotation:1},{idString:"flint_crate",position:e.create(15,-17)},{idString:"barrel",position:e.create(15,-7.5),rotation:1},{idString:"super_barrel",position:e.create(5,-17),rotation:1},{idString:"sandbags",position:e.create(-5.5,7.94),rotation:1},{idString:"sandbags",position:e.create(.72,19.15),rotation:0},{idString:"cooler",position:e.create(2.28,8.42),rotation:1},{idString:"box",position:e.create(16.66,9.9)},{idString:"box",position:e.create(13.45,16.63)},{idString:"box",position:e.create(19.13,16.54)},{idString:"box",position:e.create(-20.5,-15.28)},{idString:"box",position:e.create(-25.19,-10.4)},{idString:"regular_crate",position:e.create(-17.34,6.54)},{idString:"regular_crate",position:e.create(-16.5,17.85)},{idString:"regular_crate",position:e.create(-24.02,-23.2)},{idString:"roadblock",position:e.create(-10.07,-29.04),rotation:1},{idString:"roadblock",position:e.create(-26,0),rotation:0},{idString:"roadblock",position:e.create(-27,15),rotation:0},{idString:"roadblock",position:e.create(-12.5,27.5),rotation:1},{idString:"roadblock",position:e.create(2.5,27.5),rotation:1},{idString:"roadblock",position:e.create(17.5,27.5),rotation:1},{idString:"roadblock",position:e.create(25,15),rotation:0}],lootSpawners:[]},{idString:"detector",name:"Detector",spawnHitbox:a.fromRect(9,3,e.create(0,1)),obstacles:[{idString:"detector_walls",position:e.create(0,0),rotation:0},{idString:"detector_top",position:e.create(0,.5),rotation:0}]},{idString:"headquarters_vault",name:"Headquarters Vault",spawnHitbox:a.fromRect(22,30.6,e.create(0,-7.2)),ceilingHitbox:a.fromRect(22,30.6,e.create(0,-7.2)),ceilingZIndex:k.BuildingsCeiling-1,ceilingImages:[{key:"headquarters_vault_ceiling",position:e.create(.1,-7.4),scale:e.create(2.16,2.15)}]},{idString:"headquarters_secret_room",name:"Headquarters Secret Room",spawnHitbox:a.fromRect(20,20),ceilingHitbox:a.fromRect(20,20),ceilingZIndex:k.BuildingsCeiling-1,ceilingImages:[{key:"secret_room_ceiling",position:e.create(0,0),scale:e.create(1.1,1.01)}],ceilingHiddenAlpha:.45},{idString:"headquarters",name:"Headquarters",material:"stone",particle:"hq_stone_wall_particle",particleVariations:2,ceilingImages:[{key:"headquarters_second_floor_bottom",position:e.create(.5,15.8)},{key:"headquarters_second_floor_top",position:e.create(0,-69)},{key:"headquarters_torture_window",position:e.create(-65,-84.8),scale:e.create(1,1.055)},{key:"headquarters_ceiling_2",position:e.create(-46.25,5.8),scale:e.create(2.15,2.15)},{key:"headquarters_ceiling_1",position:e.create(.4,-66.7),scale:e.create(2.15,2.15)}],hitbox:new T(a.fromRect(84.9,1.75,e.create(-29.2,-106.4)),a.fromRect(47.7,1.75,e.create(47.65,-106.4)),a.fromRect(1.75,95.5,e.create(70.7,-59)),a.fromRect(1.75,38.25,e.create(70.7,18.5)),a.fromRect(23.6,1.75,e.create(58.6,36.75)),a.fromRect(12.5,1.75,e.create(30.1,36.75)),a.fromRect(33.4,1.75,e.create(-3.3,36.75)),a.fromRect(31.4,1.75,e.create(-55.9,36.75)),a.fromRect(1.75,70,e.create(-70.7,1.1)),a.fromRect(1.75,45.25,e.create(-70.7,-84.4)),a.fromRect(14.6,1.75,e.create(-64,-62.7)),a.fromRect(1.75,17.6,e.create(-57.6,-53.8)),a.fromRect(1.75,2,e.create(-57.6,-33.5)),a.fromRect(22,1.75,e.create(-60,-33)),a.fromRect(24.25,1.75,e.create(-7.8,-24.5)),a.fromRect(46.1,1.75,e.create(47.4,-24.5)),a.fromRect(1.75,20,e.create(-19,-14.9)),a.fromRect(1.86,21.15,e.create(-19,25.8)),a.fromRect(1.75,18,e.create(-41.1,27.1)),a.fromRect(1.75,9.5,e.create(-41.1,3.25)),a.fromRect(18,1.75,e.create(-50.25,-.6)),a.fromRect(1.75,30,e.create(-46.8,-16)),a.fromRect(1.75,40.8,e.create(-33.55,-85.5)),a.fromRect(25,1.75,e.create(-45.9,-94)),a.fromRect(1.75,17,e.create(-57.5,-85.8)),a.fromRect(12.5,1.75,e.create(-50.7,-78.25)),a.fromRect(4.1,4,e.create(-47,-33)),a.fromRect(4.1,4,e.create(-32.8,-63)),a.fromRect(4.1,4,e.create(11,-63)),a.fromRect(4.1,4,e.create(32.7,-84)),a.fromRect(4.1,4,e.create(57.5,-84)),a.fromRect(4.1,4,e.create(14.6,4.5))),spawnHitbox:a.fromRect(195,200,e.create(0,-26)),ceilingHitbox:new T(a.fromRect(140,70,e.create(-.5,1.5)),a.fromRect(128,73,e.create(5.75,-70)),a.fromRect(11.5,43,e.create(-64,-84)),a.fromRect(45,25,e.create(-30,47))),spawnMode:ce.Grass,puzzle:{triggerOnSolve:"metal_door",delay:1e3,unlockOnly:!0},floorImages:[{key:"headquarters_floor_entrance",position:e.create(-30,45)},{key:"headquarters_large_stair",position:e.create(77.7,-55.5)},{key:"headquarters_floor_top",position:e.create(0,-69.5)},{key:"headquarters_floor_bottom",position:e.create(.78,5)}],floors:[{type:F.Wood,hitbox:new T(a.fromRect(1.67,20,e.create(-18.5,5.1)),a.fromRect(88.3,59.5,e.create(26,6)),a.fromRect(20,1.5,e.create(14.3,-24)),a.fromRect(37,58.25,e.create(51.5,-54.7)))},{type:F.Stone,hitbox:new T(a.fromRect(1.67,10,e.create(-40.25,13)),a.fromRect(20,1.05,e.create(14.3,-25.2)),a.fromRect(1.67,20,e.create(-19.9,5.1)),a.fromRect(20.1,55,e.create(-30.1,10)),a.fromRect(26,34,e.create(-33,-18.5)),a.fromRect(78,40,e.create(-7,-45)),a.fromRect(20.1,71,e.create(22,-71.5)),a.fromRect(22.5,42,e.create(-45.8,-55)),a.fromRect(22.5,16,e.create(-30,45.15)),a.fromRect(3.8,10.4,e.create(-59.25,-39.5)),a.fromRect(10.3,3.8,e.create(18.5,-107.9)),a.fromRect(35.5,14,e.create(-52.1,-70.5)),a.fromRect(10.7,1.67,e.create(-39.5,-77.8)),a.fromRect(1.67,80.1,e.create(32.5,-65.5)),a.fromRect(45.1,43.5,e.create(-10.8,-84)),a.fromRect(37,22,e.create(51.4,-95)))},{type:F.Carpet,hitbox:new T(a.fromRect(1.67,10,e.create(-41.8,13)),a.fromRect(10.5,1.67,e.create(-64.5,.4)),a.fromRect(27.6,35.5,e.create(-56,18)))},{type:F.Metal,hitbox:new T(a.fromRect(10.7,1.65,e.create(-64.5,-1)),a.fromRect(22.5,30.6,e.create(-59,-17)),a.fromRect(23,15,e.create(-45.5,-86)),a.fromRect(11,28.5,e.create(-64,-91.5)))},{type:F.Metal,hitbox:new T(a.fromRect(11.55,25.5,e.create(77.6,-63)),a.fromRect(11.5,11,e.create(-64.11,-100.43)),a.fromRect(12.5,16,e.create(-52,-100.1))),layer:1}],groundGraphics:[{color:6710886,hitbox:a.fromRect(23,11,e.create(-45.5,-100))}],visibilityOverrides:[{collider:new T(a.fromRect(16,11,e.create(-42.5,-100.2)),a.fromRect(8.5,16,e.create(79.2,-42.75)),a.fromRect(10,2,e.create(78,-49.5)),a.fromRect(10,2,e.create(78,-36.5))),layer:2,allow:[0]}],obstacles:[{idString:"headquarters_bottom_entrance",position:e.create(1,2),rotation:0},{idString:"headquarters_main_desk",position:e.create(-10.7,-49.5),rotation:0},{idString:"headquarters_cafeteria_table",position:e.create(45,-82),rotation:0},{idString:"headquarters_sinks",position:e.create(1,1.5),rotation:0},{idString:"hq_second_floor_collider_hack",position:e.create(0,0),rotation:0,layer:2},{idString:"hq_second_floor_collider_hack_2",position:e.create(0,0),rotation:0,layer:2},{idString:"planted_bushes",position:e.create(-46,45.9),rotation:0},{idString:"planted_bushes",position:e.create(-14,45.9),rotation:0},{idString:"glass_door",position:e.create(-35.1,36.9),rotation:0},{idString:"glass_door",position:e.create(-25,36.9),rotation:2},{idString:"potted_plant",position:e.create(-32,-56.5)},{idString:"potted_plant",position:e.create(10.9,-56.5)},{idString:"white_small_couch",position:e.create(-41.25,-57.5),rotation:0},{idString:"white_small_couch",position:e.create(17,-71),rotation:1},{idString:"small_drawer",position:e.create(17,-79.5),rotation:1},{idString:"bookshelf",position:e.create(-8,-28.5),rotation:0},{idString:"trash_can",position:e.create(28.5,-28.7)},{idString:"file_cart",position:e.create(-30,-19),rotation:1},{idString:"cabinet",position:e.create(-43,-9.2),rotation:1},{idString:"file_cart",position:e.create(17,-42),rotation:0},{idString:{box:1,trash_can:1,grenade_box:.5},position:e.create(-66.5,-67)},{idString:"hq_stair",position:e.create(-57.7,-100.2),layer:1,rotation:3},{idString:"headquarters_wall_1",position:e.create(-40.9,-62.7),rotation:0},{idString:"door",position:e.create(-51.15,-62.7),rotation:0},{idString:"cabinet",position:e.create(-42.25,-90.25),lootSpawnOffset:e.create(0,2),rotation:0},{idString:"trash_bag",position:e.create(-53,-90.25)},{idString:"door",position:e.create(-40,-78.2),rotation:2},{idString:"fire_exit_railing",position:e.create(79.1,-56.6),rotation:0},{idString:"fire_exit_railing",position:e.create(79.1,-56.6),layer:1,rotation:0},{idString:"hq_large_stair",position:e.create(77.7,-63.49),layer:1,rotation:0},{idString:"metal_door",position:e.create(-57.55,-39.55),rotation:3},{idString:"metal_door",position:e.create(18.25,-106.4),rotation:2},{idString:"window",position:e.create(18.5,36.75),rotation:1},{idString:"window",position:e.create(41.6,36.75),rotation:1},{idString:"window",position:e.create(70.7,-6),rotation:0},{idString:"dumpster",position:e.create(-63,-54.1),rotation:2},{idString:"trash_bag",position:e.create(-69.5,-57.3)},{idString:"hq_desk_left",position:e.create(-8,-17.3),rotation:0},{idString:"trash_can",position:e.create(-15,-8.25)},{idString:"grey_office_chair",position:e.create(-6.5,-13),rotation:2},{idString:"hq_desk_right",position:e.create(36.6,-17.3),rotation:0},{idString:"grey_office_chair",position:e.create(31.5,-11.5),rotation:2},{idString:"hq_desk_left",position:e.create(59.6,-17.3),rotation:0},{idString:"grey_office_chair",position:e.create(60,-13),rotation:2},{idString:"headquarters_wall_4",position:e.create(3.1,-15.57),rotation:1},{idString:"headquarters_wall_4",position:e.create(25.5,-15.57),rotation:1},{idString:"headquarters_wall_4",position:e.create(48,-15.57),rotation:1},{idString:"hq_desk_left",position:e.create(-8,29.6),rotation:2},{idString:"box",position:e.create(-1.6,21)},{idString:"grey_office_chair",position:e.create(-10,24),rotation:0},{idString:"headquarters_wall_9",position:e.create(3,25.25),rotation:1},{idString:"water_cooler",position:e.create(7.5,25),rotation:1},{idString:"filing_cabinet",position:e.create(8,32),rotation:1},{idString:"potted_plant",position:e.create(64.5,5)},{idString:"bookshelf",position:e.create(42,6.25),rotation:0},{idString:"headquarters_wall_6",position:e.create(50.05,10),rotation:0},{idString:"house_column",position:e.create(29,9.9)},{idString:"house_column",position:e.create(29,34.38)},{idString:"headquarters_wall_1",position:e.create(29,17),rotation:1},{idString:"door",position:e.create(29,28.25),rotation:3},{idString:"gun_case",position:e.create(36,14.5),rotation:0},{idString:"trash_can",position:e.create(66.5,14.5)},{idString:"grey_office_chair",position:e.create(56,16),rotation:0},{idString:"hq_desk_left",position:e.create(59.6,23.25),rotation:2},{idString:"office_chair",position:e.create(58,32.25),rotation:2},{idString:"potted_plant",position:e.create(28,-101.1)},{idString:"headquarters_wall_3",position:e.create(33,-100.9),rotation:1},{idString:"door",position:e.create(33,-91.7),rotation:1},{idString:"sink",position:e.create(39,-101.25),rotation:0},{idString:"small_stove",position:e.create(47.5,-101.5),rotation:0},{idString:"fridge",position:e.create(55.7,-101.65),rotation:0},{idString:"fridge",position:e.create(65,-101.65),rotation:0},{idString:"door",position:e.create(64.225,-84),rotation:2},{idString:"headquarters_wall_4",position:e.create(32.7,-73.55),rotation:1},{idString:"house_column",position:e.create(32.7,-64)},{idString:"house_column",position:e.create(32.75,-42.8)},{idString:"headquarters_wall_4",position:e.create(32.7,-33.5),rotation:1},{idString:"vending_machine",position:e.create(37.5,-30.5),rotation:1},{idString:"large_table",position:e.create(60.7,-60),rotation:1,variation:1},{idString:"chair",position:e.create(64.7,-53.6),rotation:0},{idString:"chair",position:e.create(57.2,-53.6),rotation:0},{idString:"chair",position:e.create(64.7,-66.2),rotation:2},{idString:"chair",position:e.create(57.2,-66.2),rotation:2},{idString:"large_table",position:e.create(63.2,-34.4),rotation:0,variation:1},{idString:"chair",position:e.create(57,-38),rotation:3},{idString:"chair",position:e.create(57,-30.5),rotation:3},{idString:"chair",position:e.create(64.5,-42.8),rotation:2},{idString:"headquarters_wall_2",position:e.create(11.9,-75.8),rotation:1},{idString:"headquarters_wall_3",position:e.create(11.9,-100.9),rotation:1},{idString:"door",position:e.create(11.9,-91.85),rotation:1},{idString:"headquarters_wall_6",position:e.create(-10.9,-62.7),rotation:0},{idString:"toilet",position:e.create(5.5,-69),rotation:2},{idString:"toilet",position:e.create(-9,-69),rotation:2},{idString:"used_toilet",position:e.create(-24,-69),rotation:2},{idString:"hq_toilet_paper_wall",position:e.create(-2,-73.3),rotation:1},{idString:"hq_toilet_paper_wall",position:e.create(-17,-73.3),rotation:1},{idString:"headquarters_wall_7",position:e.create(-5.55,-82.1),rotation:0},{idString:"headquarters_wall_7",position:e.create(9.3,-82.1),rotation:0},{idString:"headquarters_wall_8",position:e.create(-30.9,-82.1),rotation:0},{idString:"porta_potty_door",position:e.create(3.25,-82.1),rotation:0},{idString:"porta_potty_door",position:e.create(-11.7,-82.1),rotation:0},{idString:"porta_potty_door",position:e.create(-23.6,-82.1),rotation:0},{idString:"trash_can",position:e.create(-29,-102)},{idString:"door",position:e.create(-41.1,13.45),rotation:3},{idString:"gun_case",position:e.create(-47.8,3.2),rotation:0},{idString:"grey_office_chair",position:e.create(-47,26),rotation:0},{idString:"grey_office_chair",position:e.create(-60,18),rotation:0},{idString:"metal_door",position:e.create(-64.25,-.65),rotation:0,locked:!0},{idString:"headquarters_security_desk",position:e.create(-55.9,33.25),rotation:0,puzzlePiece:!0},{idString:"gun_mount_mini14",position:e.create(-68,-27),lootSpawnOffset:e.create(5,.5),rotation:1},{idString:"gun_locker",position:e.create(-62.5,-13.5),lootSpawnOffset:e.create(.5,0),rotation:0},{idString:"gun_locker",position:e.create(-62.5,-19),lootSpawnOffset:e.create(.5,0),rotation:2},{idString:"box",position:e.create(-53,-19)},{idString:"box",position:e.create(-51,-14)}],subBuildings:[{idString:"headquarters_second_floor",position:e.create(5.6,-.6),layer:2},{idString:"headquarters_vault",position:e.create(-58.8,-9.4)},{idString:"detector",position:e.create(-35,25.5)},{idString:"detector",position:e.create(-25,25.5)}]},{idString:"headquarters_second_floor",name:"Headquarters Second Floor",material:"stone",particle:"hq_stone_wall_particle",particleVariations:2,hitbox:new T(a.fromRect(20,40,e.create(75.975,-15)),a.fromRect(60,40,e.create(35.975,-5)),a.fromRect(35,80,e.create(95.975,-35)),a.fromRect(1.75,59,e.create(65.1,-77.1)),a.fromRect(93,1.75,e.create(19.5,-26.5)),a.fromRect(1.75,10,e.create(65.1,-32.1)),a.fromRect(140,1.75,e.create(-5.5,-105.8)),a.fromRect(1.75,61,e.create(-63.2,-63.75)),a.fromRect(1.75,45.8,e.create(-76.4,-83.8)),a.fromRect(14.6,1.75,e.create(-70,-62)),a.fromRect(14.4,1.75,e.create(-69.5,-32.39)),a.fromRect(1.75,71.4,e.create(-76.4,2.3)),a.fromRect(1.75,71.4,e.create(-27.3,2.45)),a.fromRect(48,1.75,e.create(-51.7,37)),a.fromRect(14.4,1.75,e.create(-35,-32.39)),a.fromRect(13,1.75,e.create(-57.7,-93.5)),a.fromRect(13,1.75,e.create(-57.7,-77.5)),a.fromRect(1.75,15,e.create(-63.3,-85.5)),a.fromRect(1.75,15,e.create(-52.07,-85.5)),a.fromRect(1.75,48.8,e.create(-39.1,-81.25)),a.fromRect(20,1.75,e.create(8.8,-56)),a.fromRect(36,1.75,e.create(46.95,-56)),a.fromRect(1.75,12.1,e.create(-3.8,-88.9)),a.fromRect(1.75,23,e.create(18.7,-94.425)),a.fromRect(12.1,1.75,e.create(13,-83.8)),a.fromRect(4.1,4.15,e.create(-40.3,-54.7)),a.fromRect(4.1,4.15,e.create(-3,-54.8))),spawnHitbox:a.fromRect(195,200,e.create(0,-26)),ceilingHitbox:new T(a.fromRect(47,68,e.create(-52,2.5)),a.fromRect(128,77.1,e.create(0,-66)),a.fromRect(11.5,40,e.create(-70,-86)),a.fromRect(12.4,15,e.create(77.05-5.6,-42.5+.6))),spawnMode:ce.Grass,floorImages:[{key:"headquarters_second_floor_top",position:e.create(-5.57,-68.35)},{key:"headquarters_second_floor_bottom",position:e.create(-5.6,16)}],floors:[{type:F.Wood,hitbox:new T(a.fromRect(47,68,e.create(-52,2.5)),a.fromRect(20.1,1.7,e.create(-52.2,-31.5)),a.fromRect(104,49.5,e.create(13,-80)))},{type:F.Stone,hitbox:new T(a.fromRect(33.1,1.8,e.create(-22,-54.3)),a.fromRect(12,1.8,e.create(24,-56)),a.fromRect(1.88,11,e.create(65.2,-42.5)),a.fromRect(65.1,28,e.create(31.6,-41)),a.fromRect(28,28,e.create(-12.5,-41)),a.fromRect(50,22,e.create(-37.25,-43.25)),a.fromRect(22.25,44.3,e.create(-51.1,-54.5)))},{type:F.Metal,hitbox:new T(a.fromRect(11,20.5,e.create(-45.7,-86.8)),a.fromRect(35.5,11,e.create(-57.7,-99.5)),a.fromRect(11.55,14,e.create(71.9,-42.4)))}],puzzle:{triggerOnSolve:"speaker",delay:500},sounds:{solved:"speaker",position:e.create(29.71,-79.14),maxRange:105,falloff:.5},obstacles:[{idString:"fire_exit_railing",position:e.create(73.5,-56),rotation:0},{idString:"small_drawer",position:e.create(-58,-62),rotation:1},{idString:"white_small_couch",position:e.create(-58,-70.6),rotation:1},{idString:"metal_door",position:e.create(65.15,-42.7),rotation:1},{idString:"cabinet",position:e.create(56.5,-52),lootSpawnOffset:e.create(-1,1),rotation:0},{idString:"file_cart",position:e.create(56.5,-32.5),rotation:0},{idString:"bookshelf",position:e.create(-10,-30.5),lootSpawnOffset:e.create(0,-2),rotation:0},{idString:"potted_plant",position:e.create(-22.5,-31.8),lootSpawnOffset:e.create(1,-1)},{idString:"hq_large_cart",position:e.create(28.1,-39),rotation:0},{idString:"white_small_couch",position:e.create(17.5,-39),rotation:2},{idString:"box",position:e.create(25.5,-39.5)},{idString:"headquarters_boss_desk",position:e.create(-28.1,-82),rotation:0},{idString:"headquarters_wood_table_second_floor",position:e.create(62.5,-93.8),rotation:0},{idString:"office_chair",position:e.create(56,-86),rotation:1},{idString:"office_chair",position:e.create(54,-95.25),rotation:1},{idString:"speaker",position:e.create(61,-77),rotation:3,puzzlePiece:!0},{idString:"piano",position:e.create(55.25,-65),rotation:1},{idString:"small_drawer",position:e.create(47,-100.6),rotation:0,lootSpawnOffset:e.create(0,2)},{idString:"couch_part",position:e.create(31.45,-100.9),rotation:3},{idString:"couch_end_right",position:e.create(38,-100.6),rotation:0},{idString:"couch_end_left",position:e.create(24.9,-100.6),rotation:3},{idString:"small_table",position:e.create(31.45,-90.5),rotation:1,variation:1},{idString:"couch_corner",position:e.create(1.5,-79),rotation:0},{idString:"couch_part",position:e.create(7.45,-78.9),rotation:3},{idString:"couch_end_right",position:e.create(14,-78.6),rotation:0},{idString:"couch_end_left",position:e.create(1.9,-72.25),rotation:0},{idString:"door",position:e.create(24.27,-56),rotation:0},{idString:"headquarters_wall_1",position:e.create(-11.15,-54.5),rotation:0},{idString:"door",position:e.create(-22.4,-54.5),rotation:2},{idString:"headquarters_wall_5",position:e.create(-32.58,-54.5),rotation:0},{idString:"trash_can",position:e.create(-8.5,-58.5)},{idString:"potted_plant",position:e.create(-33,-59.3)},{idString:"house_column",position:e.create(-3.6,-69.9)},{idString:"headquarters_wall_1",position:e.create(-3.6,-77.1),rotation:1},{idString:"headquarters_wall_1",position:e.create(-3.6,-62.7),rotation:1},{idString:"grey_office_chair",position:e.create(-26.8,-90),rotation:0},{idString:"grey_office_chair",position:e.create(-28,-74.5),rotation:2},{idString:"filing_cabinet",position:e.create(-8.4,-101),lootSpawnOffset:e.create(0,2),rotation:0},{idString:"bookshelf",position:e.create(-18.6,-102),lootSpawnOffset:e.create(0,2),rotation:0},{idString:"bookshelf",position:e.create(-31.5,-102),lootSpawnOffset:e.create(0,2),rotation:0},{idString:"potted_plant",position:e.create(1.5,-61)},{idString:"bookshelf",position:e.create(12,-59.5),rotation:0},{idString:"secret_door",position:e.create(-3.85,-99.4),rotation:3},{idString:"aegis_golden_case",position:e.create(14,-98.5),lootSpawnOffset:e.create(-1,1),rotation:3},{idString:"secret_door",position:e.create(2.5,-83.8),rotation:0},{idString:"door",position:e.create(-47.65,-32.3),rotation:2},{idString:"door",position:e.create(-56.85,-32.3),rotation:0},{idString:"bookshelf",position:e.create(-30.8,-13),lootSpawnOffset:e.create(-3,0),rotation:1},{idString:"tv",position:e.create(-29.2,1.75),rotation:0},{idString:"large_drawer",position:e.create(-32.3,1.75),lootSpawnOffset:e.create(-3,0),rotation:3},{idString:"bookshelf",position:e.create(-30.8,16.5),lootSpawnOffset:e.create(-3,0),rotation:1},{idString:"potted_plant",position:e.create(-71.7,31.5)},{idString:"potted_plant",position:e.create(-32.5,32.2)},{idString:"falchion_case",position:e.create(-51,32.25),lootSpawnOffset:e.create(0,-2),rotation:2},{idString:"water_cooler",position:e.create(-71.8,-27.5),rotation:1},{idString:"filing_cabinet",position:e.create(-32.5,-27.5),lootSpawnOffset:e.create(-2,0),rotation:3},{idString:"chair",position:e.create(-54.1,-14.6),rotation:2},{idString:"chair",position:e.create(-54.1,19.1),rotation:0},{idString:"large_table",variation:1,position:e.create(-54.1,-9),rotation:1},{idString:"chair",position:e.create(-62.5,-9),rotation:3},{idString:"chair",position:e.create(-45.5,-9),rotation:1},{idString:"large_table",variation:0,position:e.create(-54.1,2.25),rotation:1},{idString:"chair",position:e.create(-62.5,2.25),rotation:3},{idString:"chair",position:e.create(-45.5,2.25),rotation:1},{idString:"large_table",variation:0,position:e.create(-54.1,13.4),rotation:1},{idString:"chair",position:e.create(-62.5,13.4),rotation:3},{idString:"chair",position:e.create(-45.5,13.4),rotation:1}],subBuildings:[{idString:"headquarters_secret_room",position:e.create(7.4,-94.5)}],lootSpawners:[{position:e.create(16,-88),table:"hq_skin"}]},{idString:"small_bunker_entrance",name:"Small Bunker Entrance",reflectBullets:!0,collideWithLayers:De.All,visibleFromLayers:De.All,material:"metal_heavy",particle:"metal_particle",hitbox:new T(a.fromRect(1.9,16.6,e.create(6.1,.15)),a.fromRect(1.9,16.6,e.create(-6.1,.15))),spawnHitbox:a.fromRect(75,75,e.create(0,0)),floorImages:[{key:"small_bunker_entrance_floor",position:e.create(0,0),scale:e.create(2.2,2.2)}],floors:[{type:F.Metal,hitbox:a.fromRect(10,18,e.create(0,0))}],obstacles:[{idString:"bunker_stair",position:e.create(0,2.6),rotation:0}],lootSpawners:[]},{idString:"small_bunker_main",name:"Small Bunker",reflectBullets:!0,collideWithLayers:De.Adjacent,material:"metal_heavy",particle:"metal_particle",hitbox:new T(a.fromRect(44.5,1.7,e.create(0,-18)),a.fromRect(1.7,37.9,e.create(21.5,0)),a.fromRect(1.7,37.9,e.create(-21.5,0)),a.fromRect(16,1.7,e.create(-13.1,18)),a.fromRect(16,1.7,e.create(13.1,18))),spawnHitbox:a.fromRect(55,55,e.create(0,5)),ceilingHitbox:new T(a.fromRect(42,34.5),a.fromRect(10,20,e.create(0,20))),floorImages:[{key:"small_bunker_floor",position:e.create(0,0),scale:e.create(2.2,2.2)}],floors:[{type:F.Stone,hitbox:new T(a.fromRect(42,34.5),a.fromRect(10,4.5,e.create(0,19)))},{type:F.Metal,hitbox:a.fromRect(10,12,e.create(0,27)),layer:-1}],obstacles:[{idString:"small_desk",position:e.create(-12.9,13.9),rotation:0},{idString:"metal_door",position:e.create(.25,18.3),rotation:0},{idString:"control_panel2",position:e.create(-14.5,-12.6),rotation:0},{idString:"box",position:e.create(-17,-2),lootSpawnOffset:e.create(2,0)},{idString:"box",position:e.create(-15,3.5),lootSpawnOffset:e.create(2,0)},{idString:"small_drawer",position:e.create(-5,-13),lootSpawnOffset:e.create(0,2),rotation:0},{idString:"house_wall_13",position:e.create(0,-12.5),rotation:1},{idString:"fridge",position:e.create(6.5,-13),lootSpawnOffset:e.create(0,2),rotation:0},{idString:"small_bed",position:e.create(16,-8.5),rotation:0},{idString:"small_drawer",position:e.create(16,3.3),lootSpawnOffset:e.create(-2,0),rotation:3},{idString:"aegis_crate",position:e.create(15,11.5),lootSpawnOffset:e.create(-2,-2)}],lootSpawners:[{table:"ground_loot",position:e.create(0,-.5)}]},{idString:"small_bunker",name:"Small Bunker",material:"metal_heavy",particle:"metal_particle",reflectBullets:!0,ceilingZIndex:k.ObstaclesLayer3,visibleFromLayers:De.All,hitbox:a.fromRect(12,1,e.create(0,12.3)),ceilingImages:[{key:"small_bunker_entrance_ceiling",position:e.create(0,18),scale:e.create(2.35,2.1)}],spawnHitbox:a.fromRect(53,53,e.create(0,20)),ceilingHitbox:a.fromRect(10,15,e.create(0,20)),obstacles:[{idString:{oak_tree:1,birch_tree:1},position:e.create(7.5,9.8)},{idString:{oak_tree:1,birch_tree:1},position:e.create(10,23)},{idString:{oak_tree:1,birch_tree:1},position:e.create(-10,16)},{idString:{oak_tree:1,birch_tree:1},position:e.create(-5,37)}],bulletMask:a.fromRect(11,30,e.create(0,30)),subBuildings:[{idString:"small_bunker_main",position:e.create(0,-5),layer:-2},{idString:"small_bunker_entrance",position:e.create(0,20),layer:-1}]},{idString:"barn_top_floor_shadow",name:"Barn Shadow",spawnHitbox:new T(a.fromRect(20,55,e.create(-19,0)),a.fromRect(58,14,e.create(0,-21))),ceilingZIndex:k.BuildingsCeiling-1,ceilingImages:[{key:"barn_top_floor_shadow",position:e.create(0,0),scale:e.create(8.5,8.5)}]},{idString:"barn_top_floor",name:"Barn Top Floor",material:"stone",particle:"wall_particle",hitbox:new T(a.fromRect(17,1,e.create(18.5,-14.9)),a.fromRect(17,1,e.create(-.5,-14.9)),a.fromRect(1,14,e.create(-9.5,-7.5)),a.fromRect(1,26.5,e.create(-9.5,14.5)),a.fromRect(1,21,e.create(-20,5.45)),a.fromRect(9.5,1,e.create(-25,-4.55)),a.fromRect(1,3,e.create(28.25,-17)),a.fromRect(2,1,e.create(29,-18))),spawnHitbox:new T(a.fromRect(20.5,55.5,e.create(-19.5,0)),a.fromRect(60,14,e.create(0,-21))),ceilingHitbox:new T(a.fromRect(20.5,55.5,e.create(-19.5,0)),a.fromRect(61,14,e.create(0,-21))),floorImages:[{key:"barn_top_floor_2",position:e.create(10,-21.15),scale:e.create(1.07,1.07)},{key:"barn_top_floor_1",position:e.create(-19.5,0),scale:e.create(1.07,1.07)}],floors:[{type:F.Wood,hitbox:new T(a.fromRect(60,14,e.create(0,-21)),a.fromRect(20,23,e.create(-19.5,-16.5)),a.fromRect(10,40,e.create(-15,0)),a.fromRect(20,12,e.create(-20,21.5)))}],obstacles:[]},{idString:"barn_exterior",name:"Barn Exterior",material:"stone",particleVariations:2,spawnHitbox:a.fromRect(120,92),particle:"barn_wall_particle",hitbox:new T(a.fromRect(90,1.75,e.create(-11,-41)),a.fromRect(1.75,58,e.create(-55.1,-11.5)),a.fromRect(31.5,1.75,e.create(-40.25,17)),a.fromRect(48,1.75,e.create(10,17)),a.fromRect(1.75,16,e.create(33.1,9)),a.fromRect(1.75,16,e.create(33.1,-32.25)))},{idString:"barn",name:"Barn",spawnHitbox:a.fromRect(120,92),ceilingHitbox:new T(a.fromRect(85.5,56,e.create(-11,-11.9)),a.fromRect(64,24,e.create(-23,29.5))),floorImages:[{key:"barn_floor_4",position:e.create(-22.5,30),scale:e.create(2.14,2.14)},{key:"barn_floor_1",position:e.create(-27.5,-10),scale:e.create(1.07,1.07)},{key:"barn_floor_3",position:e.create(44.8,-11.94),scale:e.create(2.14,2.14)},{key:"barn_floor_2",position:e.create(16,-11.9),scale:e.create(1.07,1.07)}],ceilingImages:[{key:"barn_ceiling",position:e.create(-11,-.5),scale:e.create(2.12,2.12)}],floors:[{type:F.Stone,hitbox:new T(a.fromRect(86,25.25,e.create(12.7,-11.6)),a.fromRect(22,59.5,e.create(44.7,-11.8)),a.fromRect(10.25,5.5,e.create(-19.3,19)))},{type:F.Wood,hitbox:new T(a.fromRect(86.25,16,e.create(-11.1,-32.25)),a.fromRect(24,40,e.create(-42.25,-10)),a.fromRect(86.25,16,e.create(-11.1,9)))},{type:F.Metal,hitbox:new T(a.fromRect(7,7,e.create(-49.25,0)),a.fromRect(7,7,e.create(9.5,-35.25))),layer:1}],obstacles:[{idString:"barn_stair_walls",position:e.create(0,0),rotation:0},{idString:"barn_stair_walls_2",position:e.create(0,0),rotation:0},{idString:"barn_stair_walls_top_floor",position:e.create(0,0),rotation:0,layer:2},{idString:"house_column",position:e.create(-33.5,-11.6)},{idString:"house_column",position:e.create(-33.5,-26.7)},{idString:"house_column",position:e.create(-15,-26.7)},{idString:"house_column",position:e.create(4.1,-26.7)},{idString:"house_column",position:e.create(19.39,3.36)},{idString:"house_column",position:e.create(3.6,3.36)},{idString:"house_column",position:e.create(-12.36,3.36)},{idString:"house_column",position:e.create(-13.59,40.32)},{idString:"house_column",position:e.create(8.43,40.32)},{idString:"house_column",position:e.create(-32.29,40.32)},{idString:"house_column",position:e.create(-53.78,40.32)},{idString:"house_column",position:e.create(-33.5,-26.7),layer:2},{idString:"house_column",position:e.create(-15,-26.7),layer:2},{idString:"house_column",position:e.create(4.1,-26.7),layer:2},{idString:"house_column",position:e.create(-33.5,-11.6),layer:2},{idString:"barn_stair",position:e.create(11,-35.35),rotation:1,layer:1},{idString:"barn_stair",position:e.create(-49.17,-1.9),rotation:2,layer:1},{idString:"barrel",position:e.create(-31.04,22.49)},{idString:"regular_crate",position:e.create(-40.5,23.21)},{idString:"ammo_crate",position:e.create(-7.85,24.13)},{idString:"regular_crate",position:e.create(39.88,6.83)},{idString:"hay_bale",position:e.create(41.62,-33.27),rotation:0},{idString:"barn_door",position:e.create(33.06,-4.48),rotation:1},{idString:"barn_door",position:e.create(33.06,-18.9),rotation:3},{idString:"regular_crate",position:e.create(-5.16,10.94)},{idString:"ammo_crate",position:e.create(-48.33,-34.23)},{idString:"bookshelf",position:e.create(29.66,9.22),rotation:1},{idString:"bookshelf",position:e.create(-25.21,-37.16),rotation:0},{idString:"box",position:e.create(-50.76,-26.18)},{idString:"box",position:e.create(8.98,12.94)},{idString:"box",position:e.create(14.16,10.48)},{idString:"flint_crate",position:e.create(-48.59,10.82)},{idString:"bookshelf",position:e.create(12.45,-28.13),rotation:0},{idString:"gun_case",position:e.create(.92,-34.24),rotation:3},{idString:"box",position:e.create(-4.98,-36.84)},{idString:"grenade_crate",position:e.create(-28.13,12.05)},{idString:"door",position:e.create(-19.78,17.11),rotation:2},{idString:"hay_bale",position:e.create(6.22,-10.53),rotation:2},{idString:"box",position:e.create(16.55,-10.34)},{idString:"hay_bale",position:e.create(-15.64,-18.12),rotation:1},{idString:"hay_bale",position:e.create(-37.68,9.15),rotation:3},{idString:"house_wall_3",position:e.create(19.39,10.31),rotation:1},{idString:"house_wall_3",position:e.create(3.6,10.31),rotation:1},{idString:"house_wall_3",position:e.create(-12.36,10.31),rotation:1},{idString:"regular_crate",position:e.create(-10.4,-34.56),layer:2},{idString:"gun_case",position:e.create(-50.37,-33.89),rotation:1,layer:2},{idString:"regular_crate",position:e.create(-40.5,-25.5),layer:2},{idString:"box",position:e.create(-20.71,-30.47),layer:2},{idString:"gun_locker",position:e.create(-22.5,-36.7),lootSpawnOffset:e.create(0,1),rotation:0,layer:2},{idString:"barrel",position:e.create(-49.44,-21.25),layer:2},{idString:"grenade_box",position:e.create(-37.47,13.07),layer:2},{idString:"bookshelf",position:e.create(-46.82,13.36),rotation:0,layer:2,lootSpawnOffset:e.create(0,-1)}],subBuildings:[{idString:"barn_top_floor_shadow",position:e.create(-24.5,-11.7)},{idString:"barn_top_floor",position:e.create(-23.9,-11.85),layer:2},{idString:"barn_exterior",position:e.create(0,0)},{idString:"barn_exterior",position:e.create(0,0),layer:2}]},{idString:"bombed_armory_barracks",name:"Armory Barracks",material:"stone",particle:"rock_particle",particleVariations:2,hitbox:new T(new a(e.create(23.44,-41),e.create(25.54,-15.1)),new a(e.create(23.44,-4),e.create(25.54,23.13)),new a(e.create(23.44,34.23),e.create(25.54,41)),new a(e.create(-25.51,-42.34),e.create(-1.91,-40.25)),new a(e.create(7,16.1),e.create(24,18.2)),new a(e.create(8.18,-42.34),e.create(25.54,-40.25)),new a(e.create(-25.51,-41),e.create(-23.42,17.54)),new a(e.create(-25.51,28.57),e.create(-23.42,42.35)),new a(e.create(-24,40.25),e.create(-4.33,42.35)),new a(e.create(5.76,40.25),e.create(25.54,42.35)),new a(e.create(4.05,15.59),e.create(7.06,18.77)),new a(e.create(-4.12,-21.39),e.create(-1.11,-18.21)),new a(e.create(-24,-20.85),e.create(-4,-18.76))),spawnHitbox:a.fromRect(50,84),ceilingHitbox:a.fromRect(50,84),floorImages:[{key:"armory_barracks_floor_1",position:e.create(0,-23.2)},{key:"armory_barracks_floor_2",position:e.create(0,23.2)},{key:"window_residue",position:e.create(24.5,-9.5),zIndex:k.Decals},{key:"window_residue",position:e.create(24.5,28.75),zIndex:k.Decals},{key:"window_residue",position:e.create(-24.5,23),zIndex:k.Decals},{key:"large_refinery_barrel_residue",position:e.create(-11.2,8.07),zIndex:k.Decals},{key:"large_refinery_barrel_residue",position:e.create(14.64,29.21),scale:e.create(.8,.8),zIndex:k.Decals},{key:"cabinet_residue",position:e.create(16,37.6),zIndex:k.Decals},{key:"cabinet_residue",position:e.create(16,20.9),zIndex:k.Decals}],lootSpawners:[{table:"cabinet",position:e.create(16,20.9)},{table:"cabinet",position:e.create(16,37.6)}],ceilingImages:[{key:"armory_barracks_ceiling_1",position:e.create(0,-21),scale:e.create(2,2)},{key:"armory_barracks_ceiling_2",position:e.create(0,20.6),scale:e.create(2,2)}],floors:[{type:F.Wood,hitbox:a.fromRect(50,84)}],obstacles:[{idString:"fridge",position:e.create(-19.8,-35.5),rotation:1},{idString:"stove",position:e.create(-19.8,-26.1),rotation:1},{idString:"bunk_bed",position:e.create(18,-31.25),rotation:0},{idString:"small_drawer",position:e.create(18.4,-18.7),rotation:0},{idString:"small_drawer",position:e.create(-2,-13.6),rotation:1},{idString:"box",position:e.create(-10.95,25.29)},{idString:"box",position:e.create(8.04,11.36)},{idString:"bunk_bed",position:e.create(-14.43,-13.21),rotation:1},{idString:"bunk_bed",position:e.create(17.95,7),rotation:0},{idString:"bunk_bed",position:e.create(-14.48,34.83),rotation:3},{idString:"door",position:e.create(1.15,41.3),rotation:0},{idString:"window_damaged",position:e.create(24.5,-9.5),rotation:0},{idString:"window_damaged",position:e.create(24.5,28.75),rotation:0},{idString:"window_damaged",position:e.create(-24.5,23),rotation:0}]},{idString:"bombed_armory_center",name:"Armory Center",material:"stone",particle:"rock_particle",particleVariations:2,hitbox:new T(a.fromRect(2.09,42,e.create(16.38,0)),a.fromRect(32.34,2.08,e.create(1.24,-21.87)),a.fromRect(2.09,3.97,e.create(-13.88,-19.01)),a.fromRect(2.09,8.27,e.create(-13.88,16.87)),a.fromRect(2.09,8.58,e.create(-13.88,-2.64)),a.fromRect(32.34,2.07,e.create(1.24,21.88))),spawnHitbox:a.fromRect(31,44,e.create(1.5,0)),ceilingHitbox:a.fromRect(31,44,e.create(1.5,0)),floorImages:[{key:"armory_center_floor_1",position:e.create(0,-11.5)},{key:"armory_center_floor_2",position:e.create(0,11.5)},{key:"window_residue",position:e.create(-13.9,7.1)},{key:"chair_residue",rotation:3,position:e.create(3,1.7)},{key:"large_refinery_barrel_residue",position:e.create(-1.42,-10),scale:e.create(.8,.8)},{key:"small_drawer_residue",position:e.create(-9.2,16.8),rotation:2},{key:"explosion_decal",position:e.create(-13.9,-12.43)},{key:"cabinet_residue",position:e.create(12.3,-11.6),rotation:2}],ceilingImages:[{key:"armory_center_ceiling_1",position:e.create(1.25,-11),scale:e.create(2,2)},{key:"armory_center_ceiling_2",position:e.create(1.25,11.4),scale:e.create(2,2)}],floors:[{type:F.Wood,hitbox:a.fromRect(31,44,e.create(1.5,0))}],obstacles:[{idString:"chair",position:e.create(10.1,6),rotation:0},{idString:"gun_mount_maul",position:e.create(2,19.05),rotation:2},{idString:"trash_can",position:e.create(12,17.5)},{idString:"window_damaged",position:e.create(-13.9,7.1),rotation:0}],lootSpawners:[{table:"small_drawer",position:e.create(-9.2,16.8)},{table:"cabinet",position:e.create(12.45,-11.6)}]},{idString:"bombed_armory_vault",name:"Armory Vault",material:"stone",particle:"rock_particle",particleVariations:2,hitbox:new T(a.fromRect(2.09,36,e.create(36.03,-2)),a.fromRect(2.09,11.67,e.create(-13.96,-15.16)),a.fromRect(13.4,2.09,e.create(30.37,16.52)),a.fromRect(74.12,2.09,e.create(.01,-20.98)),a.fromRect(2.09,11.07,e.create(-13.96,10.47)),a.fromRect(29,2.09,e.create(21.9,-6.66)),a.fromRect(2.07,37,e.create(-36.01,-2.5)),a.fromRect(35.39,2.09,e.create(-19.35,16.52)),a.fromRect(4.16,2.09,e.create(10.5,16.52))),spawnHitbox:a.fromRect(72,38,e.create(0,-2)),ceilingHitbox:a.fromRect(72,38,e.create(0,-2)),floorImages:[{key:"armory_vault_floor_1",position:e.create(-16.6,0)},{key:"armory_vault_floor_2",position:e.create(20.2,0)},{key:"fridge_residue",position:e.create(-9,-3.22),zIndex:k.Decals,rotation:1},{key:"window_residue",position:e.create(18.1,16.5),zIndex:k.Decals,rotation:1.5},{key:"explosion_decal",position:e.create(3.8,16.5),zIndex:k.Decals},{key:"explosion_decal",position:e.create(-8,-8),zIndex:k.Decals},{key:"ammo_crate_residue",position:e.create(12.85,-.45),zIndex:k.Decals},{key:"barrel_residue",position:e.create(30.7,-14),zIndex:k.Decals},{key:"gun_case_residue",position:e.create(-7.5,12.4),zIndex:k.Decals},{key:"regular_crate_residue",position:e.create(-21.06,.29),zIndex:k.Decals},{key:"large_refinery_barrel_residue",position:e.create(6.43,7.48),scale:e.create(.8,.8),zIndex:k.Decals},{key:"armory_vault_door_residue",position:e.create(-8.37,-1.59),zIndex:k.Decals,rotation:2},...Array.from({length:4},(p,u)=>({key:"explosion_decal",position:e.create(10+4.75*u,-16-(u%2===0?-2:0))}))],ceilingImages:[{key:"armory_vault_ceiling",position:e.create(0,-2.5),scale:e.create(2,2)}],ceilingZIndex:k.BuildingsCeiling+1,floors:[{type:F.Wood,hitbox:a.fromRect(72,38,e.create(0,-2))}],subBuildings:[{idString:"armory_inner_vault",position:e.create(-25,-2.25)}],obstacles:[{idString:"gun_case",position:e.create(31.9,10),rotation:3},{idString:"ammo_crate",position:e.create(29.5,-.45),rotation:0},{idString:"tear_gas_crate",position:e.create(21.2,-.45),rotation:1},{idString:"window_damaged",position:e.create(18.1,16.5),rotation:1},{idString:"grenade_crate",position:e.create(-9.1,-15.9)},{idString:"briefcase",position:e.create(-28.93,-14.85),rotation:2},{idString:"barrel",position:e.create(-19.59,-9.22)},{idString:"barrel",position:e.create(-29.81,-6.01)},{idString:"box",position:e.create(-18.46,-16.58)},{idString:"regular_crate",position:e.create(-29.77,10.54)},{idString:"box",position:e.create(-21.29,12.33)},{idString:"box",position:e.create(-17.88,6.72)},{idString:"bombed_armory_vault_wall",position:e.create(-13.94,-2.1),rotation:1}],lootSpawners:[{position:e.create(12.85,-.45),table:"ammo_crate"},{position:e.create(-7.5,12.4),table:"gun_case"}]},{idString:"bombed_armory",name:"Bombed Armory",spawnHitbox:a.fromRect(160,176),spawnMode:ce.GrassAndSand,subBuildings:[{idString:"bombed_armory_barracks",position:e.create(-41.31,27.86)},{idString:"bombed_armory_center",position:e.create(55.4,15.07)},{idString:"bombed_armory_vault",position:e.create(-35.03,-58.37)},{idString:"outhouse",position:e.create(-60.9,-65.63),orientation:2}],groundGraphics:[{color:"#6664",hitbox:a.fromRect(153.09,1.87,e.create(0,-83.96))},{color:"#6664",hitbox:a.fromRect(153.09,1.87,e.create(0,83.96))},{color:"#6664",hitbox:a.fromRect(1.93,168,e.create(-75.57,0))},{color:"#6664",hitbox:a.fromRect(1.93,168,e.create(75.57,0))},{color:4210752,hitbox:new Ke([e.create(5.54,-80.63),e.create(62.37,-80.63),e.create(62.37,-24.57),e.create(48.11,-15.97),e.create(34.01,-15.97),e.create(34.01,84.86),e.create(-8.82,84.86),e.create(-8.82,-32.87),e.create(5.54,-41.2)])},...Array.from({length:4},(p,u)=>({color:5592405,hitbox:a.fromRect(13.15,24.16,e.create(-1.5,-3.4+25.2*u))})),...Array.from({length:6},(p,u)=>({color:5592405,hitbox:a.fromRect(13.15,24.16,e.create(12.7,-53.8+25.2*u))})),...Array.from({length:6},(p,u)=>({color:5592405,hitbox:a.fromRect(13.15,24.16,e.create(26.95,-53.8+25.2*u))})),...Array.from({length:2},(p,u)=>({color:5592405,hitbox:a.fromRect(13.15,24.16,e.create(41.1,-53.8+25.2*u))})),{color:5592405,hitbox:a.fromRect(13.15,24.16,e.create(55.3,-53.8))},{color:5592405,hitbox:a.fromRect(27.27,13.11,e.create(19.83,-73.38))},{color:5592405,hitbox:a.fromRect(27.27,13.11,e.create(48.2,-73.38))},{color:5592405,hitbox:new Ke([e.create(5.05,-40.17),e.create(5.05,-16.47),e.create(-8.06,-16.47),e.create(-8.06,-32.29)])},{color:5592405,hitbox:new Ke([e.create(61.82,-40.67),e.create(61.75,-24.97),e.create(48.71,-16.97),e.create(48.71,-40.73)])}],floors:[{type:F.Stone,hitbox:new Ke([e.create(5.54,-80.63),e.create(62.37,-80.63),e.create(62.37,-24.57),e.create(48.11,-15.97),e.create(34.01,-15.97),e.create(34.01,84.86),e.create(-8.82,84.86),e.create(-8.82,-32.87),e.create(5.54,-41.2)])}],floorImages:[{key:"barrel_residue",position:e.create(69.75,42.55),zIndex:k.Decals},{key:"barrel_residue",position:e.create(24.36,-46.95),zIndex:k.Decals},{key:"super_barrel_residue",position:e.create(34.44,-55.28),zIndex:k.Decals},{key:"flint_crate_residue",position:e.create(33.86,-46.16),zIndex:k.Decals},{key:"explosion_decal",position:e.create(13.58,-51.92),zIndex:k.Decals},{key:"explosion_decal",position:e.create(1.76,-22.42),zIndex:k.Decals},{key:"explosion_decal",position:e.create(20.06,-37.77),zIndex:k.Decals},{key:"explosion_decal",position:e.create(-4.11,-72.35),zIndex:k.Decals},{key:"explosion_decal",position:e.create(-39.57,-62.76),zIndex:k.Decals},{key:"explosion_decal",position:e.create(-3.07,18.8),zIndex:k.Decals},{key:"explosion_decal",position:e.create(-26.02,-48.71),zIndex:k.Decals},{key:"explosion_decal",position:e.create(23.68,-6.46),zIndex:k.Decals},{key:"explosion_decal",position:e.create(63.5,-78.8),zIndex:k.Decals},{key:"large_refinery_barrel_residue",position:e.create(66.42,-33.58),zIndex:k.Decals},{key:"gun_case_residue",position:e.create(63.16,-36.39),zIndex:k.Decals,rotation:1},{key:"grenade_crate_residue",position:e.create(69.81,-34.24),zIndex:k.Decals},{key:"large_refinery_barrel_residue",position:e.create(-60.35,-31.87),zIndex:k.Decals},{key:"outhouse_residue",position:e.create(-60.35,-31.87),zIndex:k.Decals},{key:"large_refinery_barrel_residue",position:e.create(40,50.33),zIndex:k.Decals},{key:"regular_crate_residue",position:e.create(7.06,30.07),zIndex:k.Decals},{key:"large_refinery_barrel_residue",position:e.create(-5.81,5.18),scale:e.create(.8,.8),zIndex:k.Decals}],obstacles:[{idString:"roadblock",position:e.create(-44.18,-59.93),rotation:0},{idString:"roadblock",position:e.create(-59.26,-19.45),rotation:1},{idString:"roadblock",position:e.create(-46.35,-30.64),rotation:0},{idString:"roadblock",position:e.create(-25.87,-72.26),rotation:0},{idString:"roadblock",position:e.create(-31.56,-39.5),rotation:1},{idString:"roadblock",position:e.create(38.9,2.88),rotation:0},{idString:"roadblock",position:e.create(32.42,50.74),rotation:0},{idString:"roadblock",position:e.create(47.87,51.55),rotation:0},{idString:"roadblock",position:e.create(39.78,43.6),rotation:1},{idString:"roadblock",position:e.create(40.44,57.3),rotation:1},{idString:"box",position:e.create(-3.68,-68.92)},{idString:"box",position:e.create(-10.09,-68.99)},{idString:"box",position:e.create(-3.38,-75.34)},{idString:"regular_crate",position:e.create(63.13,-15.17)},{idString:"ammo_crate",position:e.create(-7.99,2.28)},{idString:"regular_crate",position:e.create(18.06,27.86)},{idString:"regular_crate",position:e.create(-64.29,76.5)},{idString:"regular_crate",position:e.create(65.01,-56.73)},{idString:"regular_crate",position:e.create(8.45,-66.79)},{idString:"super_barrel",position:e.create(-10.72,-7.93)},{idString:"super_barrel",position:e.create(9.13,40.34)},{idString:"super_barrel",position:e.create(70.01,-72.17)},{idString:"super_barrel",position:e.create(44.51,78.15),rotation:0},{idString:"sandbags",position:e.create(15.15,17.92),rotation:0},{idString:"sandbags",position:e.create(-10,78.77),rotation:0},{idString:"ammo_crate",position:e.create(44.5,65),rotation:1},{idString:"sandbags",position:e.create(31.6,-36.18),rotation:0},{idString:"sandbags",position:e.create(30.66,-70.69),rotation:0},{idString:"sandbags",position:e.create(18.54,-67.73),rotation:1},{idString:"m1117",position:e.create(48.93,-53.75),rotation:0,variation:1},{idString:"gun_case",position:e.create(30.66,-28.84),rotation:0},{idString:"gun_case",position:e.create(19.48,36.69),rotation:0},{idString:"tear_gas_crate",position:e.create(16.55,9.68),rotation:0},{idString:"tear_gas_crate",position:e.create(33.06,-62.76),rotation:0},{idString:"grenade_crate",position:e.create(-55.29,78.02)},{idString:"ammo_crate",position:e.create(50.07,-20.07),rotation:0},{idString:"barrier",position:e.create(13.91,70.32),rotation:1},{idString:"fence",position:e.create(70.5,-83.93),rotation:0},{idString:"box",position:e.create(-21.45,-28.69)},{idString:"box",position:e.create(-16.41,-23.86)},...Array.from({length:10},(p,u)=>({idString:"fence",position:e.create(-72.1+8.45*u,-83.93),rotation:0})),...Array.from({length:3},(p,u)=>({idString:"fence",position:e.create(23+8.45*u,-83.93),rotation:0})),...Array.from({length:7},(p,u)=>({idString:"fence",position:e.create(75.55,-80.45+8.45*u),rotation:1})),...Array.from({length:10},(p,u)=>({idString:"fence",position:e.create(75.55,4.4+8.45*u),rotation:1})),...Array.from({length:4},(p,u)=>({idString:"fence",position:e.create(45.1+8.45*u,83.93),rotation:0})),...Array.from({length:6},(p,u)=>({idString:"fence",position:e.create(-58+8.45*u,83.93),rotation:0})),...Array.from({length:9},(p,u)=>({idString:"fence",position:e.create(-75.55,7+8.45*u),rotation:1})),...Array.from({length:9},(p,u)=>({idString:"fence",position:e.create(-75.55,-78.85+8.45*u),rotation:1}))],lootSpawners:[{table:"flint_crate",position:e.create(33.86,-46.16)},{table:"bombed_armory_skin",position:e.create(33.86,-45.6)},{table:"gun_case",position:e.create(63.16,-36.39)},{table:"grenade_crate",position:e.create(69.81,-34.24)},{table:"regular_crate",position:e.create(7.06,30.07)}]},{idString:"lodge",name:"Lodge",hitbox:new T(a.fromRect(10,10,e.create(235.14,40.53)),a.fromRect(2.96,2.98,e.create(20.05,57.73)),a.fromRect(2.96,2.98,e.create(-2.67,-4.07)),a.fromRect(2.96,2.98,e.create(-14.9,15.4)),a.fromRect(2.96,2.98,e.create(9.45,15.38)),a.fromRect(2.96,2.98,e.create(47,-59.24)),a.fromRect(2.96,2.98,e.create(-47.09,33.64)),a.fromRect(2.96,2.98,e.create(-47.09,57.73)),a.fromRect(2.96,2.98,e.create(-26.2,57.73)),a.fromRect(2.96,2.98,e.create(-3.08,57.73)),a.fromRect(45.05,1.55,e.create(-3.17,57.76)),a.fromRect(1.89,10.18,e.create(48.1,36.23)),a.fromRect(1.92,21.1,e.create(-26.44,-49.7)),a.fromRect(41.7,1.89,e.create(28.2,41.01)),a.fromRect(2.96,2.98,e.create(-8.41,-21.93)),a.fromRect(1.91,38.19,e.create(21.04,-25.91)),a.fromRect(8.53,1.89,e.create(17.73,-60.3)),a.fromRect(1.9,4.8,e.create(21.04,-57.5)),a.fromRect(1.91,26.33,e.create(-48.17,18.65)),a.fromRect(1.91,35.26,e.create(48.12,2.77)),a.fromRect(1.91,38.99,e.create(-48.18,-24.78)),a.fromRect(26.19,1.89,e.create(34.76,-35.84)),a.fromRect(35.43,1.89,e.create(-14.83,-60.26)),a.fromRect(1.9,6.28,e.create(-48.15,-58.09)),a.fromRect(1.91,33.42,e.create(21.04,23.84)),a.fromRect(5.25,1.89,e.create(-45.28,-60.29)),a.fromRect(1.9,11.11,e.create(48.1,-31.23)),a.fromRect(14.65,1.89,e.create(-20.12,41.02)),a.fromRect(1.92,33.2,e.create(-26.48,23.74)),a.fromRect(21.08,1.89,e.create(-37.59,30.88))),collideWithLayers:De.Adjacent,material:"stone",spawnHitbox:a.fromRect(110,140),ceilingHitbox:new T(a.fromRect(97.2,102,e.create(0,-9.5)),a.fromRect(70.5,18.5,e.create(-13.38,50))),floors:[{type:F.Carpet,hitbox:a.fromRect(16.55,30.95,e.create(-2.77,18.55))},{type:F.Wood,hitbox:new T(a.fromRect(11.7,11.48,e.create(29.52,-61.28)),a.fromRect(98.21,103.21,e.create(-.05,-9.65)),a.fromRect(71.22,18.04,e.create(-13.5,50.74)),a.fromRect(10.25,11.48,e.create(24.33,48.98)),a.fromRect(14.46,11.48,e.create(-36.61,61.35)))},{type:F.Stone,hitbox:a.fromRect(10.36,5.23,e.create(-37.56,-63.2))},{type:F.Wood,hitbox:a.fromRect(11.72,8.8,e.create(-33.26,24.86)),layer:1}],floorImages:[{key:"lodge_floor_top",position:e.create(0,-33.4)},{key:"lodge_floor_bottom",position:e.create(0,33.4)}],ceilingImages:[{key:"lodge_second_floor_top",position:e.create(0,-30.7)},{key:"lodge_second_floor_bottom",position:e.create(0,29.9)},{key:"lodge_ceiling_top",position:e.create(0,-35),scale:e.create(2,2)},{key:"lodge_ceiling_bottom",position:e.create(0,16.85),scale:e.create(2,2)}],subBuildings:[{idString:"lodge_second_floor",position:e.create(0,0),layer:2}],obstacles:[{idString:"window",position:e.create(-48.18,.04),rotation:0},{idString:"window",position:e.create(-48.2,-49.57),rotation:0},{idString:"window",position:e.create(8.08,-60.36),rotation:1},{idString:"window",position:e.create(48.2,-20.34),rotation:0},{idString:"window",position:e.create(48.19,25.82),rotation:0},{idString:"door",position:e.create(-37.14,-60.32),rotation:0},{idString:"door",position:e.create(21.05,-50.48),rotation:1},{idString:"door",position:e.create(1.86,41),rotation:2},{idString:"door",position:e.create(-7.3,41),rotation:0},{idString:"door",position:e.create(-26.44,2.61),rotation:3},{idString:"door",position:e.create(-32.98,-27.69),rotation:2},{idString:"door",position:e.create(-26.41,-33.66),rotation:3},{idString:"door",position:e.create(27.5,-7.78),rotation:0},{idString:"door",position:e.create(33.13,6.87),rotation:1},{idString:"door",position:e.create(27.5,13.49),rotation:0},{idString:"lodge_wall_1",position:e.create(15.5,15.4),rotation:0},{idString:"lodge_wall_1",position:e.create(-20.92,15.4),rotation:0},{idString:"lodge_wall_4",position:e.create(39.67,-7.79),rotation:0},{idString:"lodge_wall_4",position:e.create(39.67,13.39),rotation:0},{idString:"lodge_wall_1",position:e.create(33.11,-2.34),rotation:1},{idString:"lodge_wall_5",position:e.create(-37.33,-9.94),rotation:0},{idString:"lodge_wall_7",position:e.create(-26.45,-16),rotation:1},{idString:"lodge_wall_7",position:e.create(-26.45,-16),rotation:1},{idString:"lodge_wall_2",position:e.create(-42.47,-27.75),rotation:0},{idString:"lodge_wall_8",position:e.create(6.58,-21.93),rotation:0},{idString:"barrel",position:e.create(-32.09,36.35)},{idString:"trash_bag",position:e.create(-38.97,41.27),rotation:0},{idString:"box",position:e.create(-42.36,35.52)},{idString:"red_small_couch",position:e.create(-21.2,21.81),rotation:1},{idString:"red_small_couch",position:e.create(15.77,21.7),rotation:3},{idString:"large_drawer",position:e.create(-21.38,33.19),rotation:1},{idString:"bookshelf",position:e.create(17.37,33.09),rotation:1},{idString:"small_table",position:e.create(5.5,-5.08),rotation:1},{idString:"couch_end_left",position:e.create(-1.54,-16.37),rotation:3},{idString:"couch_part",position:e.create(5.4,-16.69),rotation:3},{idString:"couch_end_right",position:e.create(12.44,-16.36),rotation:0},{idString:"small_drawer",position:e.create(16.24,10.36),rotation:2},{idString:"potted_plant",position:e.create(-21.04,10.09)},{idString:"bookshelf",position:e.create(-22.83,-18.2),rotation:1},{idString:"bed",position:e.create(30.33,-28.95),rotation:1},{idString:"small_drawer",position:e.create(43.56,-30.85),rotation:0},{idString:"bookshelf",position:e.create(40.54,-11.34),rotation:0},{idString:"small_bed",position:e.create(30.64,35.92),rotation:1},{idString:"potted_plant",position:e.create(43.19,35.93)},{idString:"bookshelf",position:e.create(40.58,16.84),rotation:0},{idString:$t,position:e.create(40.76,-2.19),rotation:0},{idString:"bookshelf",position:e.create(-34.05,-6.26),rotation:0},{idString:"box",position:e.create(-30.42,16)},{idString:"lodge_railing",position:e.create(0,0),rotation:0},{idString:"lodge_stair",position:e.create(-33.26,24.86),rotation:0,layer:1},{idString:"trash_can",position:e.create(-44.02,-14.19),rotation:0},{idString:"washing_machine",position:e.create(-43.47,-21.73),rotation:1},{idString:"red_small_couch",position:e.create(-43.33,-33.69),rotation:1},{idString:"box",position:e.create(-44.24,-40.98)},{idString:"bookshelf",position:e.create(-29.82,-52.62),rotation:1},{idString:"kitchen_unit_1",position:e.create(-21.78,-49.79),rotation:1},{idString:"kitchen_unit_3",position:e.create(-14.56,-55.59),rotation:0},{idString:"kitchen_unit_2",position:e.create(-22.21,-56.1),rotation:0},{idString:"fridge",position:e.create(-5.09,-55.81),rotation:0},{idString:"small_stove",position:e.create(-21.74,-42.92),rotation:1},{idString:"large_table",position:e.create(6.81,-31.59),rotation:0},{idString:"chair",position:e.create(6.92,-40.01),rotation:2},{idString:"chair",position:e.create(13.81,-34.49),rotation:1},{idString:"chair",position:e.create(13.81,-27.38),rotation:1},{idString:"chair",position:e.create(.13,-34.49),rotation:3},{idString:"chair",position:e.create(.13,-27.38),rotation:3},{idString:"round_table",position:e.create(41.47,-47.84)},{idString:"chair",position:e.create(41.52,-41.77),rotation:0},{idString:"chair",position:e.create(41.52,-53.97),rotation:2},{idString:"potted_plant",position:e.create(26.66,-41.09),rotation:0}]},{idString:"lodge_second_floor",name:"Lodge Second Floor",material:"stone",particle:"lodge_particle",hitbox:new T(a.fromRect(11.73,1.28,e.create(-41.36,9.24)),a.fromRect(4,12.72,e.create(-37.5,15.09)),a.fromRect(13.47,1.53,e.create(-2.21,25.18)),a.fromRect(13.47,1.51,e.create(-2.57,11.38)),a.fromRect(1.54,12.05,e.create(-10.08,18.39)),a.fromRect(1.54,12.05,e.create(5.09,18.24)),a.fromRect(3.01,3,e.create(9.5,-3.79)),a.fromRect(3.01,3,e.create(-10.11,11.35)),a.fromRect(3.01,3,e.create(5.09,11.36)),a.fromRect(3.01,3,e.create(5.09,25.19)),a.fromRect(3.01,3,e.create(-10.11,25.2)),a.fromRect(3.01,3,e.create(-3.59,-3.8)),a.fromRect(1.91,57.24,e.create(-26.47,-32.12)),a.fromRect(1.91,46.22,e.create(21.09,19.38)),a.fromRect(1.91,36.84,e.create(-48.15,13.74)),a.fromRect(1.91,32.26,e.create(48.17,-18.91)),a.fromRect(1.91,25.25,e.create(21.09,-48.11)),a.fromRect(1.91,34.18,e.create(-26.47,24.4)),a.fromRect(21.82,1.91,e.create(-37.12,31.37)),a.fromRect(49.02,1.91,e.create(-2.91,41.53)),a.fromRect(27.79,1.91,e.create(34.02,-3.73)),a.fromRect(46.75,1.91,e.create(-2.85,-59.79)),a.fromRect(40.23,1.91,e.create(29,-35.34)),a.fromRect(19.89,1.91,e.create(-16.31,-35.34)),a.fromRect(23.11,1.91,e.create(-37.07,-3.73))).transform(e.create(0,-.4)),spawnHitbox:a.fromRect(105,130),ceilingHitbox:new T(a.fromRect(48.4,101.5,e.create(-2.61,-8.89)),a.fromRect(22.35,35.02,e.create(-37.24,13.81)),a.fromRect(29.6,32.08,e.create(33.77,-19.63))),floors:[{type:F.Carpet,hitbox:a.fromRect(17.67,11.63,e.create(.6,-18.99))},{type:F.Wood,hitbox:new T(a.fromRect(48.4,101.5,e.create(-2.61,-8.89)),a.fromRect(22.35,35.02,e.create(-37.24,13.81)),a.fromRect(29.6,32.08,e.create(33.77,-19.63)))}],floorImages:[{key:"lodge_second_floor_top",position:e.create(0,-30.7)},{key:"lodge_second_floor_bottom",position:e.create(0,29.8)}],subBuildings:[{idString:"lodge_secret_room",position:e.create(-2.7,-48)}],obstacles:[{idString:"small_drawer",position:e.create(-43.29,.37),rotation:1},{idString:"door",position:e.create(-26.44,2.24),rotation:3},{idString:"bookshelf",position:e.create(-18.85,37.54),rotation:0},{idString:"bookshelf",position:e.create(-6,37.54),rotation:0},{idString:"potted_plant",position:e.create(15.46,35.54),rotation:0},{idString:"red_small_couch",position:e.create(16.23,1.76),rotation:3},{idString:"lodge_wall_1",position:e.create(15.55,-4.28),rotation:0},{idString:"lodge_wall_6",position:e.create(-15.28,-4.28),rotation:0},{idString:"door",position:e.create(3.41,-4.15),rotation:0},{idString:"couch_end_right",position:e.create(-21.24,-16.68),rotation:1},{idString:"couch_part",position:e.create(-15.33,-9.51),rotation:1},{idString:"couch_corner",position:e.create(-21.68,-9.4),rotation:1},{idString:"couch_end_left",position:e.create(-8.23,-9.85),rotation:1},{idString:"fireplace",position:e.create(.84,-30.75),rotation:0},{idString:"grenade_box",position:e.create(16.62,-31.92),rotation:0},{idString:"potted_plant",position:e.create(15.6,-9.61),rotation:0},{idString:"large_drawer",position:e.create(-15.85,-31.06),rotation:0},{idString:"tv",position:e.create(-15.94,-34.02),rotation:1},{idString:"door",position:e.create(21.13,-20.44),rotation:1},{idString:"lodge_wall_3",position:e.create(21.15,-10.04),rotation:1},{idString:"lodge_wall_3",position:e.create(21.15,-29.96),rotation:1},{idString:"small_drawer",position:e.create(25.85,-30.78),rotation:0},{idString:"sink2",position:e.create(33.52,-30.95),rotation:0},{idString:{toilet:1,used_toilet:1},position:e.create(41.73,-30.27),rotation:0},{idString:"bathtub",position:e.create(38.2,-9.99),rotation:0},{idString:"trash_can",position:e.create(25.61,-8.19),rotation:0},{idString:"lodge_secret_room_wall",position:e.create(.67,-35.78),rotation:0},{idString:"regular_crate",position:e.create(-10.13,-53.51),rotation:0},{idString:"gun_locker",position:e.create(13.19,-56.51),rotation:0},{idString:"box",position:e.create(-21.82,-39.93),rotation:0},{idString:"box",position:e.create(-19.8,-45.18),rotation:0},{idString:"ammo_crate",position:e.create(-11.38,-42.41),rotation:0},{idString:"bookshelf",position:e.create(13.5,-39.3),rotation:0},{idString:"gun_mount_m590m",position:e.create(-20.59,-57.46),rotation:0,lootSpawnOffset:e.create(0,4)}]},{idString:"lodge_secret_room",name:"Lodge Secret Room",spawnHitbox:a.fromRect(47.5,24.5),ceilingHitbox:a.fromRect(47.5,24.5),ceilingImages:[{key:"lodge_secret_room_ceiling",position:e.create(0,0),scale:e.create(8,8)}],ceilingHiddenAlpha:.45},{idString:"plumpkin_bunker",name:"Plumpkin Bunker",material:"metal_heavy",reflectBullets:!0,collideWithLayers:De.Equal,hitbox:new T(a.fromRect(2.2,17.09,e.create(35.58,82.2)),a.fromRect(45.52,2.2,e.create(12.94,128.31)),a.fromRect(32.67,2.2,e.create(7.67,114.8)),a.fromRect(2.2,54.64,e.create(-8.72,100.99)),a.fromRect(14.19,2.2,e.create(-1.02,74.76)),a.fromRect(2.2,27.13,e.create(35.58,115.84)),a.fromRect(4.51,4.51,e.create(16.08,93.57)),a.fromRect(18.12,2.2,e.create(26.65,74.75)),a.fromRect(2.01,17.11,e.create(139.98,-33.33)),a.fromRect(15.15,2.02,e.create(146.54,-24.82)),a.fromRect(2.01,17.11,e.create(153.12,-33.33)),a.fromRect(17.11,2.01,e.create(-145.59,-46.28)),a.fromRect(2.02,15.15,e.create(-137.08,-52.84)),a.fromRect(17.11,2.01,e.create(-145.59,-59.42))),spawnHitbox:new T(a.fromRect(150,150,e.create(13.43,101.53)),a.fromRect(18,21,e.create(146.55,-32.85)),a.fromRect(21,18,e.create(-145.11,-52.85)),new f(5,e.create(34.56,45.47)),new f(5,e.create(-15.32,11.51)),new f(5,e.create(-37.9,70.13)),new f(5,e.create(85.4,92.41)),new f(5,e.create(53.68,124.53)),new f(5,e.create(52.75,177.7)),new f(5,e.create(-1.25,149.53)),new f(5,e.create(-30.64,120.28)),new f(5,e.create(-78.35,143.03)),new f(5,e.create(-124.64,77.28)),new f(5,e.create(-44.87,186.93)),new f(5,e.create(33.95,221.81)),new f(5,e.create(137.84,147.78)),new f(5,e.create(175.47,111.61)),new f(5,e.create(137.14,21.4)),new f(5,e.create(-94.06,8.14)),new f(5,e.create(75.8,-45.12)),new f(5,e.create(136.98,211.13)),new f(5,e.create(-40.07,-49.44)),new f(5,e.create(-170.08,137.13)),new f(5,e.create(-62.39,247.93)),new f(5,e.create(112.61,281.56))),ceilingHitbox:new T(a.fromRect(45,54,e.create(13.43,101.53)),a.fromRect(14,17,e.create(146.55,-32.85)),a.fromRect(17,14,e.create(-145.11,-52.85))),ceilingZIndex:k.ObstaclesLayer3,floors:[{type:F.Stone,hitbox:a.fromRect(46.52,55.74,e.create(13.43,101.53))}],floorImages:[{key:"plumpkin_bunker_main_entrance_floor_1",position:e.create(13.43,87.7)},{key:"plumpkin_bunker_main_entrance_floor_2",position:e.create(13.43,115.3)},{key:"plumpkin_bunker_entrance_floor",position:e.create(146.55,-32.85),rotation:Math.PI},{key:"plumpkin_bunker_entrance_floor",position:e.create(-145.11,-52.85),rotation:Math.PI/2}],floorZIndex:k.BuildingsFloor+.5,ceilingImages:[{key:"plumpkin_bunker_main_entrance_ceiling_1",position:e.create(13.43,87.7),scale:e.create(2,2)},{key:"plumpkin_bunker_main_entrance_ceiling_2",position:e.create(13.43,115.3),scale:e.create(2,2)},{key:"plumpkin_bunker_entrance_ceiling",position:e.create(146.55,-32.85),rotation:Math.PI},{key:"plumpkin_bunker_entrance_ceiling",position:e.create(-145.11,-52.85),rotation:Math.PI/2}],obstacles:[{idString:"plumpkin_bunker_stair",position:e.create(.39,121.67),rotation:0,layer:-1},{idString:"plumpkin_bunker_stair",position:e.create(146.52,-33.84),rotation:1,layer:-1},{idString:"plumpkin_bunker_stair",position:e.create(-146.1,-52.88),rotation:2,layer:-1},{idString:"dormant_oak_tree",position:e.create(-144.44,-62.77)},{idString:"dormant_oak_tree",position:e.create(-129.73,-51.34)},{idString:"dormant_oak_tree",position:e.create(-139.02,-43.52)},{idString:"dormant_oak_tree",position:e.create(-155.7,-43.14)},{idString:"dormant_oak_tree",position:e.create(-156.96,-60.07)},{idString:"dormant_oak_tree",position:e.create(-129.59,-61.37)},{idString:"box",position:e.create(6.76,109.03)},{idString:"regular_crate",position:e.create(-1.21,91.53)},{idString:"regular_crate",position:e.create(-2.14,81.36)},{idString:"ammo_crate",position:e.create(-1.44,107.44)},{idString:"grenade_crate",position:e.create(22.35,79.86)},{idString:"barrel",position:e.create(30.12,80.17)},{idString:"gun_case",position:e.create(14.92,110.4),rotation:2},{idString:"metal_auto_door",position:e.create(29.27,114.78),rotation:0},{idString:"large_pumpkin",position:e.create(34.56,45.47)},{idString:"large_pumpkin",position:e.create(-15.32,11.51)},{idString:"large_pumpkin",position:e.create(-37.9,70.13)},{idString:"large_pumpkin",position:e.create(85.4,92.41)},{idString:"large_pumpkin",position:e.create(53.68,124.53)},{idString:"large_pumpkin",position:e.create(52.75,177.7)},{idString:"large_pumpkin",position:e.create(-1.25,149.53)},{idString:"large_pumpkin",position:e.create(-30.64,120.28)},{idString:"large_pumpkin",position:e.create(-78.35,143.03)},{idString:"large_pumpkin",position:e.create(-124.64,77.28)},{idString:"large_pumpkin",position:e.create(-44.87,186.93)},{idString:"large_pumpkin",position:e.create(33.95,221.81)},{idString:"large_pumpkin",position:e.create(137.84,147.78)},{idString:"large_pumpkin",position:e.create(175.47,111.61)},{idString:"large_pumpkin",position:e.create(137.14,21.4)},{idString:"large_pumpkin",position:e.create(-94.06,8.14)},{idString:"large_pumpkin",position:e.create(75.8,-45.12)},{idString:"large_pumpkin",position:e.create(136.98,211.13)},{idString:"large_pumpkin",position:e.create(-40.07,-49.44)},{idString:"large_pumpkin",position:e.create(-170.08,137.13)},{idString:"large_pumpkin",position:e.create(-62.39,247.93)},{idString:"large_pumpkin",position:e.create(112.61,281.56)},{idString:"vibrant_bush",position:e.create(-19.11,42.93)},{idString:"vibrant_bush",position:e.create(-106.56,41.65)},{idString:"vibrant_bush",position:e.create(-104.52,119.49)},{idString:"vibrant_bush",position:e.create(-122.06,189.4)},{idString:"vibrant_bush",position:e.create(.57,229.84)},{idString:"vibrant_bush",position:e.create(92.86,213.36)},{idString:"vibrant_bush",position:e.create(187.25,173.39)},{idString:"vibrant_bush",position:e.create(88.89,135.27)},{idString:"vibrant_bush",position:e.create(156.44,65.25)},{idString:"vibrant_bush",position:e.create(95.86,-18.52)}],subBuildings:[{idString:"hay_shed_4",position:e.create(40.03,146.55),orientation:1},{idString:"plumpkin_bunker_main",position:e.create(0,0),layer:-2}]},{idString:"plumpkin_bunker_main",name:"Plumpkin Bunker Main",material:"metal_heavy",particle:"plumpkin_bunker_particle",reflectBullets:!0,collideWithLayers:De.Adjacent,spawnHitbox:a.fromRect(350,290),sounds:{normal:"plumpkin_bunker_ambience",position:e.create(119.27,-51.22),maxRange:350,falloff:1},floorImages:[{key:"plumpkin_bunker_floor",position:e.create(0,0),scale:e.create(1.506,1.506)}],hitbox:new T(a.fromRect(2.01,49.16,e.create(-89.3,1.6)),a.fromRect(26.92,2.01,e.create(-64.74,-21.75)),a.fromRect(1.99,70.06,e.create(139.89,-60.88)),a.fromRect(83.54,2,e.create(52.84,75.19)),a.fromRect(2,4.38,e.create(-104,-47.53)),a.fromRect(17.01,1.99,e.create(-144.6,-59.49)),a.fromRect(1.96,19.04,e.create(-38.12,-47.89)),a.fromRect(5.66,19.78,e.create(10.43,35.72)),a.fromRect(87.54,2,e.create(97.13,-96.08)),a.fromRect(24.64,2,e.create(.9,25.83)),a.fromRect(1.98,20.08,e.create(52.67,-66.98)),a.fromRect(40.59,2,e.create(46.12,-56.79)),a.fromRect(12.37,31.09,e.create(30.73,-42.26)),a.fromRect(12.92,2,e.create(133.48,-76.02)),a.fromRect(24.24,2,e.create(104.45,-76.02)),a.fromRect(1.98,37.97,e.create(153.18,-24.41)),a.fromRect(4.17,2,e.create(16.37,-104.9)),a.fromRect(20.42,2,e.create(89.38,-56.78)),a.fromRect(13.2,2,e.create(133.63,-26.83)),a.fromRect(15.5,24.12,e.create(-12.77,-115.96)),a.fromRect(14.49,2,e.create(-44.28,-26.84)),a.fromRect(2.01,23.51,e.create(-153.18,-70.24)),a.fromRect(27.86,2.15,e.create(-64.21,-56.71)),a.fromRect(18.56,1.98,e.create(-68.97,-104.89)),a.fromRect(1.96,48.84,e.create(99.33,-51.3)),a.fromRect(29.17,2,e.create(67.27,-76.02)),a.fromRect(96.85,2,e.create(-12.3,-128.27)),a.fromRect(1.99,17.42,e.create(52.67,-96.2)),a.fromRect(1.99,24.16,e.create(35.13,-116.35)),a.fromRect(22.36,2,e.create(42.49,-104.9)),a.fromRect(1.99,24.76,e.create(-60.68,-116.89)),a.fromRect(1.99,24.16,e.create(14.55,-115.97)),a.fromRect(1.99,24.16,e.create(-40.1,-115.99)),a.fromRect(75.09,2,e.create(-115.96,-80.99)),a.fromRect(1.91,7.89,e.create(-78.42,-53.84)),a.fromRect(1.99,37.13,e.create(-78.37,-86.84)),a.fromRect(9.06,1.99,e.create(-107.68,-46.33)),a.fromRect(30.46,1.99,e.create(-137.93,-46.32)),a.fromRect(2.01,23.05,e.create(-123.7,-58.09)),a.fromRect(13.42,82.9,e.create(-147.42,66.29)),a.fromRect(53.8,2,e.create(-78.11,-50.17)),a.fromRect(61.41,2,e.create(85.9,-26.84)),a.fromRect(2.01,73.45,e.create(-153.16,-10.59)),a.fromRect(84.24,2,e.create(-33.69,128.28)),a.fromRect(1.96,19.48,e.create(12.37,-48.03)),a.fromRect(69.78,24.38,e.create(-109.08,118.19)),a.fromRect(2.01,8.2,e.create(-129.22,79.35)),a.fromRect(41.85,2,e.create(-98.02,25.83)),a.fromRect(32.42,2,e.create(28.5,-26.84)),a.fromRect(4.51,4.51,e.create(-124.02,49.94)),a.fromRect(4.51,4.51,e.create(-10.78,44.56)),a.fromRect(4.51,4.51,e.create(-10.77,65.55)),a.fromRect(4.51,4.51,e.create(-31.87,65.48)),a.fromRect(4.51,4.51,e.create(-31.82,44.51)),a.fromRect(4.51,4.51,e.create(-73.25,49.94)),a.fromRect(2.01,55.95,e.create(12.29,.14)),a.fromRect(78.65,2,e.create(-90.89,75.19)),a.fromRect(2.01,102.12,e.create(-51.28,-5.46)),a.fromRect(34.66,2,e.create(-49.67,25.83)),a.fromRect(5.66,19.78,e.create(10.44,76.44)),a.fromRect(17.13,31.24,e.create(-.15,100.38)),a.fromRect(60.85,82.78,e.create(123.02,33.94)),a.fromRect(2.01,28.58,e.create(-51.29,80.83)),a.fromRect(8.96,2,e.create(-6.94,85.76)),a.fromRect(18.73,2,e.create(-41.7,85.75)),a.fromRect(19.92,2,e.create(-42.29,115.8)),a.fromRect(34.7,2,e.create(-67.64,94.86)),a.fromRect(2.01,30.75,e.create(-33.34,100.84)),a.fromRect(2.01,8.2,e.create(-83.99,79.32)),a.fromRect(3.03,3.03,e.create(-20.53,100.56)),a.fromRect(18.98,9.46,e.create(119.57,-41.97)),a.fromRect(18.98,9.46,e.create(119.57,-60.91)),a.fromRect(16.22,6.09,e.create(132.23,-92.07)),a.fromRect(13.99,25.08,e.create(90.87,-42.13)),new f(6.43,e.create(44.59,-64.9)),new f(10.32,e.create(-40.12,-82.14)),new f(10.32,e.create(14.73,-82.06))),ceilingHitbox:new T(a.fromRect(14.45,31.53,e.create(18.97,-42.02)),a.fromRect(26.15,30.85,e.create(-91.47,-65.47)),a.fromRect(14.45,31.53,e.create(-44.73,-41.96)),a.fromRect(41.44,50.28,e.create(119.66,-52.06)),a.fromRect(87.56,20.07,e.create(96.58,-86.2)),a.fromRect(32.65,20.07,e.create(-67.85,85.24)),a.fromRect(16.05,13.43,e.create(.39,121.47)),a.fromRect(48.96,34.73,e.create(-127.96,-63.52)),a.fromRect(14.45,31.53,e.create(18.97,-42.02)),a.fromRect(26.15,30.85,e.create(-91.47,-65.47)),a.fromRect(14.45,31.53,e.create(-44.73,-41.96)),a.fromRect(41.44,50.28,e.create(119.66,-52.06)),a.fromRect(87.56,20.07,e.create(96.58,-86.2)),a.fromRect(32.65,20.07,e.create(-67.85,85.24)),a.fromRect(16.05,13.43,e.create(.39,121.47)),a.fromRect(48.96,34.73,e.create(-127.96,-63.52)),a.fromRect(64.01,70.98,e.create(-121.09,-10.57)),a.fromRect(49.34,81.6,e.create(-12.84,-15.94)),a.fromRect(16.81,52.06,e.create(-42.96,-.67)),a.fromRect(51.85,27.66,e.create(-77.15,-35.9)),a.fromRect(296.09,235.94,e.create(5.94,-10.79)),a.fromRect(68.6,46.75,e.create(-41.95,104.97))),floors:[{type:F.Metal,hitbox:new T(a.fromRect(14.45,31.53,e.create(18.97,-42.02)),a.fromRect(26.15,30.85,e.create(-91.47,-65.47)),a.fromRect(14.45,31.53,e.create(-44.73,-41.96)),a.fromRect(41.44,50.28,e.create(119.66,-52.06)),a.fromRect(87.56,20.07,e.create(96.58,-86.2)),a.fromRect(32.65,20.07,e.create(-67.85,85.24)),a.fromRect(16.05,13.43,e.create(.39,121.47)),a.fromRect(48.96,34.73,e.create(-127.96,-63.52)))},{type:F.Metal,hitbox:new T(a.fromRect(16.07,11.3,e.create(.39,121.67)),a.fromRect(11.3,16.07,e.create(146.52,-33.84)),a.fromRect(16.07,11.3,e.create(-146.1,-52.88))),layer:-1},{type:F.Wood,hitbox:new T(a.fromRect(64.01,70.98,e.create(-121.09,-10.57)),a.fromRect(49.34,81.6,e.create(-12.84,-15.94)),a.fromRect(16.81,52.06,e.create(-42.96,-.67)),a.fromRect(51.85,27.66,e.create(-77.15,-35.9)))},{type:F.Stone,hitbox:new T(a.fromRect(296.09,235.94,e.create(5.94,-10.79)),a.fromRect(68.6,46.75,e.create(-41.95,104.97)))}],puzzle:{triggerOnSolve:"blue_metal_auto_door",solvedSound:!0,soundPosition:e.create(-95.68,46.52),setSolvedImmediately:!0,delay:1e3},lootSpawners:[{table:"plumpkin_bunker_skin",position:e.create(-49.23,-110.21)}],obstacles:[{idString:"blue_metal_auto_door",position:e.create(-33.27,122.05),rotation:3},{idString:"blue_metal_auto_door",position:e.create(-135.45,75.18),rotation:2},{idString:"cabinet",position:e.create(-92.46,78.93),rotation:0},{idString:"cabinet",position:e.create(-120.63,78.99),rotation:0},{idString:"gun_locker",position:e.create(-106.58,78.99),rotation:0},{idString:"ammo_crate",position:e.create(-107.64,100.57),rotation:0},{idString:"barrel",position:e.create(-116.75,101.47),rotation:0},{idString:"gun_case",position:e.create(-135.03,102.56),rotation:2},{idString:"door",position:e.create(-75.25,100.5),rotation:1},{idString:"grenade_crate",position:e.create(-70.23,113.01)},{idString:"flint_crate",position:e.create(-69.01,122.1)},{idString:"grey_office_chair",position:e.create(-46.79,104.25),rotation:1},{idString:"potted_plant",position:e.create(-38.35,90.99),rotation:0},{idString:"control_panel_small",position:e.create(-46.14,91.33),rotation:0},{idString:"hq_desk_right",position:e.create(-40.79,104.56),rotation:3},{idString:"pipe_4",position:e.create(-136.1,95.81),rotation:0},{idString:"metal_door",position:e.create(-84.12,88.37),rotation:1},{idString:{gun_mount_dual_rsh12:.1,gun_mount_mini14:1,gun_mount_m590m:.2},position:e.create(-54.09,84.63),rotation:3,lootSpawnOffset:e.create(-4,0)},{idString:"regular_crate",position:e.create(-62.71,81.57)},{idString:{box:1,grenade_box:1},position:e.create(-66.18,89.31)},{idString:{box:1,grenade_box:1},position:e.create(-60.05,90.57)},{idString:"trash_can",position:e.create(-79.69,79.48)},{idString:"metal_auto_door",position:e.create(8.67,61.27),rotation:1},{idString:"metal_auto_door",position:e.create(8.67,50.87),rotation:3},{idString:"metal_auto_door",position:e.create(-51.27,50.83),rotation:3},{idString:"metal_auto_door",position:e.create(-51.27,61.31),rotation:1},{idString:"metal_auto_door",position:e.create(-16.65,25.89),rotation:2},{idString:"metal_auto_door",position:e.create(-27.13,25.89),rotation:0},{idString:"metal_auto_door",position:e.create(-27.13,85.62),rotation:0},{idString:"metal_auto_door",position:e.create(-16.65,85.62),rotation:2},{idString:"couch",position:e.create(-31.89,54.94),rotation:0},{idString:"couch",position:e.create(-10.72,54.94),rotation:2},{idString:"potted_plant",position:e.create(-45.97,80.45)},{idString:"potted_plant",position:e.create(-45.46,31.26)},{idString:"potted_plant",position:e.create(3.11,31.37)},{idString:"water_cooler",position:e.create(3.65,81.22),rotation:2},{idString:"trash_can",position:e.create(-3.25,81.24)},{idString:"square_desk",position:e.create(-98.23,50.04),rotation:0},{idString:"button",position:e.create(-95.68,46.52),rotation:3,variation:1,puzzlePiece:!0},{idString:"bookshelf",position:e.create(-110.44,29.36),rotation:0},{idString:"bookshelf",position:e.create(-97.48,29.36),rotation:0},{idString:"bookshelf",position:e.create(-109.18,71.58),rotation:0},{idString:"white_small_couch",position:e.create(-57.77,70.03),rotation:2},{idString:"small_drawer",position:e.create(-66.36,70.25),rotation:2},{idString:"water_cooler",position:e.create(-119.28,70.58),rotation:2},{idString:"filing_cabinet",position:e.create(-126.68,70.11),rotation:2},{idString:"large_drawer",position:e.create(-59.14,30.99),rotation:0},{idString:"door",position:e.create(-71.61,25.97),rotation:0},{idString:"sink2",position:e.create(-56.09,20.93),rotation:3},{idString:"sink2",position:e.create(-56.09,13.38),rotation:3},{idString:"hq_toilet_paper_wall",position:e.create(-61.88,7.31),rotation:2},{idString:"hq_toilet_paper_wall",position:e.create(-61.88,-7.84),rotation:2},{idString:"porta_potty_door",position:e.create(-70.58,2.03),rotation:1},{idString:"porta_potty_door",position:e.create(-70.58,-13.06),rotation:1},{idString:$t,position:e.create(-57.06,.82),rotation:3},{idString:$t,position:e.create(-57.06,-14.38),rotation:3},{idString:"headquarters_wall_7",position:e.create(-70.63,-19.18),rotation:1},{idString:"headquarters_wall_7",position:e.create(-70.63,-4.19),rotation:1},{idString:"potted_plant",position:e.create(-83.85,20.77)},{idString:"door",position:e.create(-82.81,-21.71),rotation:0},{idString:"metal_door",position:e.create(-117.2,-46.26),rotation:0},{idString:"bookshelf",position:e.create(-96.31,-46.66),rotation:0},{idString:"potted_plant",position:e.create(-56.67,-27.04)},{idString:"bunk_bed",position:e.create(-57.95,-39.8),rotation:0},{idString:"bunk_bed",position:e.create(-80.86,-43.68),rotation:1},{idString:"bunk_bed",position:e.create(-99.45,-19.03),rotation:3},{idString:"bunk_bed",position:e.create(-99.45,.49),rotation:3},{idString:"bunk_bed",position:e.create(-99.45,19.14),rotation:3},{idString:"small_table",position:e.create(-135.52,-30.65),rotation:1},{idString:"large_drawer",position:e.create(-140.88,-17.35),rotation:2},{idString:"tv",position:e.create(-140.91,-14.46),rotation:3},{idString:"couch_end_left",position:e.create(-147.63,-34.07),rotation:0},{idString:"couch_corner",position:e.create(-148.05,-41.34),rotation:0},{idString:"couch_part",position:e.create(-141.7,-41.19),rotation:3},{idString:"couch_end_right",position:e.create(-134.71,-40.81),rotation:0},{idString:"house_column",position:e.create(-129.67,-12.68),rotation:0},{idString:"house_column",position:e.create(-129.67,9.58),rotation:0},{idString:"headquarters_wall_2",position:e.create(-141.6,-12.63),rotation:0},{idString:"headquarters_wall_2",position:e.create(-141.6,9.58),rotation:0},{idString:"cabinet",position:e.create(-144.6,-8.7),rotation:0},{idString:"cabinet",position:e.create(-144.6,5.74),rotation:2},{idString:"small_drawer",position:e.create(-148.13,14.18),rotation:1},{idString:"water_cooler",position:e.create(-148.65,20.95),rotation:1},{idString:"bigger_glass_door",position:e.create(-135.25,25.85),rotation:0},{idString:"bigger_glass_door",position:e.create(-124.42,25.85),rotation:2},{idString:"fire_hatchet_case",position:e.create(-119.35,-63.03),rotation:1},{idString:"ammo_crate",position:e.create(-99.92,-56.44),rotation:0},{idString:"ammo_crate",position:e.create(-99.92,-74.76),rotation:0},{idString:"cabinet",position:e.create(-87,-53.95),rotation:2},{idString:"barrel",position:e.create(-90.56,-75.38)},{idString:"metal_door",position:e.create(-123.69,-74.57),rotation:3},{idString:{box:1,grenade_box:1},position:e.create(-139.01,-73.68)},{idString:"regular_crate",position:e.create(-146.74,-75.09)},{idString:"bookshelf",position:e.create(-145.4,-62.95),rotation:0},{idString:"pipe_3",position:e.create(-145.31,-71.55),rotation:0},{idString:"pumpkin",position:e.create(-47.26,-117.89),rotation:0},{idString:"pumpkin",position:e.create(-53.98,-114.99),rotation:0},{idString:"baby_plumpkin",position:e.create(-34.18,-111.23),rotation:0},{idString:"baby_plumpkin",position:e.create(-26.74,-114.57),rotation:0},{idString:"baby_plumpkin",position:e.create(-31.39,-120.37),rotation:0},{idString:"plumpkin",position:e.create(3.67,-115.06),rotation:0},{idString:"diseased_plumpkin",position:e.create(24.92,-114.04),rotation:0},{idString:"bulletproof_window",position:e.create(-50.37,-104.85),rotation:0},{idString:"bulletproof_window",position:e.create(-29.8,-104.85),rotation:0},{idString:"bulletproof_window",position:e.create(4.32,-104.85),rotation:0},{idString:"windowed_vault_door",position:e.create(24.88,-104.54),rotation:2},{idString:"control_panel2",position:e.create(-12.74,-99.53),rotation:0},{idString:"control_panel_small",position:e.create(-.04,-81.91),rotation:3},{idString:"control_panel_small",position:e.create(-25.47,-81.91),rotation:1},{idString:"gun_case",position:e.create(48.34,-98.34),rotation:3},{idString:"regular_crate",position:e.create(-71.7,-97.79)},{idString:"barrel",position:e.create(-71.84,-88.09)},{idString:"window2",position:e.create(-32.06,-57.7),rotation:1},{idString:"window2",position:e.create(-22.38,-57.7),rotation:1},{idString:"window2",position:e.create(-12.81,-57.7),rotation:1},{idString:"window2",position:e.create(-3.19,-57.7),rotation:1},{idString:"window2",position:e.create(6.39,-57.7),rotation:1},{idString:"hq_desk_right",position:e.create(1.15,-49.64),rotation:0},{idString:"hq_desk_right",position:e.create(-43.83,-15.7),rotation:1},{idString:"hq_desk_left",position:e.create(-43.86,14.69),rotation:1},{idString:"hq_desk_left",position:e.create(4.98,-7.99),rotation:3},{idString:"potted_plant",position:e.create(7.24,-24.14)},{idString:"potted_plant",position:e.create(-46.06,.73)},{idString:"bookshelf",position:e.create(8.73,11.05),rotation:1},{idString:"water_cooler",position:e.create(7.71,20.97),rotation:3},{idString:"grey_office_chair",position:e.create(-28.19,-45.52),rotation:2},{idString:"grey_office_chair",position:e.create(-6.76,-40.38),rotation:2},{idString:"grey_office_chair",position:e.create(-38.13,-14.42),rotation:3},{idString:"grey_office_chair",position:e.create(-38.3,13.36),rotation:3},{idString:"grey_office_chair",position:e.create(-.35,-5.96),rotation:1},{idString:"file_cart",position:e.create(-21.24,-6.17),rotation:3},{idString:"headquarters_wall_4",position:e.create(3.21,-19.2),rotation:0},{idString:"headquarters_wall_4",position:e.create(3.21,3.27),rotation:0},{idString:"house_column",position:e.create(-6.3,-19.07),rotation:0},{idString:"house_column",position:e.create(-6.3,3.22),rotation:0},{idString:"house_wall_15",position:e.create(-44.24,-4.36),rotation:0},{idString:"gun_locker",position:e.create(60.72,-92.17),rotation:0},{idString:"ammo_crate",position:e.create(99.91,-82.15),rotation:0},{idString:"barrel",position:e.create(109.1,-81.6)},{idString:"regular_crate",position:e.create(133.93,-82.06)},{idString:"metal_door",position:e.create(87.38,-76.06),rotation:0},{idString:"cabinet",position:e.create(95.36,-66.43),rotation:3},{idString:{box:1,grenade_box:1},position:e.create(56.68,-71.05)},{idString:{box:1,grenade_box:1},position:e.create(62.1,-69.57)},{idString:"barrel",position:e.create(58.34,-62.63)},{idString:"grenade_crate",position:e.create(69.29,-32.1)},{idString:"flint_crate",position:e.create(42.41,-50.77)},{idString:"super_barrel",position:e.create(51.32,-51.37)},{idString:"metal_door",position:e.create(49.71,-26.82),rotation:2},{idString:"metal_auto_door",position:e.create(121.81,-26.84),rotation:2},{idString:"metal_auto_door",position:e.create(121.81,-76.09),rotation:2},{idString:"flint_crate",position:e.create(87.15,68.99)},{idString:"box",position:e.create(89.08,61.01)},{idString:"dumpster",position:e.create(36.91,69.82),rotation:1},{idString:"dumpster",position:e.create(21.47,69.82),rotation:1},{idString:"metal_column",position:e.create(60.08,61.85)},{idString:"fence",position:e.create(60.06,55.91),rotation:1},{idString:"fence",position:e.create(60.06,47.33),rotation:1},{idString:"metal_column",position:e.create(60.07,41.38)},{idString:"fence",position:e.create(66.12,41.4),rotation:0},{idString:"fence",position:e.create(74.84,41.4),rotation:0},{idString:"metal_column",position:e.create(80.84,41.38),rotation:0},{idString:"pallet",position:e.create(67.03,47.59),rotation:0},{idString:"regular_crate",position:e.create(67.03,47.59)},{idString:"ammo_crate",position:e.create(67.03,57.66)},{idString:"super_barrel",position:e.create(77.21,47.24)},{idString:"regular_crate",position:e.create(74.57,35.05)},{idString:"pallet",position:e.create(62.56,20.04),rotation:0},{idString:"barrel",position:e.create(62.56,20.04)},{idString:"forklift",position:e.create(62.8,8.65),rotation:0},{idString:"tear_gas_crate",position:e.create(89.08,-2.13),rotation:1},{idString:"ammo_crate",position:e.create(87.34,8.05)},{idString:"pallet",position:e.create(86.93,18.37),rotation:0},{idString:"box",position:e.create(89.48,15.5)},{idString:"grenade_box",position:e.create(89.48,20.5)},{idString:"box",position:e.create(84.67,17)},{idString:"pallet",position:e.create(18.72,33.04),rotation:0},{idString:"grenade_crate",position:e.create(18.72,33.04)},{idString:"tear_gas_crate",position:e.create(28.84,31.97),rotation:2},{idString:"fence",position:e.create(17.78,27.01),rotation:0},{idString:"fence",position:e.create(26.31,27.01),rotation:0},{idString:"fence",position:e.create(34.89,27.01),rotation:0},{idString:"metal_column",position:e.create(40.81,27.01)},{idString:"fence",position:e.create(40.81,21.09),rotation:1},{idString:"fence",position:e.create(40.81,12.54),rotation:1},{idString:"metal_column",position:e.create(40.81,6.7),rotation:0},{idString:"regular_crate",position:e.create(34.25,20.86)},{idString:"barrel",position:e.create(25.17,21.72)},{idString:"pallet",position:e.create(34.06,11.22),rotation:0},{idString:"box",position:e.create(31.62,12.37)},{idString:"box",position:e.create(36.45,10.32)},{idString:"fence",position:e.create(40.81,-21.44),rotation:1},{idString:"fence",position:e.create(40.81,-12.78),rotation:1},{idString:"metal_column",position:e.create(40.81,-6.88)},{idString:"box",position:e.create(34.57,-20.63)},{idString:"ammo_crate",position:e.create(26,-20.63)},{idString:"pallet",position:e.create(18.07,-4.83),rotation:1},{idString:"gun_case",position:e.create(18.07,-4.83),rotation:1},{idString:"ammo_crate",position:e.create(63.73,-20.65)},{idString:"barrel",position:e.create(73.17,-21.67)},{idString:"pipe_1",position:e.create(106.85,-16.65),rotation:0},{idString:"pipe_2",position:e.create(62.22,-86.03),rotation:0},{idString:"ammo_crate",position:e.create(107.16,-12.64)},{idString:"ammo_crate",position:e.create(134.15,-20.66)},{idString:"melee_crate",position:e.create(17.17,-21.35)}],subBuildings:[{idString:"detector",position:e.create(13.82,-100.67),orientation:2},{idString:"detector",position:e.create(27.24,-100.67),orientation:2},{idString:"plumpkin_bunker_second_puzzle",position:e.create(0,0)},{idString:"plumpkin_bunker_third_puzzle",position:e.create(0,0)},{idString:"plumpkin_bunker_vault",position:e.create(0,0)}]},{idString:"plumpkin_bunker_second_puzzle",name:"Plumpkin Bunker Second Puzzle",spawnHitbox:a.fromRect(104.67,37.14,e.create(0,-75.62)),sounds:{normal:"plumpkin_bunker_pump_ambience",solved:"plumpkin_bunker_pump_ambience",position:e.create(-13.28,-81.95),maxRange:250,falloff:.5},floorImages:[{key:"plumpkin_bunker_large_mixing_stick",position:e.create(14.75,-82.03),spinSpeed:-.002},{key:"plumpkin_bunker_large_mixing_stick",position:e.create(-40.11,-82.03),spinSpeed:-.002},{key:"plumpkin_bunker_small_mixing_stick",position:e.create(44.62,-64.92),spinSpeed:-.002},{key:"plumpkin_bunker_large_mixing_frame",position:e.create(14.75,-82.03)},{key:"plumpkin_bunker_large_mixing_frame",position:e.create(-40.11,-82.03)},{key:"plumpkin_bunker_small_mixing_frame",position:e.create(44.62,-64.92)}],puzzle:{triggerOnSolve:"red_metal_auto_door",delay:1e3},obstacles:[{idString:"red_metal_auto_door",position:e.create(-78.35,-63.04),rotation:3},{idString:"red_metal_auto_door",position:e.create(52.68,-82.25),rotation:3},{idString:"red_metal_auto_door",position:e.create(12.34,-33.03),rotation:3},{idString:"red_metal_auto_door",position:e.create(-38.1,-33.03),rotation:3},{idString:"headquarters_security_desk",position:e.create(-22.75,-52.96),rotation:2,puzzlePiece:!0}]},{idString:"plumpkin_bunker_third_puzzle",name:"Plumpkin Bunker Third Puzzle",spawnHitbox:a.fromRect(104.67,37.14,e.create(0,-75.62)),sounds:{solved:"recorder_buzz",position:e.create(40.55,-32.63),maxRange:200,falloff:2},puzzle:{triggerOnSolve:"recorder",delay:2e3},obstacles:[{idString:"generator",position:e.create(78.21,-32.55),rotation:0,puzzlePiece:!0},{idString:"recorder",position:e.create(40.55,-32.63),rotation:1}]},{idString:"plumpkin_bunker_vault",name:"Plumpkin Bunker Vault",spawnHitbox:a.fromRect(33.39,20.34,e.create(-67.67,85.03)),ceilingHitbox:a.fromRect(33.39,20.34,e.create(-67.67,85.03)),ceilingImages:[{key:"plumpkin_bunker_vault_ceiling",position:e.create(-67.67,85.03)}]}]}),To=Qe("MapPacket")({serialize(o,t){o.writeUint32(t.seed).writeUint16(t.width).writeUint16(t.height).writeUint16(t.oceanSize).writeUint16(t.beachSize).writeArray(t.rivers,i=>{o.writeUint8(i.width).writeArray(i.points,s=>{o.writePosition(s)},1).writeUint8(i.isTrail?-1:0)},1).writeArray(t.objects,i=>{switch(o.writeObjectType(i.type).writePosition(i.position),i.type){case Y.Obstacle:{Pt.writeToStream(o,i.definition);let s=0;switch(i.definition.variations!==void 0&&i.variation!==void 0&&(s=i.variation<<8-i.definition.variationBits),i.definition.rotationMode){case de.Full:{o.writeUint8(s),o.writeRotation(i.rotation);break}case de.Limited:case de.Binary:{o.writeUint8(s+i.rotation);break}case de.None:{o.writeUint8(s);break}}break}case Y.Building:Ai.writeToStream(o,i.definition),o.writeObstacleRotation(i.orientation,de.Limited).writeLayer(i.layer);break}},2).writeArray(t.places??[],i=>{o.writeString(24,i.name),o.writePosition(i.position)},1)},deserialize(o){return{seed:o.readUint32(),width:o.readUint16(),height:o.readUint16(),oceanSize:o.readUint16(),beachSize:o.readUint16(),rivers:o.readArray(()=>({width:o.readUint8(),points:o.readArray(()=>o.readPosition(),1),isTrail:o.readUint8()!==0}),1),objects:o.readArray(()=>{var s;const t=o.readObjectType(),i=o.readPosition();switch(t){case Y.Obstacle:{const n=Pt.readFromStream(o),r=((s=n.scale)==null?void 0:s.spawnMax)??1,l=o.readUint8();let d;if(n.variations!==void 0){const h=8-n.variationBits;d=(l&255-(2**h-1))>>h}let m=0;switch(n.rotationMode){case de.Full:{m=o.readRotation();break}case de.Limited:case de.Binary:{const h=l&3;m=n.rotationMode===de.Binary?h*Xt:-Je.normalize(h)*Xt;break}}return{position:i,type:t,dead:!1,definition:n,scale:r,rotation:m,variation:d,isObstacle:!0}}case Y.Building:{const n=Ai.readFromStream(o),{orientation:r}=o.readObstacleRotation(de.Limited),l=o.readLayer();return{position:i,type:t,dead:!1,definition:n,rotation:Je.orientationToRotation(r),orientation:r,scale:1,layer:l,isBuilding:!0}}}},2),places:o.readArray(()=>({name:o.readString(24),position:o.readPosition()}),1)}}}),pi=class pi{constructor(t,i,s){c(this,"_view");c(this,"_u8Array");c(this,"index",0);this._view=new DataView(t,i,s),this._u8Array=new Uint8Array(t,i,s)}get buffer(){return this._view.buffer}readUint8(){const t=this._view.getUint8(this.index);return this.index+=1,t}writeUint8(t){return this._view.setUint8(this.index,t),this.index+=1,this}readUint16(){const t=this._view.getUint16(this.index);return this.index+=2,t}writeUint16(t){return this._view.setUint16(this.index,t),this.index+=2,this}readUint24(){const t=(this._view.getUint16(this.index)<<8)+this._view.getUint8(this.index+2);return this.index+=3,t}writeUint24(t){return this._view.setUint16(this.index,t>>8),this.index+=2,this._view.setUint8(this.index++,t),this}readUint32(){const t=this._view.getUint32(this.index);return this.index+=4,t}writeUint32(t){return this._view.setUint32(this.index,t),this.index+=4,this}readUint64(){const t=this._view.getBigUint64(this.index);return this.index+=8,t}writeUint64(t){return this._view.setBigUint64(this.index,t),this.index+=8,this}readInt8(){const t=this._view.getInt8(this.index);return this.index+=1,t}writeInt8(t){return this._view.setInt8(this.index,t),this.index+=1,this}readInt16(){const t=this._view.getInt16(this.index);return this.index+=2,t}writeInt16(t){return this._view.setInt16(this.index,t),this.index+=2,this}readInt32(){const t=this._view.getInt32(this.index);return this.index+=4,t}writeInt32(t){return this._view.setInt32(this.index,t),this.index+=4,this}readInt64(){const t=this._view.getBigInt64(this.index);return this.index+=8,t}writeInt64(t){return this._view.setBigInt64(this.index,t),this.index+=8,this}readFloat32(){const t=this._view.getFloat32(this.index);return this.index+=4,t}writeFloat32(t){return this._view.setFloat32(this.index,t),this.index+=4,this}readFloat64(){const t=this._view.getFloat64(this.index);return this.index+=8,t}writeFloat64(t){return this._view.setFloat64(this.index,t),this.index+=8,this}readString(t){if(t===0)return"";const i=[];let s,n=0;do{if((s=this.readUint8())===0)break;i[n++]=s}while(n<t);return new TextDecoder().decode(new Uint8Array(i))}writeString(t,i){if(t===0)return this;const s=pi.encoder.encode(i);for(let n=0;n<t;n++){const r=s[n]??0;if(this.writeUint8(r),r===0)break}return this}writeFloat(t,i,s,n){const r=2**(8*n)-1,l=(t-i)/(s-i)*r+.5;switch(n){case 1:return this.writeUint8(l),this;case 2:return this.writeUint16(l),this;case 3:return this.writeUint24(l),this;case 4:return this.writeUint32(l),this}}readFloat(t,i,s){const n=2**(8*s)-1;let r;switch(s){case 1:{r=this.readUint8();break}case 2:{r=this.readUint16();break}case 3:{r=this.readUint24();break}case 4:{r=this.readUint32();break}}return t+(i-t)*r/n}writeRotation(t){return this.writeUint8((t/ki+.5)*255+.5)}readRotation(){return ki*(this.readUint8()/255-.5)}writeRotation2(t){return this.writeUint16((t/ki+.5)*65535+.5)}readRotation2(){return ki*(this.readUint16()/65535-.5)}writeBooleanGroup(t,i,s,n,r,l,d,m){return this.writeUint8((t?1:0)+(i?2:0)+(s?4:0)+(n?8:0)+(r?16:0)+(l?32:0)+(d?64:0)+(m?128:0))}readBooleanGroup(){const t=this.readUint8();return[(t&1)!==0,(t&2)!==0,(t&4)!==0,(t&8)!==0,(t&16)!==0,(t&32)!==0,(t&64)!==0,(t&128)!==0]}writeBooleanGroup2(t,i,s,n,r,l,d,m,h,p,u,y,I,R,x,S){return this.writeUint16((t?1:0)+(i?2:0)+(s?4:0)+(n?8:0)+(r?16:0)+(l?32:0)+(d?64:0)+(m?128:0)+(h?256:0)+(p?512:0)+(u?1024:0)+(y?2048:0)+(I?4096:0)+(R?8192:0)+(x?16384:0)+(S?32768:0))}readBooleanGroup2(){const t=this.readUint16();return[(t&1)!==0,(t&2)!==0,(t&4)!==0,(t&8)!==0,(t&16)!==0,(t&32)!==0,(t&64)!==0,(t&128)!==0,(t&256)!==0,(t&512)!==0,(t&1024)!==0,(t&2048)!==0,(t&4096)!==0,(t&8192)!==0,(t&16384)!==0,(t&32768)!==0]}writeArray(t,i,s=1){const n=U.min(t.length,2**(8*s)-1);switch(s){case 1:{this.writeUint8(n);break}case 2:{this.writeUint16(n);break}case 3:{this.writeUint24(n);break}case 4:{this.writeUint32(n);break}}for(let r=0;r<n;r++)i(t[r],this);return this}readArray(t,i){return Array.from({length:(()=>{switch(i){case 1:return this.readUint8();case 2:return this.readUint16();case 3:return this.readUint24();case 4:return this.readUint32()}})()},()=>t(this))}writeStream(t,i=0,s=t.index-i){return this._u8Array.set(t._u8Array.slice(i,i+s),this.index),this.index+=s,this}};c(pi,"decoder",new TextDecoder),c(pi,"encoder",new TextEncoder);let Ei=pi;const jr=o=>Math.ceil(Math.log2(Object.keys(o).length/2));if(jr(Y)>8)throw new RangeError("FATAL: ObjectCategory enum contains too many keys for a single byte. Please update code accordingly");if(Ne.PLAYER_NAME_MAX_LENGTH<=0)throw new RangeError("FATAL: Player name max. length must be greater than 0");class qr extends Ei{writeVector(t,i,s,n,r,l){return this.writeFloat(t.x,i,n,l),this.writeFloat(t.y,s,r,l),this}readVector(t,i,s,n,r){return{x:this.readFloat(t,s,r),y:this.readFloat(i,n,r)}}writeObjectType(t){return this.writeUint8(t)}readObjectType(){return this.readUint8()}writeObjectId(t){return this.writeUint16(t)}readObjectId(){return this.readUint16()}writePosition(t){return this.writeUint16(t.x/Ne.MAX_POSITION*65535+.5),this.writeUint16(t.y/Ne.MAX_POSITION*65535+.5),this}readPosition(){return{x:Ne.MAX_POSITION*this.readUint16()/65535,y:Ne.MAX_POSITION*this.readUint16()/65535}}writeObstacleRotation(t,i){switch(i){case de.Full:{this.writeRotation(t);break}case de.Limited:case de.Binary:{this.writeUint8(t);break}}return this}readObstacleRotation(t){let i=0,s=0;switch(t){case de.Full:{s=this.readRotation();break}case de.Limited:{i=this.readUint8(),s=-Je.normalize(i)*Xt;break}case de.Binary:{this.readUint8()!==0&&(s=Xt,i=1);break}}return{rotation:s,orientation:i}}writeScale(t){return this.writeUint8((t-Ne.MIN_OBJECT_SCALE)/Gt.OBJECT_SCALE_DIFF*255+.5),this}readScale(){return Ne.MIN_OBJECT_SCALE+Gt.OBJECT_SCALE_DIFF*this.readUint8()/255}writeLayer(t){return this.writeInt8(t)}readLayer(){return this.readInt8()}writePlayerName(t){const i=Ei.encoder.encode(t);for(let s=0;s<Ne.PLAYER_NAME_MAX_LENGTH;s++){const n=i[s]??0;if(this.writeUint8(n),n===0)break}return this}readPlayerName(){const t=[];let i,s=0;do{if((i=this.readUint8())===0)break;t[s++]=i}while(s<Ne.PLAYER_NAME_MAX_LENGTH);return new TextDecoder().decode(new Uint8Array(t))}}const Si=ze.withDefault()("MapPings",{ignoreExpiration:!1},([o])=>{const t=o((s,n)=>({idString:s,color:n,name:s,showInGame:!1,lifetime:20,isPlayerPing:!1,sound:s})),i=o(s=>({idString:s,name:s,showInGame:!0,lifetime:120,isPlayerPing:!0,color:16777215,sound:s}));return[t(["airdrop_ping",65535],{ignoreExpiration:!0}),i(["warning_ping"]),i(["arrow_ping"],{ignoreExpiration:!0}),i(["gift_ping"]),i(["heal_ping"])]}),Oi=Qe("PlayerInputPacket")({serialize(o,t){var r;const{movement:i,isMobile:s,turning:n}=t;o.writeBooleanGroup(i.up,i.down,i.left,i.right,s,(r=t.mobile)==null?void 0:r.moving,n,t.attacking),s&&o.writeRotation2(t.mobile.angle),n&&(o.writeRotation2(t.rotation),s||o.writeFloat(t.distanceToMouse,0,se.player.maxMouseDist,2)),o.writeArray(t.actions,l=>{switch("slot"in l?o.writeUint8(l.type+(l.slot<<6)):o.writeUint8(l.type),l.type){case $.EquipItem:case $.DropWeapon:case $.LockSlot:case $.UnlockSlot:case $.ToggleSlotLock:break;case $.DropItem:ge.writeToStream(o,l.item);break;case $.UseItem:ge.writeToStream(o,l.item);break;case $.Emote:Zt.writeToStream(o,l.emote);break;case $.MapPing:Si.writeToStream(o,l.ping),o.writePosition(l.position);break}},1)},deserialize(o){const[t,i,s,n,r,l,d,m]=o.readBooleanGroup(),h={movement:{up:t,down:i,left:s,right:n},isMobile:r,attacking:m,turning:d};return r&&(h.mobile={moving:l,angle:o.readRotation2()}),d&&(h.rotation=o.readRotation2(),r||(h.distanceToMouse=o.readFloat(0,se.player.maxMouseDist,2))),h.actions=o.readArray(()=>{const p=o.readUint8(),[u,y]=[p&192,p&15];let I,R,x,S,b;switch(y){case $.EquipItem:case $.DropWeapon:case $.LockSlot:case $.UnlockSlot:case $.ToggleSlotLock:I=u>>6;break;case $.DropItem:R=ge.readFromStream(o);break;case $.UseItem:R=ge.readFromStream(o);break;case $.Emote:x=Zt.readFromStream(o);break;case $.MapPing:b=Si.readFromStream(o),S=o.readPosition();break}return{type:y,item:R,slot:I,emote:x,ping:b,position:S}},1),h}});function Zr(o,t){const i=o instanceof Oi?o.input:o,s=t instanceof Oi?t.input:t;if(i.actions.length>0)return!0;for(const n in i.movement){const r=n;if(s.movement[r]!==i.movement[r])return!0}if(i.isMobile!==s.isMobile)return!0;if(i.isMobile)for(const n in i.mobile){const r=n;if(s.mobile[r]!==i.mobile[r])return!0}for(const n of["attacking","turning","rotation","distanceToMouse"])if(s[n]!==i[n])return!0;return!1}const Po=Qe("PickupPacket")({serialize(o,t){const{message:i,item:s}=t,n=s!==void 0,r=i!==void 0;let l=(n?128:0)+(r?64:0);!n&&r&&(l+=i),o.writeUint8(l),n&&ge.writeToStream(o,s)},deserialize(o){const t=o.readUint8(),i=(t&128)!==0,s=(t&64)!==0,n={};return i?n.item=ge.readFromStream(o):s&&(n.message=t&7),n}}),ci=Qe("PingPacket")({serialize(o){},deserialize(o){}}),Co=Qe("ReportPacket")({serialize(o,t){o.writePlayerName(t.playerName).writeString(8,t.reportID)},deserialize(o){return{playerName:o.readPlayerName(),reportID:o.readString(8)}}}),Gi=Qe("SpectatePacket")({serialize(o,t){o.writeUint8(t.spectateAction),t.spectateAction===st.SpectateSpecific&&o.writeObjectId(t.playerID)},deserialize(o){const t=o.readUint8();return{spectateAction:t,...t===st.SpectateSpecific?{playerID:o.readObjectId()}:{}}}}),Li=ze.withDefault()("Explosions",{ballistics:Ma},()=>[{name:"Barrel",damage:130,obstacleMultiplier:1,radius:{min:8,max:25},cameraShake:{duration:250,intensity:50},animation:{duration:1e3,tint:9507851,scale:1.5},shrapnelCount:10,ballistics:{damage:2,obstacleMultiplier:1,speed:.08,range:20,rangeVariance:1,shrapnel:!0}},{name:"Stove",damage:130,obstacleMultiplier:2,radius:{min:8,max:25},cameraShake:{duration:250,intensity:50},animation:{duration:1e3,tint:16733440,scale:1.5},shrapnelCount:10,ballistics:{damage:10,obstacleMultiplier:1,speed:.08,range:20,rangeVariance:1,shrapnel:!0}},{name:"Fireplace",damage:180,obstacleMultiplier:2,radius:{min:10,max:30},cameraShake:{duration:300,intensity:75},animation:{duration:1e3,tint:16733440,scale:2},shrapnelCount:20,ballistics:{damage:5,obstacleMultiplier:5,speed:.1,range:20,rangeVariance:1,shrapnel:!0}},{name:"Control Panel",damage:130,obstacleMultiplier:1.5,radius:{min:8,max:25},cameraShake:{duration:250,intensity:50},animation:{duration:1e3,tint:16733440,scale:1.5},shrapnelCount:10,ballistics:{damage:10,obstacleMultiplier:1,speed:.08,range:20,rangeVariance:1,shrapnel:!0}},{name:"Super Barrel",damage:160,obstacleMultiplier:1,radius:{min:8,max:25},cameraShake:{duration:500,intensity:100},animation:{duration:1500,tint:16711680,scale:2.5},shrapnelCount:20,ballistics:{damage:4,obstacleMultiplier:2,speed:.08,range:30,rangeVariance:1,shrapnel:!0}},{name:"Small Refinery Barrel",damage:200,obstacleMultiplier:2,radius:{min:16,max:40},cameraShake:{duration:750,intensity:100},animation:{duration:1500,tint:9507851,scale:2.5},shrapnelCount:25,ballistics:{damage:12,obstacleMultiplier:2,speed:.08,range:30,rangeVariance:1,shrapnel:!0}},{name:"Large Refinery Barrel",damage:1e4,obstacleMultiplier:3,radius:{min:48,max:58},cameraShake:{duration:2e3,intensity:100},animation:{duration:1500,tint:16711680,scale:5},shrapnelCount:50,ballistics:{damage:15,obstacleMultiplier:3,speed:.08,range:60,rangeVariance:1,shrapnel:!0}},{idString:"usas_explosion",name:"USAS-12",damage:40,obstacleMultiplier:1.5,radius:{min:6,max:16},cameraShake:{duration:100,intensity:10},animation:{duration:1500,tint:7082771,scale:.8},shrapnelCount:13,ballistics:{damage:2,obstacleMultiplier:1.5,speed:.06,range:10,rangeVariance:1,shrapnel:!0},sound:"12g_frag_explosion",decal:"explosion_decal"},{idString:"m590m_explosion",name:"M590M",damage:40,obstacleMultiplier:1.5,radius:{min:6,max:16},cameraShake:{duration:100,intensity:10},animation:{duration:1500,tint:7082771,scale:.8},shrapnelCount:13,ballistics:{damage:2,obstacleMultiplier:1.5,speed:.06,range:10,rangeVariance:1,shrapnel:!0},sound:"12g_frag_explosion",decal:"explosion_decal"},{name:"Firework Launcher",damage:97,obstacleMultiplier:1,radius:{min:9,max:19},cameraShake:{duration:160,intensity:10},animation:{duration:1500,tint:10503186,scale:.8},shrapnelCount:17,ballistics:{damage:3,obstacleMultiplier:1.5,speed:.06,range:10,rangeVariance:1,shrapnel:!0,tracer:{color:-1}},sound:"firework_rocket_explode",decal:"explosion_decal"},{name:"Confetti Grenade",damage:97,obstacleMultiplier:1,radius:{min:9,max:19},cameraShake:{duration:160,intensity:10},animation:{duration:1500,tint:10503186,scale:.8},shrapnelCount:40,ballistics:{damage:3,obstacleMultiplier:1,speed:.08,range:20,rangeVariance:1,shrapnel:!0,tracer:{color:-1}},sound:"firework_rocket_explode",decal:"explosion_decal"},{name:"Frag Grenade",damage:120,obstacleMultiplier:1.15,radius:{min:10,max:25},cameraShake:{duration:200,intensity:30},animation:{duration:1e3,tint:9507851,scale:1.5},shrapnelCount:10,ballistics:{damage:15,obstacleMultiplier:1,speed:.08,range:20,rangeVariance:1,shrapnel:!0},sound:"frag_grenade",decal:"frag_explosion_decal"},{name:"Smoke Grenade",damage:0,obstacleMultiplier:0,radius:{min:0,max:0},cameraShake:{duration:0,intensity:0},animation:{duration:500,tint:9075835,scale:.5},shrapnelCount:0,ballistics:{damage:0,obstacleMultiplier:0,speed:0,range:0,shrapnel:!1},sound:"smoke_grenade",decal:"smoke_explosion_decal"},{name:"C4",damage:150,obstacleMultiplier:1.15,radius:{min:10,max:25},cameraShake:{duration:200,intensity:30},animation:{duration:1e3,tint:9507851,scale:1.5},shrapnelCount:0,ballistics:{damage:15,obstacleMultiplier:1,speed:.08,range:20,rangeVariance:1,shrapnel:!0},sound:"frag_grenade",decal:"frag_explosion_decal"},{name:"Pumpkin",damage:100,obstacleMultiplier:1,radius:{min:8,max:25},cameraShake:{duration:250,intensity:50},animation:{duration:1e3,tint:9507851,scale:1.5},sound:"pumpkin_bomb",shrapnelCount:10,ballistics:{damage:2,obstacleMultiplier:1,speed:.08,range:20,rangeVariance:1,shrapnel:!0}}].map(o=>({idString:o.idString??`${o.name.toLowerCase().replace(/ /g,"_")}_explosion`,...o}))),ta={"9mm":16777088,"12g":16763080,"556mm":8454016,"762mm":8454143,"50cal":2105376,"338lap":4227072,bb:11184810,shrapnel:1907997},io={"9mm":16771584,"12g":16071997,"556mm":59136,"762mm":19967,"50cal":5526612,"338lap":9622033,bb:15658734,shrapnel:3552822},ia=ze.withDefault()("Bullets",Ma,()=>[...Di.definitions,...Li.definitions].filter(o=>!("isDual"in o)||!o.isDual).map(o=>{let t=o.ballistics.tracer.color,i=o.ballistics.tracer.saturatedColor;return t===void 0&&("ammoType"in o&&o.ammoType in ta?(t=ta[o.ammoType],i??(i=io[o.ammoType])):o.ballistics.shrapnel&&(t=ta.shrapnel,i=io.shrapnel)),{idString:`${o.idString}_bullet`,name:`${o.name} Bullet`,...o.ballistics,tracer:{color:t,saturatedColor:i,...o.ballistics.tracer}}}));function Kr(o){return o%2===0}function Xr(o,t){return o===t}function pt(o,t){return o-1===t||o+1===t||o===t}function Do(o,t){if(o.definition.isStair)return pt(o.layer,t.layer);switch(o.definition.collideWithLayers){case De.All:return!0;case De.Adjacent:return pt(o.layer,t.layer);case De.Equal:default:return Xr(o.layer,t.layer)}}function Yr(o,t,i,s){const n=t.layer,r=t.hitbox,l=d=>{switch(d.type){case ct.Group:for(const m of d.hitboxes)if(r!=null&&r.toRectangle().isFullyWithin(m))return!0;return!1;case ct.Rect:return!!(r!=null&&r.toRectangle().isFullyWithin(d));default:return!1}};return pt(o,n)||t.definition&&t.definition.visibleFromLayers===De.All||n<o&&(n>=be.Ground||o<be.Ground)||!t.isBuilding&&!!(i!=null&&i.some(d=>{var m;return d.isBuilding&&!d.dead&&((m=d.definition.visibilityOverrides)==null?void 0:m.some(h=>{var p;return(h.layer??0)+d.layer===n&&(s??(s=l))(h.collider.transform(d.position,1,d.orientation))&&((p=h.allow)==null?void 0:p.includes(o))}))}))}const Jr=Object.keys(k).length/2;function ve(o,t=be.Ground,i=be.Ground){return(t>be.Ground||i<be.Ground&&t<be.Ground)&&(t=be.Floor1),o+t*Jr}class Ao{constructor(t){c(this,"_oldPosition");c(this,"position");c(this,"initialPosition");c(this,"rotation");c(this,"layer");c(this,"initialLayer");c(this,"velocity");c(this,"direction");c(this,"maxDistance");c(this,"maxDistanceSquared");c(this,"reflectionCount");c(this,"sourceID");c(this,"damagedIDs",new Set);c(this,"rangeVariance");c(this,"dead",!1);c(this,"definition");c(this,"canHitShooter");c(this,"modifiers");c(this,"saturate");c(this,"thin");var s,n;this.initialPosition=e.clone(t.position),this._oldPosition=this.position=t.position,this.rotation=t.rotation,this.layer=this.initialLayer=t.layer,this.reflectionCount=t.reflectionCount??0,this.sourceID=t.sourceID,this.rangeVariance=t.variance??0,this.definition=ia.reify(t.source),this.modifiers=t.modifiers===void 0||Object.keys(t.modifiers).length===0?void 0:t.modifiers;let i=(((s=this.modifiers)==null?void 0:s.range)??1)*this.definition.range;this.definition.allowRangeOverride&&t.rangeOverride!==void 0&&(i=U.clamp(t.rangeOverride,0,i)),this.maxDistance=i*(this.rangeVariance+1)/(this.reflectionCount+1),this.maxDistanceSquared=this.maxDistance**2,this.direction=e.create(Math.sin(this.rotation),-Math.cos(this.rotation)),this.velocity=e.scale(this.direction,(((n=this.modifiers)==null?void 0:n.speed)??1)*this.definition.speed*(this.rangeVariance+1)),this.canHitShooter=this.definition.shrapnel||this.reflectionCount>0,this.saturate=t.saturate??!1,this.thin=t.thin??!1}updateAndGetCollisions(t,i){var r;const s=this._oldPosition=e.clone(this.position);if(this.position=e.add(this.position,e.scale(this.velocity,t)),dt.distanceSquared(this.initialPosition,this.position)>this.maxDistanceSquared&&(this.dead=!0,this.position=e.add(this.initialPosition,e.scale(this.direction,this.maxDistance))),this.definition.noCollision)return[];const n=[];for(const l of i){const{isPlayer:d,isObstacle:m,isBuilding:h}=l;if((m||h)&&(l.definition.noBulletCollision||!Do(l,this))||d&&!pt(this.layer,l.layer)||!l.damageable||l.dead||this.damagedIDs.has(l.id)||l.id===this.sourceID&&!this.canHitShooter)continue;const p=(r=l.hitbox)==null?void 0:r.intersectsLine(s,this.position);p&&n.push({intersection:p,object:l})}return n.sort((l,d)=>dt.distanceSquared(l.intersection.point,this.initialPosition)-dt.distanceSquared(d.intersection.point,this.initialPosition)),n}serialize(t){var I;ia.writeToStream(t,this.definition),t.writePosition(this.initialPosition),t.writeRotation2(this.rotation),t.writeLayer(this.layer),t.writeFloat(this.rangeVariance,0,1,4),t.writeUint8(this.reflectionCount),t.writeObjectId(this.sourceID);const{speed:i,range:s,tracer:{opacity:n,width:r,length:l}={}}=this.modifiers??{},d=this.modifiers!==void 0,m=i!==void 0,h=s!==void 0,p=n!==void 0,u=r!==void 0,y=l!==void 0;t.writeBooleanGroup(d,m,h,p,u,y,this.saturate,this.thin),d&&(m&&t.writeFloat(i,0,4,1),h&&t.writeFloat(s,0,4,1),p&&t.writeFloat(n,0,4,1),u&&t.writeFloat(r,0,4,1),y&&t.writeFloat(l,0,4,1)),this.definition.allowRangeOverride&&t.writeFloat(this.maxDistance,0,this.definition.range*(((I=this.modifiers)==null?void 0:I.range)??1),2)}static deserialize(t){const i=ia.readFromStream(t),s=t.readPosition(),n=t.readRotation2(),r=t.readLayer(),l=t.readFloat(0,1,4),d=t.readUint8(),m=t.readObjectId(),[h,p,u,y,I,R,x,S]=t.readBooleanGroup(),b=h?{get damage(){return console.warn("damage modifier is not sent to the client; accessing it is a mistake"),1},get dtc(){return console.warn("dtc modifier is not sent to the client; accessing it is a mistake"),1},speed:p?t.readFloat(0,4,1):void 0,range:u?t.readFloat(0,4,1):void 0,tracer:{opacity:y?t.readFloat(0,4,1):void 0,width:I?t.readFloat(0,4,1):void 0,length:R?t.readFloat(0,4,1):void 0}}:void 0,v=i.allowRangeOverride?t.readFloat(0,i.range*((b==null?void 0:b.range)??1),2):void 0;return{source:i,position:s,rotation:n,layer:r,variance:l,reflectionCount:d,sourceID:m,rangeOverride:v,modifiers:b,saturate:x,thin:S}}}const ao=ze.withDefault()("Decals",{scale:1,rotationMode:de.Limited},()=>[{name:"Explosion Decal",rotationMode:de.Full},{name:"Frag Explosion Decal",rotationMode:de.Full},{name:"Smoke Explosion Decal",rotationMode:de.Full}].map(o=>{const t=o.name.toLowerCase().replace(/ /g,"_");return{idString:t,image:t,...o}})),oo=ze.withDefault()("SyncedParticles",{scale:1,alpha:1,lifetime:1/0,angularVelocity:0,velocity:e.create(0,0),zIndex:k.ObstaclesLayer1,depletePerMs:{health:0,adrenaline:0}},([o,,t])=>{const i=o((n,r)=>({idString:n,name:r??n.replace(/_/g," ").split(" ").map(l=>l&&`${l[0].toUpperCase()}${l.slice(1)}`).join(" "),frame:n})),s=t(i,{scale:{start:{min:1.5,max:2},end:{min:1.75,max:2.25}},alpha:{start:1,end:0,easing:"expoIn"},angularVelocity:{min:-5e-4,max:5e-4},velocity:{min:{x:-2e-4,y:-2e-4},max:{x:2e-4,y:2e-4}},lifetime:{mean:2e4,deviation:1e3},frame:"smoke_grenade_particle",zIndex:k.BuildingsCeiling-1,scopeOutPreMs:3200});return[s(["smoke_grenade_particle"],{hitbox:new f(5),snapScopeTo:"1x_scope"}),s(["plumpkin_smoke_grenade_particle"],{tint:8734576,hitbox:new f(5),snapScopeTo:"1x_scope"}),s(["shrouded_particle"],{tint:11184810,hitbox:new f(5),snapScopeTo:"1x_scope",alpha:{start:.5,end:0,creatorMult:.15},lifetime:{mean:2e3,deviation:200}}),s(["tear_gas_particle"],{tint:10544895,hitbox:new f(5),snapScopeTo:"1x_scope",depletePerMs:{adrenaline:.0055}}),s(["airdrop_smoke_particle"],{velocity:{min:{x:-.002,y:-.002},max:{x:.002,y:.002}},lifetime:{mean:2e3,deviation:500},hitbox:new f(5)})]}),ro={[Y.Player]:{serializePartial(o,{position:t,rotation:i,animation:s,action:n}){o.writePosition(t),o.writeRotation2(i);const r=s!==void 0,l=n!==void 0;let d=(r?128:0)+(l?1:0);r&&(d+=s<<3),l&&(d+=n.type<<1),o.writeUint8(d),l&&n.item!==void 0&&ge.writeToStream(o,n.item)},serializeFull(o,{full:{layer:t,dead:i,downed:s,beingRevived:n,teamID:r,invulnerable:l,activeItem:d,sizeMod:m,skin:h,helmet:p,vest:u,backpack:y,halloweenThrowableSkin:I,activeDisguise:R}}){o.writeLayer(t);const x=m!==void 0,S=p!==void 0,b=u!==void 0,v=R!==void 0;o.writeBooleanGroup2(i,s,n,l,x,I,S,b,v),o.writeUint8(r),ge.writeToStream(o,d),x&&o.writeFloat(m,0,4,1),Ot.writeToStream(o,h),S&&si.writeToStream(o,p),b&&si.writeToStream(o,u),pa.writeToStream(o,y),v&&Pt.writeToStream(o,R)},deserializePartial(o){const t={position:o.readPosition(),rotation:o.readRotation2()},i=o.readUint8(),s=(i&128)!==0,n=(i&1)!==0;t.animation=s?i>>3&15:void 0;const r=n?i>>1&3:void 0;if(r!==void 0){const l={type:r};r===Mt.UseItem&&(l.item=ge.readFromStream(o)),t.action=l}return t},deserializeFull(o){const t=o.readLayer(),[i,s,n,r,l,d,m,h,p]=o.readBooleanGroup2();return{layer:t,dead:i,downed:s,beingRevived:n,invulnerable:r,halloweenThrowableSkin:d,teamID:o.readUint8(),activeItem:ge.readFromStream(o),sizeMod:l?o.readFloat(0,4,1):void 0,skin:Ot.readFromStream(o),helmet:m?si.readFromStream(o):void 0,vest:h?si.readFromStream(o):void 0,backpack:pa.readFromStream(o),activeDisguise:p?Pt.readFromStream(o):void 0}}},[Y.Obstacle]:{serializePartial(o,t){o.writeBooleanGroup(t.dead,t.playMaterialDestroyedSound),o.writeScale(t.scale)},serializeFull(o,{full:{position:t,definition:i,rotation:s,door:n,activated:r,detectedMetal:l,variation:d,layer:m}}){Pt.writeToStream(o,i),o.writePosition(t),o.writeLayer(m);let h=0;switch(i.variations!==void 0&&d!==void 0&&(h+=d<<8-i.variationBits),i.isDoor&&n?h+=n.offset*2+(n.locked?1:0):i.isActivatable?h+=r?1:0:i.detector&&(h+=l?1:0),i.rotationMode){case de.Full:{o.writeUint8(h),o.writeRotation(s.rotation);break}case de.Limited:case de.Binary:{o.writeUint8(h+(s.rotation<<3));break}case de.None:{o.writeUint8(h);break}}},deserializePartial(o){const[t,i]=o.readBooleanGroup();return{scale:o.readScale(),dead:t,playMaterialDestroyedSound:i}},deserializeFull(o){const t=Pt.readFromStream(o),i={definition:t,position:o.readPosition(),layer:o.readLayer(),rotation:{orientation:0,rotation:0}},s=o.readUint8();if(t.variations!==void 0){const n=8-t.variationBits;i.variation=(s&255-(2**n-1))>>n}switch(t.isDoor?i.door={offset:s>>1&3,locked:(s&1)===1}:t.isActivatable?i.activated=(s&1)===1:t.detector&&(i.detectedMetal=(s&1)===1),t.rotationMode){case de.Full:{i.rotation.rotation=o.readRotation();break}case de.Limited:case de.Binary:{const n=(s&24)/8;i.rotation.orientation=n,i.rotation.rotation=t.rotationMode===de.Binary?n*Xt:-Je.normalize(n)*Xt;break}}return i}},[Y.Loot]:{serializePartial(o,t){o.writePosition(t.position),o.writeLayer(t.layer)},serializeFull(o,{full:t}){ge.writeToStream(o,t.definition),o.writeUint16((t.isNew?32768:0)+t.count)},deserializePartial(o){return{position:o.readPosition(),layer:o.readLayer()}},deserializeFull(o){const t=ge.readFromStream(o),i=o.readUint16();return{definition:t,count:i&32767,isNew:(i&32768)!==0}}},[Y.DeathMarker]:{serializePartial(o,t){o.writePosition(t.position),o.writeLayer(t.layer),o.writeUint8(t.isNew?-1:0),o.writeObjectId(t.playerID)},serializeFull(){},deserializePartial(o){return{position:o.readPosition(),layer:o.readLayer(),isNew:o.readUint8()!==0,playerID:o.readObjectId()}},deserializeFull(){}},[Y.Building]:{serializePartial(o,t){var i,s;o.writeBooleanGroup(t.dead,t.puzzle!==void 0,(i=t.puzzle)==null?void 0:i.solved,(s=t.puzzle)==null?void 0:s.errorSeq),o.writeLayer(t.layer)},serializeFull(o,{full:t}){Ai.writeToStream(o,t.definition),o.writePosition(t.position),o.writeUint8(t.orientation)},deserializePartial(o){const[t,i,s,n]=o.readBooleanGroup();return{dead:t,puzzle:i?{solved:s,errorSeq:n}:void 0,layer:o.readLayer()}},deserializeFull(o){return{definition:Ai.readFromStream(o),position:o.readPosition(),orientation:o.readUint8()}}},[Y.Decal]:{serializePartial(o,t){ao.writeToStream(o,t.definition),o.writePosition(t.position),o.writeObstacleRotation(t.rotation,t.definition.rotationMode),o.writeLayer(t.layer)},serializeFull(){},deserializePartial(o){const t=ao.readFromStream(o);return{definition:t,position:o.readPosition(),rotation:o.readObstacleRotation(t.rotationMode).rotation,layer:o.readLayer()}},deserializeFull(){}},[Y.Parachute]:{serializePartial(o,t){o.writeFloat(t.height,0,1,1)},serializeFull(o,{full:t}){o.writePosition(t.position)},deserializePartial(o){return{height:o.readFloat(0,1,1)}},deserializeFull(o){return{position:o.readPosition()}}},[Y.SyncedParticle]:{serializePartial(o,t){const{position:i,rotation:s,layer:n,scale:r,alpha:l}=t;o.writePosition(i),o.writeRotation2(s),o.writeLayer(n);const d=r!==void 0,m=l!==void 0;o.writeBooleanGroup(d,m),d&&o.writeScale(r),m&&o.writeFloat(l,0,1,1)},serializeFull(o,{full:t}){oo.writeToStream(o,t.definition);const{variant:i,creatorID:s}=t,n=s!==void 0;let r=n?1:0;t.definition.variations!==void 0&&i!==void 0&&(r+=i*2),o.writeUint8(r),n&&o.writeObjectId(s)},deserializePartial(o){const t={position:o.readPosition(),rotation:o.readRotation2(),layer:o.readLayer()},[i,s]=o.readBooleanGroup();return i&&(t.scale=o.readScale()),s&&(t.alpha=o.readFloat(0,1,1)),t},deserializeFull(o){const t=oo.readFromStream(o),i=o.readUint8();return{definition:t,variant:t.variations!==void 0?i>>1:void 0,creatorID:i%1!==0?o.readObjectId():void 0}}},[Y.ThrowableProjectile]:{serializePartial(o,t){o.writeBooleanGroup(t.airborne,t.activated).writePosition(t.position).writeRotation2(t.rotation).writeLayer(t.layer).writeUint8(t.throwerTeamID)},serializeFull(o,{full:t}){ge.writeToStream(o,t.definition),o.writeUint8(t.halloweenSkin?-1:0),o.writeUint8(t.tintIndex)},deserializePartial(o){const[t,i]=o.readBooleanGroup();return{position:o.readPosition(),rotation:o.readRotation2(),layer:o.readLayer(),airborne:t,activated:i,throwerTeamID:o.readUint8()}},deserializeFull(o){return{definition:ge.readFromStream(o),halloweenSkin:o.readUint8()!==0,tintIndex:o.readUint8()}}}};function Qr(o,{minMax:t,health:i,adrenaline:s,zoom:n,layer:r,id:l,teammates:d,inventory:m,lockedSlots:h,items:p,activeC4s:u,perks:y}){var te,N,ie,q;const I=t!==void 0,R=i!==void 0,x=s!==void 0,S=n!==void 0,b=r!==void 0,v=l!==void 0,P=d!==void 0,D=m!==void 0,O=h!==void 0,A=p!==void 0,L=u!==void 0,H=y!==void 0;if(o.writeBooleanGroup2(I,R,x,S,b,v,P,D,O,A,L,H),I){const{maxHealth:re,minAdrenaline:ee,maxAdrenaline:le}=t;o.writeFloat32(re).writeFloat32(ee).writeFloat32(le)}if(R&&o.writeFloat(i,0,1,2),x&&o.writeFloat(s,0,1,2),S&&o.writeUint8(n),b&&o.writeLayer(r),v){const{id:re,spectating:ee}=l;o.writeUint8(ee?-1:0).writeObjectId(re)}if(P&&o.writeArray(d,({id:re,position:ee,normalizedHealth:le,downed:fe,disconnected:xe,colorIndex:Ve})=>{o.writeUint8((fe?2:0)+(xe?1:0)).writeObjectId(re).writePosition(ee??e.create(0,0)).writeFloat(le,0,1,1).writeUint8(Ve)},1),D){const{activeWeaponIndex:re,weapons:ee=[]}=m;o.writeUint8(re).writeBooleanGroup(ee[0]!==void 0,ee[1]!==void 0,ee[2]!==void 0,ee[3]!==void 0,((te=ee[0])==null?void 0:te.count)!==void 0,((N=ee[1])==null?void 0:N.count)!==void 0,((ie=ee[2])==null?void 0:ie.count)!==void 0,((q=ee[3])==null?void 0:q.count)!==void 0);for(let le=0;le<4;le++){const fe=ee[le];if(fe===void 0)continue;const{definition:xe,count:Ve,stats:He}=fe;ge.writeToStream(o,xe),Ve!==void 0&&o.writeUint8(Ve),xe.killstreak&&o.writeUint8((He==null?void 0:He.kills)??0)}}if(O&&o.writeUint8(h),A){const{items:re,scope:ee}=p,le=[];let fe=0,xe=0;for(;xe<li;){for(let Ve=0;Ve<8&&xe<li;Ve++,xe++){const He=re[go[xe]];He<=0||(fe+=2**Ve,le.push(He))}o.writeUint8(fe),fe=0}for(const Ve of le)o.writeUint16(Ve);lt.writeToStream(o,ee)}if(L&&o.writeUint8(u?-1:0),H){let re=y.asBitfield();const ee=Math.ceil(je.definitions.length/8);for(let le=0;le<ee;le++)o.writeUint8(re),re>>=8}}function en(o){const[t,i,s,n,r,l,d,m,h,p,u,y]=o.readBooleanGroup2(),I={};if(t&&(I.minMax={maxHealth:o.readFloat32(),minAdrenaline:o.readFloat32(),maxAdrenaline:o.readFloat32()}),i&&(I.health=o.readFloat(0,1,2)),s&&(I.adrenaline=o.readFloat(0,1,2)),n&&(I.zoom=o.readUint8()),r&&(I.layer=o.readLayer()),l&&(I.id={spectating:o.readUint8()!==0,id:o.readObjectId()}),d&&(I.teammates=o.readArray(()=>{const R=o.readUint8();return{id:o.readObjectId(),position:o.readPosition(),normalizedHealth:o.readFloat(0,1,1),downed:(R&2)!==0,disconnected:(R&1)!==0,colorIndex:o.readUint8()}},1)),m){const R=o.readUint8(),x=o.readBooleanGroup();I.inventory={activeWeaponIndex:R,weapons:Array.from({length:4},(S,b)=>{if(!x[b])return;const v=ge.readFromStream(o);return{definition:v,count:x[b+4]?o.readUint8():void 0,stats:{kills:v.killstreak?o.readUint8():void 0}}})}}if(h&&(I.lockedSlots=o.readUint8()),p){const R=new Set;let x=0;for(;x<li;){const b=o.readBooleanGroup();for(let v=0;v<8&&x<li;v++,x++)b[v]&&R.add(x)}const S={};for(let b=0;b<li;b++)S[go[b]]=R.has(b)?o.readUint16():0;I.items={items:S,scope:lt.readFromStream(o)}}if(u&&(I.activeC4s=o.readUint8()!==0),y){const R=Math.ceil(je.definitions.length/8);let x=0;for(let b=0;b<R;b++)x+=o.readUint8()<<8*b;let S;I.perks={asBitfield:()=>x,asList:()=>[...S??(S=je.definitions.filter((b,v)=>(x&1<<v)!==0))]}}return I}const Eo=Qe("UpdatePacket")({serialize(o,t){var r,l,d,m,h,p,u,y,I,R;let i=0;const s=o.index;if(o.writeUint16(0),t.playerData&&Object.keys(t.playerData).length>0&&(Qr(o,t.playerData),i|=1),(r=t.deletedObjects)!=null&&r.length&&(o.writeArray(t.deletedObjects,x=>{o.writeObjectId(x)},2),i|=2),(l=t.fullObjectsCache)!=null&&l.length&&(o.writeArray(t.fullObjectsCache,x=>{o.writeStream(x.partialStream).writeStream(x.fullStream)},2),i|=4),(d=t.partialObjectsCache)!=null&&d.length&&(o.writeArray(t.partialObjectsCache,x=>{o.writeStream(x.partialStream)},2),i|=8),(m=t.bullets)!=null&&m.length&&(o.writeArray(t.bullets,x=>{x.serialize(o)},1),i|=16),(h=t.explosions)!=null&&h.length&&(o.writeArray(t.explosions,x=>{Li.writeToStream(o,x.definition),o.writePosition(x.position).writeLayer(x.layer)},1),i|=32),(p=t.emotes)!=null&&p.length&&(o.writeArray(t.emotes,x=>{Zt.writeToStream(o,x.definition),o.writeObjectId(x.playerID)},1),i|=64),t.gas){const x=t.gas;o.writeUint8(x.state).writeUint8(x.currentDuration).writePosition(x.oldPosition).writePosition(x.newPosition).writeFloat(x.oldRadius,0,2048,2).writeFloat(x.newRadius,0,2048,2),i|=128}t.gasProgress!==void 0&&(o.writeFloat(t.gasProgress,0,1,2),i|=256),(u=t.newPlayers)!=null&&u.length&&(o.writeArray(t.newPlayers,x=>{const S=x.hasColor,b=x.badge!==void 0;o.writeObjectId(x.id).writePlayerName(x.name).writeUint8((S?2:0)+(b?1:0)),S&&o.writeUint24(x.nameColor),b&&xt.writeToStream(o,x.badge)},1),i|=512),(y=t.deletedPlayers)!=null&&y.length&&(o.writeArray(t.deletedPlayers,x=>{o.writeObjectId(x)},1),i|=1024),t.aliveCount!==void 0&&(o.writeUint8(t.aliveCount),i|=2048),(I=t.planes)!=null&&I.length&&(o.writeArray(t.planes,x=>{o.writeVector(x.position,-Ne.MAX_POSITION,-Ne.MAX_POSITION,Gt.DOUBLE_MAX_POS,Gt.DOUBLE_MAX_POS,3),o.writeRotation2(x.direction)},1),i|=4096),(R=t.mapPings)!=null&&R.length&&(o.writeArray(t.mapPings,x=>{Si.writeToStream(o,x.definition),o.writePosition(x.position),x.definition.isPlayerPing&&o.writeObjectId(x.playerId)},1),i|=8192);const n=o.index;o.index=s,o.writeUint16(i),o.index=n},deserialize(o){const t={},i=o.readUint16();return i&1&&(t.playerData=en(o)),i&2&&(t.deletedObjects=o.readArray(()=>o.readObjectId(),2)),i&4&&(t.fullDirtyObjects=o.readArray(()=>{const s=o.readObjectId(),n=o.readObjectType(),r=ro[n];return{id:s,type:n,data:{...r.deserializePartial(o),full:r.deserializeFull(o)}}},2)),i&8&&(t.partialDirtyObjects=o.readArray(()=>{const s=o.readObjectId(),n=o.readObjectType();return{id:s,type:n,data:ro[n].deserializePartial(o)}},2)),i&16&&(t.deserializedBullets=o.readArray(()=>Ao.deserialize(o),1)),i&32&&(t.explosions=o.readArray(()=>({definition:Li.readFromStream(o),position:o.readPosition(),layer:o.readLayer()}),1)),i&64&&(t.emotes=o.readArray(()=>({definition:Zt.readFromStream(o),playerID:o.readObjectId()}),1)),i&128&&(t.gas={state:o.readUint8(),currentDuration:o.readUint8(),oldPosition:o.readPosition(),newPosition:o.readPosition(),oldRadius:o.readFloat(0,2048,2),newRadius:o.readFloat(0,2048,2)}),i&256&&(t.gasProgress=o.readFloat(0,1,2)),i&512&&(t.newPlayers=o.readArray(()=>{const s=o.readObjectId(),n=o.readPlayerName(),r=o.readUint8(),l=(r&2)!==0;return{id:s,name:n,hasColor:l,nameColor:l?o.readUint24():void 0,badge:r&1?xt.readFromStream(o):void 0}},1)),i&1024&&(t.deletedPlayers=o.readArray(()=>o.readObjectId(),1)),i&2048&&(t.aliveCount=o.readUint8()),i&4096&&(t.planes=o.readArray(()=>({position:o.readVector(-Ne.MAX_POSITION,-Ne.MAX_POSITION,Gt.DOUBLE_MAX_POS,Gt.DOUBLE_MAX_POS,3),direction:o.readRotation2()}),1)),i&8192&&(t.mapPings=o.readArray(()=>{const s=Si.readFromStream(o);return{definition:s,position:o.readPosition(),...s.isPlayerPing?{playerId:o.readObjectId()}:{}}},1)),t}});class Oo{constructor(...t){c(this,"_nextTypeId",0);c(this,"typeToId",new Map);c(this,"idToTemplate",[]);for(const i of t)this._register(i)}_register(t){let i;if((i=t.name)in this.typeToId){console.warn(`Packet ${i} registered multiple times`);return}const s=this._nextTypeId++;this.typeToId.set(t,s),this.idToTemplate[s]=t}}const no=new Oo(Oi,ci,Io,Gi),so=new Oo(Eo,Mo,Po,ci,Ro,To,ko,Co,xo);class lo{constructor(t){c(this,"stream");t instanceof ArrayBuffer?this.stream=new qr(t):this.stream=t}serializeServerPacket(t){this._serializePacket(t,so)}deserializeServerPacket(){return this._deserializePacket(so)}serializeClientPacket(t){this._serializePacket(t,no)}deserializeClientPacket(){return this._deserializePacket(no)}_deserializePacket(t){if(this.stream.buffer.byteLength>this.stream.index)return t.idToTemplate[this.stream.readUint8()].read(this.stream)}_serializePacket(t,i){const s=t.constructor.name,n=i.typeToId.get(t.constructor);if(n===void 0)throw new Error(`Unknown packet type: ${s}, did you forget to register it?`);this.stream.writeUint8(n),t.serialize(this.stream)}getBuffer(){return this.stream.buffer.slice(0,this.stream.index)}}class tn{constructor(){c(this,"_objects",new Map);c(this,"_byCategory");this._byCategory=Object.keys(Y).filter(t=>!Number.isNaN(+t)).reduce((t,i)=>(t[i]=new Set,t),{})}getCategory(t){return this._byCategory[t]}clear(){this._objects.clear(),Object.values(this._byCategory).forEach(t=>t.clear())}add(t){this._objects.set(t.id,t),this.getCategory(t.type).add(t)}delete(t){this.getCategory(t.type).delete(t),this._objects.delete(t.id)}has(t){return this._objects.has(t.id)}categoryHas(t){return this.getCategory(t.type).has(t)}get(t){return this._objects.get(t)}hasId(t){return this._objects.has(t)}get size(){return this._objects.size}[Symbol.iterator](){return this._objects.values()}}function an(){const o=document.documentElement;typeof o.requestFullscreen=="function"?o.requestFullscreen().catch():typeof o.webkitRequestFullScreen=="function"&&o.webkitRequestFullScreen().catch()}function Lo(o){const t=new Date(o*1e3);let i="";const s=t.getMinutes();return s>0&&(i+=`${s}m`),i+=`${t.getSeconds()}s`,i}function Vo(o){switch(typeof o){case"string":case"number":case"undefined":case"object":case"boolean":return String(o);case"bigint":return`${o}n`;case"symbol":return o.toString();case"function":return`function ${o.name}(${Array.from({length:o.length},(t,i)=>`arg${i}`).join(", ")}) -> any`}}function Pe(o,...t){let i="";const s=o.length;for(let n=0;n<s;n++)i+=(o[n]??"")+(t[n]??"");return i}const on=Object.freeze(["h1","h2","h3","h4","h5","h6","blockquote","p","pre","span","li","ol","ul","a","em","b","bdi","br","cite","code","del","ins","kbd","mark","q","s","samp","small","span","strong","sub","sup","time","u","var","details","summary","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"]);function Ht(o,t){return o.replace(/<\/?.*?>/g,i=>!(t!=null&&t.strict)&&on.includes(i.replace(/<\/?|>/g,"").split(" ")[0])?i:i.replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/ {2,}/g,i=>t!=null&&t.escapeSpaces?i.replace(/ /g,"&nbsp;"):i).replace(/\n/g,i=>t!=null&&t.escapeNewLines?"<br>":i)}const mi=class mi{constructor(t){c(this,"binds",new ha);c(this,"isMobile");c(this,"movement",{up:!1,left:!1,down:!1,right:!1,moving:!1});c(this,"movementAngle",0);c(this,"mouseX",0);c(this,"mouseY",0);c(this,"emoteWheelActive",!1);c(this,"emoteWheelPosition",e.create(0,0));c(this,"pingWheelActive",!1);c(this,"pingWheelMinimap",!1);c(this,"pingWheelPosition",e.create(0,0));c(this,"selectedEmote");c(this,"rotation",0);c(this,"actions",[]);c(this,"gameMousePosition",e.create(0,0));c(this,"distanceToMouse",0);c(this,"attacking",!1);c(this,"resetAttacking",!1);c(this,"shootOnReleaseAngle",0);c(this,"turning",!1);c(this,"_focusController",new Set);c(this,"_lastInputPacket");c(this,"_inputPacketTimer",0);c(this,"mWheelStopTimer");c(this,"_keybindsContainer",_("#tab-keybinds-content"));if(this.game=t,mi._instantiated)throw new Error("Class 'InputManager' has already been instantiated");mi._instantiated=!0}addAction(t){if(!(this.actions.length>7)){if(typeof t=="number"&&(t={type:t}),t.type===$.DropItem||t.type===$.DropWeapon){const{inventory:i}=this.game.uiManager;let s;t.type===$.DropItem?s=t.item:t.type===$.DropWeapon&&(s=i.weapons[t.slot]);let n=!s.noDrop;if(n)switch(s.itemType){case z.Ammo:case z.Healing:case z.Scope:n=i.items[s.idString]>0;break;case z.Throwable:case z.Armor:case z.Gun:case z.Melee:case z.Skin:n=!0;break;case z.Backpack:n=!1;break}n&&this.game.soundManager.play("pickup")}t.type===$.ExplodeC4&&this.game.uiManager.hasC4s&&this.game.soundManager.play("c4_beep"),this.actions.push(t)}}update(){if(this.game.gameOver)return;const t={movement:{...this.movement},attacking:this.attacking,turning:this.turning,...this.turning?{rotation:this.resetAttacking?this.shootOnReleaseAngle:this.rotation,distanceToMouse:this.distanceToMouse}:{},isMobile:this.isMobile,...this.isMobile?{mobile:{angle:this.movementAngle,moving:this.movement.moving}}:{},actions:this.actions};this.turning=!1,this.resetAttacking&&(this.attacking=!1,this.resetAttacking=!1),this._inputPacketTimer+=this.game.serverDt,(!this._lastInputPacket||Zr(this._lastInputPacket,t)||this._inputPacketTimer>=100)&&(this.game.sendPacket(Oi.create(t)),this._lastInputPacket=t,this._inputPacketTimer=0),this.actions.length=0}setupInputs(){this.isMobile=Ui.any&&this.game.console.getBuiltInCVar("mb_controls_enabled")||nr;const t=this.game,i=_("#game")[0];this.isMobile||(i.addEventListener("pointerleave",()=>{this.attacking=!1}),i.addEventListener("pointerup",()=>{this.attacking=!1})),window.addEventListener("blur",()=>{for(const d of this._focusController)this.handleLostFocus(d);this._focusController.clear()}),window.addEventListener("keydown",this.handleInputEvent.bind(this,!0)),window.addEventListener("keyup",this.handleInputEvent.bind(this,!1)),i.addEventListener("pointerdown",this.handleInputEvent.bind(this,!0)),i.addEventListener("pointerup",this.handleInputEvent.bind(this,!1)),i.addEventListener("wheel",this.handleInputEvent.bind(this,!0)),_("#emote-wheel > .button-center").on("click",()=>{this.emoteWheelActive=!1,this.selectedEmote=void 0,this.pingWheelMinimap=!1,_("#emote-wheel").hide()});const s=Math.atan2(-1,-1),n=Math.atan2(1,1),r=Math.atan2(-1,1),l=Math.atan2(1,-1);if(i.addEventListener("pointermove",d=>{if(!this.isMobile){if(this.mouseX=d.clientX,this.mouseY=d.clientY,this.emoteWheelActive){const m=e.create(d.clientX,d.clientY);if(dt.distanceSquared(this.emoteWheelPosition,m)>500){const h=Je.betweenPoints(this.emoteWheelPosition,m);let p;n<=h&&h<=l?(this.selectedEmote=0,p="top"):h>=s&&h<=l?s<=h&&h<=r?(this.selectedEmote=2,p="bottom"):r<=h&&h<=n&&(this.selectedEmote=3,p="left"):(this.selectedEmote=1,p="right"),_("#emote-wheel").css("background-image",`url("./img/misc/emote_wheel_highlight_${p??"top"}.svg"), url("./img/misc/emote_wheel.svg")`)}else this.selectedEmote=void 0,_("#emote-wheel").css("background-image",'url("./img/misc/emote_wheel_highlight_center.svg"), url("./img/misc/emote_wheel.svg")')}if(this.rotation=Math.atan2(d.clientY-window.innerHeight/2,d.clientX-window.innerWidth/2),!t.gameOver&&t.activePlayer){const m=e.create(d.clientX,d.clientY),h=t.camera.container.toLocal(m);this.gameMousePosition=e.scale(h,1/Q),this.distanceToMouse=dt.distance(t.activePlayer.position,this.gameMousePosition),t.console.getBuiltInCVar("cv_responsive_rotation")&&(t.activePlayer.container.rotation=this.rotation)}this.turning=!0}}),this.isMobile){const d=t.console.getBuiltInCVar("mb_joystick_size"),m=t.console.getBuiltInCVar("mb_joystick_transparency"),h=ja.create({zone:_("#left-joystick-container")[0],size:d,color:`rgba(255, 255, 255, ${m})`}),p=ja.create({zone:_("#right-joystick-container")[0],size:d,color:`rgba(255, 255, 255, ${m})`});let u=!1,y=!1;h.on("move",(I,R)=>{const x=-Math.atan2(R.vector.y,R.vector.x);this.movementAngle=x,this.movement.moving=!0,!u&&!y&&(this.rotation=x,this.turning=!0,t.console.getBuiltInCVar("cv_responsive_rotation")&&!t.gameOver&&t.activePlayer&&(t.activePlayer.container.rotation=this.rotation))}),h.on("end",()=>{this.movement.moving=!1}),p.on("move",(I,R)=>{u=!0,this.rotation=-Math.atan2(R.vector.y,R.vector.x),this.turning=!0;const x=t.activePlayer;if(t.console.getBuiltInCVar("cv_responsive_rotation")&&!t.gameOver&&x&&(t.activePlayer.container.rotation=this.rotation),!x)return;const S=x.activeItem;x.images.aimTrail.alpha=1;const b=R.distance>t.console.getBuiltInCVar("mb_joystick_size")/3;S.itemType===z.Throwable&&this.attacking||S.itemType===z.Gun&&S.shootOnRelease?(y=!0,this.shootOnReleaseAngle=this.rotation):this.attacking=b}),p.on("end",()=>{u=!1,t.activePlayer&&(t.activePlayer.images.aimTrail.alpha=0),this.attacking=y,this.resetAttacking=!0,y=!1})}}handleInputEvent(t,i){if(!i.isTrusted||i instanceof PointerEvent&&this.isMobile||document.activeElement!==document.body)return;const{type:s}=i;if(i instanceof KeyboardEvent){const{key:d}=i;t?this._focusController.add(d):this._focusController.delete(d);let m=0;if(["metaKey","ctrlKey"].forEach(h=>i[h]&&m++),(m>1||m===1&&!["Control","Meta"].includes(d))&&t)return}const n=this.getKeyFromInputEvent(i);let r=0;if(i instanceof WheelEvent){clearTimeout(this.mWheelStopTimer),this.mWheelStopTimer=window.setTimeout(()=>{r=this.fireAllEventsAtKey(n,!1)},50),r=this.fireAllEventsAtKey(n,!0);return}const l=s==="keydown"||s==="pointerdown";if(Array.isArray(n))for(const d of n)r+=this.fireAllEventsAtKey(d,l);else r=this.fireAllEventsAtKey(n,l);r>0&&this.game.gameStarted&&i.preventDefault()}handleLostFocus(t){this.fireAllEventsAtKey(t.toUpperCase(),!1)}fireAllEventsAtKey(t,i){const s=this.binds.getActionsBoundToInput(t)??[];for(const n of s){let r=n;if(i)typeof r!="string"&&typeof r!="function"&&(r=r[0]);else if(typeof r=="string")if(r.startsWith("+"))r=r.replace("+","-");else continue;else{if(typeof r=="function")continue;r=r[1]}if(typeof r=="string"){const{compiled:l}=this.game.console.handleQuery(r,"always");l!==void 0&&this.binds.overrideWithCompiled(t,r,l)}else r()}return s.length}getKeyFromInputEvent(t){let i="";if(t instanceof KeyboardEvent){const{key:s,code:n,location:r}=t;switch(i=s.length>1?s:n.match(/^(Key|Digit)/)?n.slice(-1):n,r){case 1:return[i,`Left${i}`];case 2:return[i,`Right${i}`];case 0:default:return i}}if(t instanceof WheelEvent){switch(!0){case t.deltaX>0:{i="MWheelRight";break}case t.deltaX<0:{i="MWheelLeft";break}case t.deltaY>0:{i="MWheelDown";break}case t.deltaY<0:{i="MWheelUp";break}case t.deltaZ>0:{i="MWheelForwards";break}case t.deltaZ<0:{i="MWheelBackwards";break}}return i===""&&console.error("An unrecognized scroll wheel event was received: ",t),i}return t instanceof MouseEvent&&(i=`Mouse${t.button}`),i}cycleScope(t){const i=this.game.uiManager.inventory.scope,s=lt.definitions.indexOf(i);let n=i,r=s,l=0;for(;l++<100;){r=this.game.console.getBuiltInCVar("cv_loop_scope_selection")?U.absMod(r+t,lt.definitions.length):U.clamp(r+t,0,lt.definitions.length-1);const d=lt.definitions[r];if(this.game.uiManager.inventory.items[d.idString]){n=d;break}}n!==i&&this.addAction({type:$.UseItem,item:n})}cycleThrowable(t){var h;const i=(h=this.game.uiManager.inventory.weapons.find(p=>(p==null?void 0:p.definition.itemType)===z.Throwable))==null?void 0:h.definition;if(!i)return;const s=Ta.definitions,n=s.indexOf(i);let r=i;const l=this.game.uiManager.inventory.items;let d=n,m=0;for(;m++<100;){d=U.absMod(d+t,s.length);const p=s[d];if(l[p.idString]){r=p;break}}r!==i&&this.addAction({type:$.UseItem,item:r})}generateBindsConfigScreen(){this._keybindsContainer.html("").append(Pe`
            <div class="modal-item" id="keybind-clear-tooltip">
                ${C("keybind_clear_tooltip")}
            </div>
        `);let t;for(const i in _a){const s=_("<div/>",{class:"modal-item"}).appendTo(this._keybindsContainer);_("<div/>",{class:"setting-title",text:C(`bindings_${i}`)}).appendTo(s);const n=this.binds.getInputsBoundToAction(i);for(;n.length<2;)n.push("None");const r=n.map(l=>_("<button/>",{class:"btn btn-darken btn-lg btn-secondary btn-bind",text:l||"None"}).appendTo(s)[0]);n.forEach((l,d)=>{const m=r[d],h=p=>{if(p.stopImmediatePropagation(),p instanceof MouseEvent&&p.type==="mousedown"&&!m.classList.contains("active")){t==null||t.classList.remove("active"),m.classList.add("active"),t=m;return}if(m.classList.contains("active")){p.preventDefault();const u=this.getKeyFromInputEvent(p),y=Array.isArray(u)?u[0]:u;l&&this.binds.remove(l,i),this.binds.unbindInput(y),y==="Escape"||y==="Backspace"||this.binds.addActionsToInput(y,i),this.game.console.writeToLocalStorage(),this.generateBindsConfigScreen()}};m.addEventListener("keydown",h),m.addEventListener("mousedown",h),m.addEventListener("wheel",h),m.addEventListener("contextmenu",p=>{p.preventDefault()}),m.addEventListener("scroll",p=>{p.preventDefault(),p.stopPropagation(),p.stopImmediatePropagation()})})}_("<div/>",{class:"modal-item"}).append(_("<button/>",{class:"btn btn-darken btn-lg btn-danger",html:Pe`
                <span style="position: relative; top: -2px">
                    <i class="fa-solid fa-trash" style="font-size: 17px; margin-right: 3px; position: relative; top: -1px"></i>
                    ${C("keybind_reset")}
                </span>`}).on("click",()=>{this.binds.unbindAll();for(const[i,s]of Object.entries(_a))this.binds.addInputsToAction(i,...s);this.generateBindsConfigScreen(),this.game.console.writeToLocalStorage()})).appendTo(this._keybindsContainer);for(let i=0,s=se.player.maxWeapons;i<s;i++){const n=this.binds.getInputsBoundToAction(i===3?"equip_or_cycle_throwables 1":`slot ${i}`).filter(r=>r!=="").slice(0,2);_(`#weapon-slot-${i+1}`).children(".slot-number").text(n.join(" / "))}}static getIconFromInputName(t){let i;const s=t.toLowerCase();return["mouse","mwheel","tab","enter","capslock","shift","alt","meta","control","arrow","backspace","escape","space"].some(n=>s.startsWith(n))&&(s==="meta"?i=navigator.userAgent.match(/mac|darwin/ig)?"command":"windows":i=s.replace(/ /g,"")),i===void 0?i:`./img/misc/${i}_icon.svg`}};c(mi,"_instantiated",!1);let di=mi;const Le=class Le{constructor(){c(this,"_inputToAction",new Map);c(this,"_actionToInput",new Map);c(this,"addActionsToInput",Le._generateAdder(this._inputToAction,this._actionToInput,this));c(this,"addInputsToAction",Le._generateAdder(this._actionToInput,this._inputToAction,this));c(this,"unbindInput",Le._generateRemover(this._inputToAction,this._actionToInput,this));c(this,"unbindAction",Le._generateRemover(this._actionToInput,this._inputToAction,this));c(this,"getInputsBoundToAction",Le._generateGetter(this._actionToInput));c(this,"getActionsBoundToInput",Le._generateGetter(this._inputToAction));c(this,"listBoundInputs",Le._generateLister(this._inputToAction));c(this,"listBoundActions",Le._generateLister(this._actionToInput))}remove(t,i){const s=this._inputToAction.get(t);return s===void 0?!1:(s.delete(i),this._actionToInput.get(i).delete(t),!0)}unbindAll(){return this._inputToAction.clear(),this._actionToInput.clear(),this}overrideWithCompiled(t,i,s){const n=this._inputToAction.get(t);if(!n)return{err:`Input '${t}' is not bound`};if(!n.delete(i))return{err:`Input '${t}' is not bound to query 'query'`};n.add(s)}getAll(){return[...this._actionToInput.entries()].reduce((t,[i,s])=>(t[i]=[...s],t),{})}};c(Le,"_generateGetAndSetIfAbsent",(t,i)=>s=>t.get(s)??t.set(s,i()).get(s)),c(Le,"_generateAdder",(t,i,s)=>(n,...r)=>{const l=Le._generateGetAndSetIfAbsent(t,()=>new Set)(n);for(const d of r)l.add(d),Le._generateGetAndSetIfAbsent(i,()=>new Set)(d).add(n);return s}),c(Le,"_generateRemover",(t,i,s)=>n=>{t.delete(n);for(const r of i.values())r.delete(n);return s}),c(Le,"_generateGetter",t=>i=>{var s,n;return[...((n=(s=t.get(i))==null?void 0:s.values)==null?void 0:n.call(s))??[]]}),c(Le,"_generateLister",t=>()=>[...t.keys()]);let ha=Le;const Dt={regions:{cn:{name:"中国",mainAddress:"https://cn.suroi-serve.heheda.top",gameAddress:"wss://cn.suroi-serve.heheda.top/<ID>"},as:{name:"Asia",mainAddress:"https://as.suroi.io",gameAddress:"wss://<ID>.as.suroi.io"},na:{name:"North America",mainAddress:"https://na.suroi.io",gameAddress:"wss://<ID>.na.suroi.io"},eu:{name:"Europe",mainAddress:"https://eu.suroi.io",gameAddress:"wss://<ID>.eu.suroi.io"},sa:{name:"South America",mainAddress:"https://sa.suroi.io",gameAddress:"wss://<ID>.sa.suroi.io"}},defaultRegion:"cn"};function rn(o){return+o.archive&1|+o.readonly&0|+o.cheat&0|+o.replicated&0}function nn(o){return{archive:!!(o&1),readonly:!!(o&0),cheat:!!(o&0),replicated:!!(o&0)}}const V=Object.freeze({toString(o){return{res:o}},toNumber(o){const t=+o;return Number.isNaN(t)?{err:`'${o}' is not a valid numeric value`}:{res:t}},toInt(o){const t=V.toNumber(o);return"err"in t?t:t.res%1?{err:`'${o}' is not an integer value`}:t},toBoolean(o){switch(o=o.toLowerCase(),!0){case["1","t","true","y","yes"].includes(o):return{res:!0};case["0","f","false","n","no"].includes(o):return{res:!1};default:return{err:`'${o}' is not a valid boolean value`}}},generateUnionCaster(o){const t=o.map((i,s,n)=>`${s===n.length-1?"or ":""}'${i}'`).join(", ");return i=>o.includes(i)?{res:i}:{err:`Value must be either ${t}; received ${i}`}}});class Aa{constructor(t,i,s,n,r){c(this,"name");c(this,"flags");c(this,"_typeCaster");c(this,"_value");c(this,"console");this.name=t,this._value=i,this.console=s,this.flags={archive:(r==null?void 0:r.archive)??!1,readonly:(r==null?void 0:r.readonly)??!1,cheat:(r==null?void 0:r.cheat)??!1,replicated:(r==null?void 0:r.replicated)??!1},this._typeCaster=n}get value(){return this._value}setValue(t,i=!0){switch(!0){case this.flags.readonly:return{err:`Cannot set value of readonly CVar '${this.name}'`};case this.flags.replicated:return{err:`Value of replicated CVar '${this.name}' can only be modified by server operators`};case this.flags.cheat:return{err:`Cannot set value of cheat CVar '${this.name}' because cheats are disabled`}}const s=this._typeCaster(String(t));if("err"in s)return s;const n=s.res;this._value!==n&&(this._value=n,this.flags.archive&&i&&this.console.writeToLocalStorage())}}const hi=class hi{constructor(t){c(this,"_userCVars",new Map);c(this,"_builtInCVars",{});c(this,"get",(()=>{const t=n=>this._builtInCVars[n],i=n=>this._userCVars.get(n),s=n=>n in this._builtInCVars?t(n):i(n);return s.builtIn=t,s.custom=i,s})());c(this,"set",(()=>{const t=(n,r,l=!0)=>{const d=this._builtInCVars[n],m=d.value,h=d.setValue(r,l),p=d.value;if(h===void 0&&m!==p)for(const u of this._changeListeners.get(n)??[])u(this.console.game,p,m,d);return h},i=(n,r)=>{const l=this._userCVars.get(n);return l===void 0?{err:`Could not find console variable '${n}'`}:l.setValue(r)},s=(n,r,l=!1)=>n in this._builtInCVars?t(n,r,l):i(n,r);return s.builtIn=t,s.custom=i,s})());c(this,"has",(()=>{const t=n=>n in this._builtInCVars,i=n=>this._userCVars.has(n),s=n=>n in this._builtInCVars?t(n):i(n);return s.builtIn=t,s.custom=i,s})());c(this,"_changeListeners",new Pa);if(this.console=t,hi._instantiated)throw new Error("Class 'ConsoleVariables' has already been instantiated");hi._instantiated=!0;const i=this.has.bind(this);this.console=t;const s={};for(const n in gt){const r=n;if(i(r))continue;const l=n,d=gt[l],m=typeof d=="object"?d.value:d,h=typeof d=="object"&&d.changeListeners?[d.changeListeners].flat():[],p=typeof d=="object"&&d.flags?d.flags:{};s[l]=new Aa(l,m,t,dn[r],{archive:!0,readonly:!1,cheat:!1,...p}),this._changeListeners.set(l,h)}this._builtInCVars=s}addChangeListener(t,i){this._changeListeners.getAndSetIfAbsent(t,[]).push(i)}removeChangeListener(t,i){const s=this._changeListeners.get(t);s&&this._changeListeners.set(t,s.filter(n=>n!==i))}declareCVar(t){if(this._userCVars.has(t.name))return{err:`CVar ${t.name} has already been declared`};this._userCVars.set(t.name,t)}removeCVar(t){if(!this._userCVars.delete(t))return{err:`CVar ${t} doesn't exist`}}getAll({defaults:t=!1,noArchive:i=!1}={}){const s={};for(const[n,r]of this._userCVars.entries())s[n]={value:r.value,flags:rn(r.flags)};for(const n in this._builtInCVars){const r=n,l=this._builtInCVars[r];let d;(!t||l.value!==(typeof(d=gt[r])=="object"?d.value:d))&&(l.flags.archive||!i)&&(s[n]=l.value)}return s}dump(){return[...Object.entries(this._builtInCVars),...this._userCVars.entries()].map(([t,{flags:i,value:s}])=>`<li><code>${t}</code> ${[i.archive?'<span class="cvar-detail-archived" title="Archived CVar">A</span>':"",i.cheat?'<span class="cvar-detail-cheat" title="Cheat CVar">C</span>':"",i.readonly?'<span class="cvar-detail-readonly" title="Readonly CVar">R</span>':"",i.replicated?'<span class="cvar-detail-replicated" title="Replicated CVar">S</span>':""].join(" ")} &rightarrow;&nbsp;<code class="cvar-value-${s===null?"null":typeof s}">${Vo(s)}</code></li>`).join("")}};c(hi,"_instantiated",!1);let ua=hi;class J{constructor(t,i,s,n,r){c(this,"_name");c(this,"_executor");c(this,"_game");c(this,"_inverse");c(this,"_info");const l="A-Z-a-z_",d=`[${r?`${l}+-`:l}]`,m=new RegExp(`^${d}[${l}0-9]*$`);if(!t.match(m))throw new Error(`Command names must be comprised only of alphanumeric characters and underscores, and their name's first character cannot be a number. (Received '${t}')`);this._name=t,this._executor=i.bind(s),this._game=s,this._info=n,this._info.signatures.length===0?console.warn(`No signatures given for command '${this._name}'`):this._info.signatures.forEach((h,p)=>{const u=h.args;if(u.length!==0){for(let y=0,I=u.length-2,R=u[0];y<I;y++,R=u[y])R.rest&&(R.rest=!1,console.warn(`Found illegal rest argument in info string of command '${this._name}' (signature ${p}, argument '${R.name}', position ${y})`));new Set(u.map(y=>y.name)).size!==u.length&&console.error(`Found duplicate argument names in info string of command '${this._name}' (signature ${p})`)}}),s.console.commands.has(this._name)&&console.warn(`Overwriting command '${this._name}'`),s.console.commands.set(this._name,this)}get name(){return this._name}get executor(){return this._executor}run(t=[]){if(!this._info.allowOnlyWhenGameStarted||this._game.gameStarted)return this._executor.call(this._game,...t)}get inverse(){return this._inverse}get info(){return this._info}static createInvertiblePair(t,i,s,n,r,l){const d=new J(`+${t}`,i,n,r,!0),m=new J(`-${t}`,s,n,l??r,!0);d._inverse=m,m._inverse=d}static createCommand(t,i,s,n){new J(t,i,s,n)}toString(){return this._name}}function sn(o){const t=o.console,i=o.inputManager.binds,s=(r,l)=>{J.createInvertiblePair(r,l?function(){this.inputManager.movement[r]=!0,this.spectating&&this.sendPacket(Gi.create({spectateAction:l}))}:function(){this.inputManager.movement[r]=!0},function(){this.inputManager.movement[r]=!1},o,{short:`Moves the player in the '${r}' direction`,long:`Starts moving the player in the '${r}' direction when invoked`,allowOnlyWhenGameStarted:!0,signatures:[{args:[],noexcept:!0}]},{short:`Halts the player's movement in the '${r}' direction`,long:`Stops moving the player in the '${r}' direction when invoked`,allowOnlyWhenGameStarted:!0,signatures:[{args:[],noexcept:!0}]})};s("up"),s("left",st.SpectatePrevious),s("down"),s("right",st.SpectateNext),J.createCommand("slot",function(r){const l=V.toInt(r??"NaN");if("err"in l)return{err:`Attempted to swap to invalid slot '${r}'`};this.inputManager.addAction({type:$.EquipItem,slot:l.res})},o,{short:"Attempts to switch to the item in a given slot. The slot number is 0-indexed",long:"When invoked, an attempt to swap to the slot passed in argument will be made. The slot number is zero-indexed, meaning that 0 designates the first slot, 1 designates the second and 2 designates the third",allowOnlyWhenGameStarted:!0,signatures:[{args:[{name:"id",type:["number"]}],noexcept:!1}]}),J.createCommand("last_item",function(){this.inputManager.addAction($.EquipLastItem)},o,{short:"Attempts to switch to the last item the player deployed",long:"When invoked, the player's last active slot will be switched to, if possible",allowOnlyWhenGameStarted:!0,signatures:[{args:[],noexcept:!0}]}),J.createCommand("other_weapon",function(){let r=this.uiManager.inventory.activeWeaponIndex===0||this.uiManager.inventory.weapons[0]===void 0&&this.uiManager.inventory.activeWeaponIndex!==1?1:0;this.uiManager.inventory.weapons[r]===void 0&&(r=2),this.inputManager.addAction({type:$.EquipItem,slot:r})},o,{short:"Attempts to switch to the other weapon in the player's inventory",long:"When invoked, the player will swap to the other weapon slot if there is a weapon there. If not, melee will be switched to",allowOnlyWhenGameStarted:!0,signatures:[{args:[],noexcept:!0}]}),J.createCommand("swap_gun_slots",function(){this.inputManager.addAction($.SwapGunSlots)},o,{short:"Exchanges the guns' slots in the player's inventory",long:"When invoked, the item in slot 0 will be placed in slot 1 and vice versa. Empty slots are treated normally, meaning that invoking this command with only one gun in an inventory will send it to the other slot, leaving the original slot empty",allowOnlyWhenGameStarted:!0,signatures:[{args:[],noexcept:!0}]}),J.createCommand("cycle_items",function(r){const l=V.toInt(r??"NaN");if("err"in l)return{err:`Attempted to cycle items by an invalid offset of '${r}' slots`};let d=U.absMod(this.uiManager.inventory.activeWeaponIndex+l.res,se.player.maxWeapons),m=0;for(;!this.uiManager.inventory.weapons[d];)if(d=U.absMod(d+l.res,se.player.maxWeapons),++m>100){d=this.uiManager.inventory.activeWeaponIndex;break}this.inputManager.addAction({type:$.EquipItem,slot:d})},o,{short:"Switches to the item <em>n</em> slots over, where <em>n</em> is some integer",long:"When invoked with an integer argument <em>n</em>, the slot offset from the current one by <em>n</em> slots will be switched to. If the offset is beyond the slots' range (< 0 or > 2), wrap-around is performed. Empty slots are ignored and cannot be swapped to",allowOnlyWhenGameStarted:!0,signatures:[{args:[{name:"offset",type:["integer"]}],noexcept:!1}]}),J.createCommand("interact",function(){this.inputManager.addAction($.Interact)},o,{short:"Interacts with an object, if there is one",long:"When invoked, the player will attempt to interact with the closest interactable object that is in range.",allowOnlyWhenGameStarted:!0,signatures:[{args:[],noexcept:!0}]});for(const[r,l,d,m]of[["lock_slot",$.LockSlot,"Locks a slot, rendering it immutable","Locks a weapon slot. A locked weapon slot cannot have its weapon changed, neither by dropping it, nor by replacing the weapon with one on the ground. However, locked slots may still be swapped via<code>swap_gun_slots</code>, which will transfer the lock appropriately. Use <code>unlock_slot</code> to undo a lock."],["unlock_slot",$.UnlockSlot,"Unlocks a slot, rendering it mutable","Unlocks a weapon slot. A locked weapon slot cannot have its weapon changed, neither by dropping it, nor by replacing the weapon with one on the ground. However, locked slots may still be swapped via<code>swap_gun_slots</code>, which will transfer the lock appropriately. Use <code>lock_slot</code> to lock a slot."],["toggle_slot_lock",$.ToggleSlotLock,"Toggles the lock on a slot, either locking or unlocking it","Either locks or unlocks a weapon slot. Locked slots cannot have their contents changed."]])J.createCommand(r,function(h){let p=this.uiManager.inventory.activeWeaponIndex;if(h){const u=V.toInt(h??"NaN");if("err"in u)return{err:`Cannot lock invalid slot '${h}'`};p=u.res}this.inputManager.addAction({type:l,slot:p})},o,{short:d,long:m,allowOnlyWhenGameStarted:!0,signatures:[{args:[{name:"target",type:["integer"],optional:!0}],noexcept:!1}]});J.createCommand("loot",function(){this.inputManager.addAction($.Loot)},o,{short:"Loots closest object",long:"When invoked, the player will attempt to pick up the closest loot that is in range.",allowOnlyWhenGameStarted:!0,signatures:[{args:[],noexcept:!0}]}),J.createInvertiblePair("attack",function(){this.inputManager.attacking||(this.inputManager.attacking=!0)},function(){this.inputManager.attacking&&(this.inputManager.attacking=!1)},o,{short:"Starts attacking",long:"When invoked, the player will start trying to attack as if the attack button was held down. Does nothing if the player is attacking",allowOnlyWhenGameStarted:!0,signatures:[{args:[],noexcept:!0}]},{short:"Stops attacking",long:"When invoked, the player will stop trying to attack, as if the attack button was released. Does nothing if the player isn't attacking",allowOnlyWhenGameStarted:!0,signatures:[{args:[],noexcept:!0}]}),J.createCommand("drop",function(){this.inputManager.addAction({type:$.DropWeapon,slot:this.uiManager.inventory.activeWeaponIndex})},o,{short:"Drops the current active item",long:"When invoked, the player will attempt to drop the item they're currently holding",allowOnlyWhenGameStarted:!0,signatures:[{args:[],noexcept:!0}]}),J.createCommand("cycle_scopes",function(r){const l=V.toInt(r??"NaN");if("err"in l)return{err:`Attempted to cycle scopes by an invalid offset of '${r}'`};o.inputManager.cycleScope(l.res)},o,{short:"Switches to the scope <em>n</em> slots over, where <em>n</em> is some integer",long:"When invoked with an integer argument <em>n</em>, the scope offset from the current one by <em>n</em> slots will be switched to. If the offset is beyond the slots' range, wrap-around is performed if the user has <code>cl_loop_scope_selection</code> set to <code>true</code>",allowOnlyWhenGameStarted:!0,signatures:[{args:[{name:"offset",type:["integer"]}],noexcept:!1}]}),J.createCommand("equip_or_cycle_throwables",function(r){var l;if(((l=this.activePlayer)==null?void 0:l.activeItem.itemType)===z.Throwable){const d=V.toInt(r??"NaN");if("err"in d)return{err:`Attempted to cycle throwables by an invalid offset of '${r}'`};o.inputManager.cycleThrowable(d.res)}else{const d=se.player.inventorySlotTypings.findIndex(m=>m===z.Throwable);d!==-1&&this.inputManager.addAction({type:$.EquipItem,slot:d})}},o,{short:"Selects the throwable slot, but if it already is, then switches to the throwable <em>n</em> slots over, where <em>n</em> is some integer",long:"When invoked, this command will switch to the first throwable slot it finds if the active slot isn't a throwable slot—in this case, the 'offset' argument is ignored. If a throwable slot is selected, then the throwable offset from the current one by <em>n</em> slots will be selected, with the indices wrapping around if need be",allowOnlyWhenGameStarted:!0,signatures:[{args:[{name:"offset",type:["integer"],optional:!0}],noexcept:!1}]}),J.createCommand("use_consumable",function(r){if(r===void 0)return{err:"Expected a string argument, received nothing"};if(![...Ti,...lt,...Ta].some(l=>l.idString===r))return{err:`There is no scope, consumable, nor throwable whose idString is '${r}'`};o.inputManager.addAction({type:$.UseItem,item:ge.fromString(r)})},o,{short:"Uses the item designated by the given <code>idString</code>",long:"When invoked with a string argument, an attempt will be made to use the consumable, scope, or throwable whose <code>idString</code> matches it",allowOnlyWhenGameStarted:!0,signatures:[{args:[{name:"idString",type:["string"]}],noexcept:!1}]}),J.createCommand("cancel_action",function(){o.inputManager.addAction($.Cancel)},o,{short:"Cancels the action (reloading and or consuming) the player is currently executing",long:"When invoked, the current action the player is executing will be stopped, if there is one",allowOnlyWhenGameStarted:!0,signatures:[{args:[],noexcept:!0}]}),J.createInvertiblePair("view_map",function(){o.map.switchToBigMap()},function(){o.map.switchToSmallMap()},o,{short:"Shows the game map",long:"When invoked, the fullscreen map will be toggled",allowOnlyWhenGameStarted:!0,signatures:[{args:[],noexcept:!0}]},{short:"Hides the game map",long:"When invoked, the fullscreen map will be hidden",allowOnlyWhenGameStarted:!0,signatures:[{args:[],noexcept:!0}]}),J.createCommand("reload",function(){o.inputManager.addAction($.Reload)},o,{short:"Reloads the current active item",long:"When invoked, the player will attempt to reload the item they're currently holding",allowOnlyWhenGameStarted:!0,signatures:[{args:[],noexcept:!0}]}),J.createCommand("explode_c4",function(){o.inputManager.addAction($.ExplodeC4)},o,{short:"Explodes all deployed pieces of C4 belonging to this player",long:"When invoked, the game will attempt to detonate all pieces of C4 this player has deployed.",allowOnlyWhenGameStarted:!0,signatures:[{args:[],noexcept:!0}]}),J.createInvertiblePair("emote_wheel",function(){if(o.console.getBuiltInCVar("cv_hide_emotes")||this.gameOver||this.inputManager.emoteWheelActive)return;const{mouseX:r,mouseY:l}=this.inputManager,d=this.console.getBuiltInCVar("cv_ui_scale");this.inputManager.pingWheelMinimap||(this.inputManager.pingWheelPosition=e.clone(this.inputManager.gameMousePosition)),this.uiManager.ui.emoteWheel.css("left",`${r/d}px`).css("top",`${l/d}px`).css("background-image",'url("./img/misc/emote_wheel.svg")').show(),this.inputManager.emoteWheelActive=!0,this.inputManager.emoteWheelPosition=e.create(r,l)},function(){if(!this.inputManager.emoteWheelActive||(this.inputManager.emoteWheelActive=!1,this.inputManager.pingWheelMinimap=!1,this.uiManager.ui.emoteWheel.hide(),this.inputManager.selectedEmote===void 0))return;const r=this.uiManager.emotes[this.inputManager.selectedEmote];r&&!this.inputManager.pingWheelActive?this.inputManager.addAction({type:$.Emote,emote:r}):this.inputManager.pingWheelActive&&this.inputManager.addAction({type:$.MapPing,ping:this.uiManager.mapPings[this.inputManager.selectedEmote],position:this.inputManager.pingWheelPosition}),this.inputManager.selectedEmote=void 0},o,{short:"Opens the emote wheel",long:"When invoked, the emote wheel will be opened, allowing the user to pick an emote",allowOnlyWhenGameStarted:!0,signatures:[{args:[],noexcept:!0}]},{short:"Closes the emote wheel, using the designated emote, if any",long:"When invoked, the emote wheel will be closed, and if an emote has been selected, it will be displayed",allowOnlyWhenGameStarted:!0,signatures:[{args:[],noexcept:!0}]}),J.createInvertiblePair("map_ping_wheel",function(){this.inputManager.pingWheelActive=!0,this.uiManager.updateEmoteWheel()},function(){this.inputManager.pingWheelActive=!1,this.uiManager.updateEmoteWheel()},o,{short:"Enables the emote wheel's ping mode",long:"When invoked, the emote wheel will switch from triggering emotes to triggering map pings",allowOnlyWhenGameStarted:!0,signatures:[{args:[],noexcept:!0}]},{short:"Disables the emote wheel's ping mode",long:"When invoked, the emote wheel will revert back to trigger emotes",allowOnlyWhenGameStarted:!0,signatures:[{args:[],noexcept:!0}]}),J.createCommand("screenshot_map",function(){const r=new Ca;r.texture=o.map.sprite.texture;const l=o.pixi.renderer.extract.canvas(r);if(l.toBlob)l.toBlob(d=>{d&&window.open(URL.createObjectURL(d))});else return{err:"canvas.toBlob is undefined"};r.destroy()},o,{short:"Screenshot the game map texture and open it on a new tab as a blob image",long:"Attempts to generate a downloadable image from the minimap's contents, then opening that image in a new tab",allowOnlyWhenGameStarted:!0,signatures:[{args:[],noexcept:!1}]}),J.createCommand("screenshot_game",function(){const{width:r,height:l}=o.camera,d=o.camera.container,m=new wr(o.camera.position.x-r/2/d.scale.x,o.camera.position.y-l/2/d.scale.y,r/d.scale.x,l/d.scale.y),h=o.pixi.renderer.extract.canvas({clearColor:We.grass,target:d,frame:m,resolution:d.scale.x,antialias:!0});if(h.toBlob)h.toBlob(p=>{p&&window.open(URL.createObjectURL(p))});else return{err:"canvas.toBlob is undefined"}},o,{short:"Screenshot the game camera and open it on a new tab as a blob image",long:"Attempts to take a screenshot of the game without any of its HUD elements, and then attempts to open this image in a new tab",allowOnlyWhenGameStarted:!0,signatures:[{args:[],noexcept:!1}]}),J.createCommand("disconnect",function(){this.endGame()},o,{short:"Leaves the current game",long:"When invoked, the player is disconnected from their current game",allowOnlyWhenGameStarted:!0,signatures:[{args:[],noexcept:!0}]}),J.createCommand("clear",function(){t.clear()},o,{short:"Clears the console",long:"When invoked, the game console's contents will be erased",signatures:[{args:[],noexcept:!0}]}),J.createCommand("clear_history",function(){t.clearHistory()},o,{short:"Clears the query history",long:"When invoked, the game console's history is cleared",signatures:[{args:[],noexcept:!0}]}),J.createCommand("echo",function(...r){t.log.raw(r.join(" "))},o,{short:"Echoes whatever is passed to it",long:"When invoked with any number of arguments, the arguments will be re-printed to the console in same order they were given",signatures:[{args:[{name:"args",optional:!0,type:["string[]"],rest:!0}],noexcept:!0}]});const n=navigator.userAgent.match(/mac|darwin/ig);J.createCommand("bind",function(r,l){if(r===void 0||l===void 0)return{err:`Expected 2 arguments, received ${arguments.length}`};i.addActionsToInput(r.length>1?r:r.toUpperCase(),l),t.writeToLocalStorage(),this.inputManager.generateBindsConfigScreen()},o,{short:"Binds an input to an action",long:`Given the name of an input (such as a key or mouse button) and a console query, this command establishes a new link between the two.<br><p>For alphanumeric keys, simply giving the key as-is (e.g. "a", or "1") will do. However, keys with no textual representation, or that represent punctuation will have to given by name, such as "Enter" or "Period".</p><p>Note that actions bound to mouse buttons or the scroll wheel/trackpad will only be triggered when ingame, and that binding to mouse side-buttons is unreliable.</p><p>For the scroll wheel, the encoding is simply <code>MWheel</code>, followed by the capitalized direction (ex: <code>MWheelUp</code>)<br>Remember that if your query contains spaces, you must enclose the whole query in double quotes ("") so that it is properly parsed.</p><p>Note that Escape and Backspace may be used to bind actions, but doing so must be done through the console and cannot be done through the settings menu. Also note that Escape will always bring up the pause menu, and that this cannot be changed</p><p><details><summary>Full list of inputs and their corresponding names</summary><ul><li><details><summary>Alphanumeric keys (case insensitive)</summary><table style="text-align: center"><thead><tr><td>Input</td><td>"Console" name</td></tr></thead><tbody>${[..."ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"].map(r=>[r,r]).map(([r,l])=>`<tr><td>${r}</td><td><code>${l}</td></tr>`).join("")}</tbody></table></details></li><li><details><summary>Modifier keys, system keys, and others (case sensitive)</summary><table style="text-align: center"><thead><tr><td>Input</td><td>"Console" name</td></tr></thead><tbody>${[["Shift ⇧","Shift"],[n?"Command ⌘":"Windows ⊞","Meta"],[n?"Option ⌥":"Alt","Alt"],[n?"Control ⌃":"Control","Control"],["Escape ⎋","Escape"],["Backspace ←","Backspace"],["Tab ⇆","Tab"],["Caps Lock ⇪","CapsLock"],["Enter ↵","Enter"],["§","IntlBackslash"],["Left arrow","ArrowLeft"],["Right arrow","ArrowRight"],["Up arrow","ArrowUp"],["Down arrow","ArrowDown"],["Lock numpad","NumLock"],["Home","Home"],["Page up","PageUp"],["Page down","PageDown"],["Clear","Clear"],["End","End"],["Insert","Insert"],["Print Screen","PrintScreen"],["Scroll Lock","ScrollLock"],["Pause","Pause"],["Numpad add","NumpadAdd"],["Numpad subtract","NumpadSubtract"],["Numpad multiply","NumpadMultiply"],["Numpad divide","NumpadDivide"],["Numpad period","NumpadDecimal"],["Numpad equal","NumpadEqual"],["Numpad enter","NumpadEnter"]].map(([r,l])=>`<tr><td>${r}</td><td><code>${l}</td></tr>`).join("")}</tbody><tfoot><tr><td colspan=2>Note that for keys appearing in two locations, (namely ${["Shift",n?"Command":"Windows",n?"Option":"Alt","Control"].map(r=>`<code>${r}</code>`).join(", ")}) it is possible to bind either the left or right variant only. For example, binding only left Shift can be done with <code>LeftShift</code>, and right Shift can be done with <code>RightShift</code>; in all cases, <code>Shift</code> will allow both the left and right variant to trigger the action</td></tr></tfoot></table></details></li><li><details><summary>Number pad—<code>NumLock</code> required (case sensitive)</summary><table style="text-align: center"><thead><tr><td>Input</td><td>"Console" name</td></tr></thead><tbody>${Array.from({length:10},(r,l)=>[`Number pad ${l}`,`Numpad${l}`]).map(([r,l])=>`<tr><td>${r}</td><td><code>${l}</td></tr>`).join("")}</tbody></table></details></li><li><details><summary>Punctuation (case sensitive)</summary><table style="text-align: center"><thead><tr><td>Input</td><td>"Console" name</td></tr></thead><tbody>${[["Hyphen-minus (<code>-</code>)","Minus"],["Equals (<code>=</code>)","Equals"],["Opening square bracket (<code>[</code>)","BracketLeft"],["Closing square bracket (<code>]</code>)","BracketRight"],["Semicolon (<code>;</code>)","Semicolon"],["Quote/apostrophe (<code>'</code>)","Quote"],["Backslash (<code>\\</code>)","Backslash"],["Comma (<code>,</code>)","Comma"],["Period (<code>.</code>)","Period"],["Forward slash (<code>/</code>)","Slash"],["Backtick (<code>`</code>)","Backquote"]].map(([r,l])=>`<tr><td>${r}</td><td><code>${l}</td></tr>`).join("")}</tbody></table></details></li><li><details><summary>Function keys (case sensitive)</summary><table style="text-align: center"><thead><tr><td>Input</td><td>"Console" name</td></tr></thead><tbody>${Array.from({length:24},(r,l)=>[`F${++l}`,`F${l}`]).map(([r,l])=>`<tr><td>${r}</td><td><code>${l}</td></tr>`).join("")}</tbody></table></details></li><li><details><summary>Mouse buttons (case sensitive)</summary><table style="text-align: center"><thead><tr><td>Input</td><td>"Console" name</td></tr></thead><tbody>${[["Primary (usually left click)","Mouse0"],["Auxillary (usually middle click)","Mouse1"],["Secondary (usually right click)","Mouse2"],["Backwards (usually back-left side-button)","Mouse3"],["Forwards (usually front-left side-button)","Mouse4"]].map(([r,l])=>`<tr><td>${r}</td><td><code>${l}</td></tr>`).join("")}</tbody></table></details></li><li><details><summary>Scroll wheel / trackpad (case sensitive)</summary><table style="text-align: center"><thead><tr><td>Input</td><td>"Console" name</td></tr></thead><tbody>${[["Scroll down","MWheelDown"],["Scroll up","MWheelUp"],["Scroll right","MWheelRight"],["Scroll left","MWheelLeft"],["Scroll forwards","MWheelForwards"],["Scroll backwards","MWheelBackwards"]].map(([r,l])=>`<tr><td>${r}</td><td><code>${l}</td></tr>`).join("")}</tbody></table></details></li></ul></details><br>`,signatures:[{args:[{name:"input",type:["string"]},{name:"query",type:["string"]}],noexcept:!0}]}),J.createCommand("unbind",function(r){if(r===void 0)return{err:"Expected an argument, received none"};i.unbindInput(r.length>1?r:r.toUpperCase()),t.writeToLocalStorage(),this.inputManager.generateBindsConfigScreen()},o,{short:"Removes all actions from a given input",long:"Given the name of an input (refer to the <code>bind</code> command for more information on naming), this command removes all actions bound to it",signatures:[{args:[{name:"input",type:["string"]}],noexcept:!0}]}),J.createCommand("unbind_all",function(){i.unbindAll(),t.writeToLocalStorage(),this.inputManager.generateBindsConfigScreen()},o,{short:"Removes all keybinds",long:"When invoked, all inputs will have their actions removed. <b>This is a very dangerous command!!</b>",signatures:[{args:[],noexcept:!0}]}),J.createCommand("alias",function(r,l){if(r===void 0||l===void 0)return{err:`Expected 2 arguments, received ${arguments.length}`};if(t.commands.has(r))return{err:`Cannot override built-in command '${r}'`};if(t.variables.has(r))return{err:`Cannot shadow cvar '${r}'`};if(r.match(/^\w{2}_/))return{err:"Alias name must not match regular expression <code>^\\w{2}_</code>"};t.aliases.set(r,l),t.writeToLocalStorage()},o,{short:"Creates a shorthand for a console query",long:`This command's first argument is the alias' name, and its second is the query; an <em>alias</em> is created, which can be called like any other command. When the alias is called, the query said alias is bound to will be executed, as if it had been entered into the console manually.<br>If the query contains spaces, remember to wrap it in double quotes ("") so it can be parsed correctly. An alias' name cannot match that of a built-in command, nor can it start with two alphanumeric characters followed by an underscore (in other words, the name mustn't match <code>^\\w{2}_</code>, because those prefixes may be used for future CVars). However, if it matches an existing alias, said existing alias will be replaced by the new one`,signatures:[{args:[{name:"alias_name",type:["string"]},{name:"query",type:["string"]}],noexcept:!1}]}),J.createCommand("remove_alias",function(r,l){if(r===void 0)return{err:"Expected a string argument, received nothing"};if(!t.aliases.delete(r,ii(V.toBoolean(l??"false"),()=>!1)))return{err:`No alias by the name of '${r}' exists`};t.writeToLocalStorage()},o,{short:"Removes an alias from the list of aliases",long:'When given the name of an alias, this command removes it from the list of alises if it exists. If <code>remove_inverse</code> is set to <code>true</code> and the alias pointed to by <code>alias_name</code> is <em>invertible</em> (in other words, has a <code>+</code> form and a <code>-</code> form, like <code>+command</code> and <code>-command</code>), then both aliases will be removed. In this case, <code>alias_name</code> may be either one of the two forms, or the "base" name with no +/- (for example, removing <code>+command</code> and <code>-command</code> could be done by calling <code>remove_alias command true</code>, <code>remove_alias +command true</code>, or <code>remove_alias -command true</code>.) If <code>remove_inverse</code> is set to <code>true</code> but the targeted alias is not invertible, the value of <code>remove_inverse</code> is ignored. <code>remove_inverse</code> defaults to <code>false</code>.',signatures:[{args:[{name:"alias_name",type:["string"]},{name:"remove_inverse",optional:!0,type:["boolean"]}],noexcept:!1}]}),J.createCommand("list_binds",function(r){const l=(d,m)=>{d!==""&&t.log.raw({main:`Actions bound to input '${d}'`,detail:m.map(h=>{switch(!0){case h instanceof J:return h.name;case typeof h=="function":return h.original;case h instanceof Array:return h[0].original;default:return h}}).join("<br>")})};if(r){const d=i.getActionsBoundToInput(r);if(d.length)l(r,d);else return{err:`The input '${r}' hasn't been bound to any action`}}else{const d=document.createElement("ul");d.append(...i.listBoundInputs().map(m=>{const h=document.createElement("ul");h.append(...i.getActionsBoundToInput(m).map(u=>{const y=document.createElement("li");switch(!0){case typeof u=="function":{y.innerText=u.original;break}case u instanceof Array:{y.innerText=u[0].original;break}default:{y.innerText=u;break}}return y}));const p=document.createElement("li");return p.append(m,h),p})),t.log.raw(d.outerHTML)}},o,{short:"Lists all the actions bound to a key, or all the keys and their respective actions",long:"If this command is invoked without an argument, all keys which have an action to them will be printed, along with the actions bound to each respective key. If it is invoked with an input's name, then only the actions bound to that input will be shown, if any",signatures:[{args:[],noexcept:!0},{args:[{name:"input_name",type:["string"]}],noexcept:!1}]}),J.createCommand("list_cvars",()=>{t.log.raw({main:"List of CVars",detail:`<ul>${t.variables.dump()}</ul>`})},o,{short:"Prints out the values of CVars",long:`When invoked, will print out every at-the-time registered CVar and its value. The value's color corresponds to its type:<ul>${[[null,"null"],[void 0,"undefined"],["abcd","string"],[1234,"number"],[!1,"boolean"],[5678n,"bigint"],[Symbol.for("efgh"),"symbol"],[function(l){},"function"],[{},"object"]].map(([r,l])=>`<li><b>${l}</b>: <code class="cvar-value-${l}">${Vo(r)}</code></li>`).join("")}</ul>`,signatures:[{args:[],noexcept:!0}]}),J.createCommand("let",(r,l,d,m,h)=>{if(r===void 0||l===void 0)return{err:`Expected at least 2 arguments, received ${arguments.length}`};if(!r.startsWith("uv_"))return{err:"Custom CVar name must start with <code>uv_</code>"};if(!r.match(/^uv_[a-zA-Z0-9_]+$/))return{err:"Custom CVar name be at least one character long (not including the prefix) and can only contain letters, numbers and underscores"};if(t.variables.has.custom(r))return{err:`Custom CVar '${r}' already exists. (To change its value to ${l}, do 'assign ${r} ${l}')`};const p={string:V.toString,number:V.toNumber,integer:V.toInt,boolean:V.toBoolean}[d??"string"];if(p===void 0)return{err:`Unknown type '${d}'`};const u=p(l);if("err"in u)return{err:`Provided type '${d}' does not match with provided value '${l}' (the given value is not assignable to the given type)`};const y=u.res;t.variables.declareCVar(new Aa(r,y,t,p,{archive:ii(V.toBoolean(m??"0"),()=>!1),readonly:ii(V.toBoolean(h??"0"),()=>!1)})),t.writeToLocalStorage()},o,{short:"Creates a new custom console variable, with a name and value",long:"When invoked, this command attempts to create a new CVar with the given name and value. <b>Names must being with <code>uv_</code>, must be at least one character long (not counting the prefix) and can only contain letters, numbers and underscores.</b> Invalid names will result in an error.<br>CVars marked as <code>archive</code> will be saved when the game closes and reinitialized when the game boots up again. Readonly CVars cannot have their value changed after being created",signatures:[{args:[{name:"name",type:["string"]},{name:"value",type:["string","number","boolean"]},{name:"type",type:['"string"','"number"','"integer"','"boolean"'],optional:!0},{name:"archive",type:["boolean"],optional:!0},{name:"readonly",type:["boolean"],optional:!0}],noexcept:!1}]}),J.createCommand("assign",(r,l,d)=>{if(r===void 0||l===void 0)return{err:`Expected 2 arguments, received ${arguments.length}`};if(!t.variables.has(r))return{err:`CVar '${r}' doesn't exist`};const m=V.toBoolean(d??"false"),h=t.variables.set(r,l);return t.writeToLocalStorage({includeNoArchive:"res"in m&&m.res}),h},o,{short:"Assigns a value to a CVar",long:"When invoked, this command attempts to assign a new value to a CVar. If the CVar is not archived, its value can still be written to permanent storage by passing <code>true</code> to this command's third parameter",signatures:[{args:[{name:"name",type:["string"]},{name:"value",type:["string","number","boolean"]},{name:"forceWrite",type:["boolean"],optional:!0}],noexcept:!1}]}),J.createCommand("toggle",(r,...l)=>{if(r===void 0)return{err:"Expected at least 1 argument, received none"};let d;if((d=t.variables.get(r))===void 0)return{err:`CVar '${r}' doesn't exist`};l.length===0&&(l=["true","false"]);const m=l.indexOf(`${d.value}`);return m===-1?{err:`CVar '${r}' has a value not contained in the list of options (${d.value})`}:t.variables.set(d.name,l[(m+1)%l.length])},o,{short:"Cycles a CVar's value through a set of values",long:"When invoked, this command retrieves the CVar designated by <code>name</code>. If its current value is not in <code>values</code>, or if the CVar doesn't exist, an error is thrown. Otherwise, the CVar is assigned to the element in the list following the one corresponding to the current CVar's value. Any errors from this assignment are rethrown by this command. Invoking this command with only a CVar's name is equivalent to passing in <code>true false</code>for <code>values</code>",signatures:[{args:[{name:"name",type:["string"]},{name:"values",type:["string","number","boolean"],optional:!0,rest:!0}],noexcept:!1}]}),J.createCommand("delete",function(r){if(r===void 0)return{err:"Expected a string argument, received nothing"};if(t.variables.has.builtIn(r))return{err:`Cannot delete built-in CVar '${r}'`};const l=t.variables.removeCVar(r);return l===void 0&&t.writeToLocalStorage(),l},o,{short:"Removes a user CVar from the list of variables",long:"When given the name of a user variable, this command removes it from the list of variables. Passing in the name of a built-in CVar causes an error",signatures:[{args:[{name:"variable_name",type:["string"]}],noexcept:!1}]}),J.createCommand("list_alias",function(r){if(r===void 0)return{err:"Expected a string argument, received nothing"};const l=t.aliases.get(r);if(l!==void 0)t.log.raw(`Alias '${r}' is defined as <code>${Ht(l)}</code>`);else return{err:`No alias named '${r}' exists`}},o,{short:"Gives the definition of an alias",long:"When given the name of an alias, if that alias exists, this command will print the query associated with it",signatures:[{args:[{name:"alias_name",type:["string"]}],noexcept:!1}]}),J.createCommand("help",function(r){if(r===void 0){t.log({main:"List of commands",detail:[...t.commands.keys()]}),t.log({main:"List of aliases",detail:[...t.aliases.keys()]});return}const l=t.commands.get(r);if(!l)return{err:`Cannot find command named '${r}'`};const d=l.info;t.log.raw({main:d.short,detail:[d.long,...d.signatures.map(m=>{const h="noexcept"in m&&m.noexcept?'<span class="command-desc-noexcept">noexcept</span> ':"",p=`<span class="command-desc-cmd-name">${l.name}</span>`,u=m.args.length?` ${m.args.map(y=>`<em>${y.rest?"..":""}${y.name}${y.optional?"?":""}: ${y.type.map(I=>`<span class="command-desc-arg-type">${I}</span>`).join(" | ")}</em>`).join(", ")}`:"";return`<code>${h+p+u}</code>`})]})},o,{short:"Displays help about a certain command, or a list of commands and aliases",long:`If given the name of a command, this command logs that command's help info, along with its signatures.<br>The signatures of a command are all the different possible ways in can be invoked. Each signature follows the following format: <code>noexcept-marker? command-name params</code><ul>${[["noexcept-marker","If included, it indicates that this signature never returns an error. Styled as blue, bold and in italics"],["command-name","Simply the command's name. Styled as bold and yellow"],["params","A space-separated list of parameters, where each parameter follows the form <em><code>name: type</code></em>, where <code>name</code> is the parameter's name and <code>type</code> is its data type"]].map(([r,l])=>`<li><code>${r}</code>: ${l}</li>`).join("")}</ul>If not given an argument, this command logs a list of all defined commands and aliases. Passing the name of an alias to this command results in an error. If you want to see the query bound to an alias, use <code>list_alias</code>`,signatures:[{args:[],noexcept:!0},{args:[{name:"command_name",type:["string"]}],noexcept:!1}]}),J.createCommand("throw",function(r){if(ii(V.toBoolean(r??"false"),()=>!1))return{err:"Thrown error"}},o,{short:"Optionally throws a value. For debugging purposes",long:"If supplied with a truthy argument, this command raises an exception; otherwise, it does nothing.",signatures:[{args:[],noexcept:!0},{args:[{name:"doThrow",type:["boolean"]}],noexcept:!1}]}),J.createCommand("dump_client_info",function(r){const l={version:"0.21.7",api_url:"/api",client_protocol_version:se.protocolVersion,pixi:{version:yr,renderer_info:{type:bo[o.pixi.renderer.type],resolution:o.pixi.renderer.resolution}},user_agent:{ua_string:navigator.userAgent,language:navigator.language,online:navigator.onLine},regions:Dt.regions,default_region:Dt.defaultRegion};ii(V.toBoolean(r??"false"),()=>!1)?o.console.log.raw(JSON.stringify(l,null,2).replace(/\n| /g,d=>({"\n":"<br>"," ":"&nbsp;"})[d]??"")):o.console.log.raw(function d(m){let h="<ul>";for(const[p,u]of Object.entries(m))h+=`<li><b>${p}</b>: ${typeof u=="object"&&u!==null&&!(u instanceof Date)?d(u):String(u)}</li>`;return`${h}</ul>`}({...l,regions:Object.fromEntries(Object.entries(l.regions).map(([d,m])=>[d,{...m,...typeof m.nextSwitchTime=="number"?{nextSwitchTime:new Date(m.nextSwitchTime)}:{},...typeof m.maxTeamSize=="number"?{maxTeamSize:St[m.maxTeamSize]}:{}}]))}))},o,{short:"Gives info about the client",long:"Dumps a variety of information about the current client. For debugging purposes. If <code>raw</code> is set to true, the data is outputted as raw JSON; otherwise, it is displayed in a list (default option).",signatures:[{args:[{name:"raw",type:["boolean"],optional:!0}],noexcept:!0}]}),t.handleQuery(`
        alias +map_ping "+emote_wheel; +map_ping_wheel" & alias -map_ping "-emote_wheel; -map_ping_wheel";        alias toggle_minimap "toggle cv_minimap_minimized";        alias toggle_hud "toggle cv_draw_hud";        alias toggle_map "toggle cv_map_expanded";        alias toggle_console "toggle cv_console_open";
    `,"never")}class Ea extends SyntaxError{constructor(t,i,s=1){super(t),this.charIndex=i,this.length=s}}class ln extends Ea{constructor(i,s,n=1){super(i,s,n);c(this,"title","Parsing error")}}class cn extends Ea{constructor(i,s,n=1){super(i,s,n);c(this,"title","Reference error")}}let aa=!1,oa=!1,ra=!1;const ui=class ui{constructor(t){c(this,"_isOpen",!1);c(this,"_ui",{globalContainer:_("#console"),container:_("#console-container"),header:_("#console-header"),closeButton:_("#console-close"),output:_("#console-out"),input:_("#console-in"),autocomplete:_("#console-autocmp")});c(this,"_dimensions",(()=>{let t=NaN,i=NaN;const s=this;let n;return{get width(){return t},set width(r){var l;r=U.clamp(r,0,window.innerWidth-(Number.isNaN(((l=s._position)==null?void 0:l.left)??NaN)?-1/0:s._position.left)),(n??(n=s.variables.set.builtIn))("cv_console_width",t=r)},get height(){return i},set height(r){var l;r=U.clamp(r,0,window.innerHeight-(Number.isNaN(((l=s._position)==null?void 0:l.top)??NaN)?-1/0:s._position.top)),(n??(n=s.variables.set.builtIn))("cv_console_height",i=r)}}})());c(this,"_position",(()=>{let t=NaN,i=NaN;const s=1,n=this;let r;const{container:l,autocomplete:d}=this._ui;return{get left(){return t},set left(m){m=U.clamp(m,0,window.innerWidth-n._dimensions.width-s),t!==m&&((r??(r=n.variables.set.builtIn))("cv_console_left",t=m),l.css("left",t),d.css("left",t))},get top(){return i},set top(m){m=U.clamp(m,0,window.innerHeight-n._dimensions.height-s),i!==m&&((r??(r=n.variables.set.builtIn))("cv_console_top",i=m),l.css("top",i),d.css("top",i+n._dimensions.height))}}})());c(this,"_entries",[]);c(this,"_localStorageKey","suroi_config");c(this,"_history",new class{constructor(){c(this,"_backingSet",new Set);c(this,"_backingArray",[])}add(i){const s=this._backingSet.size;this._backingSet.add(i),this._backingSet.size!==s&&this._backingArray.push(i)}clear(){this._backingSet.clear(),this._backingArray.length=0}filter(i){return this._backingArray.filter(i)}all(){return this._backingArray}});c(this,"commands",(()=>{const t=new Map,i=t.set.bind(t),s=t.clear.bind(t),n=t.delete.bind(t);return t.set=(r,l)=>{const d=i(r,l);return this._autocmpData.cache.invalidateCommands(),d},t.clear=()=>{s(),this._autocmpData.cache.invalidateCommands()},t.delete=r=>{const l=n(r);return l&&this._autocmpData.cache.invalidateCommands(),l},t})());c(this,"aliases",(()=>{const t=new Map,i=t.set.bind(t),s=t.clear.bind(t),n=t.delete.bind(t);return t.set=(r,l)=>{const d=i(r,l);return this._autocmpData.cache.invalidateAliases(),d},t.clear=()=>{s(),this._autocmpData.cache.invalidateAliases()},t.delete=(r,l=!1)=>{let d=r;l&&(l=(["+","-"].includes(r[0])?(d=r.slice(1),!0):!1)||t.has(`+${r}`));const[m,h]=l?[`+${d}`,`-${d}`]:[r,r],p=n(m);return p&&(this._autocmpData.cache.invalidateAliases(),l&&n(h)),p},t})());c(this,"variables",(()=>{const t=new ua(this),i=t.declareCVar.bind(t),s=t.removeCVar.bind(t);return t.declareCVar=n=>{const r=i(n);return r===void 0&&this._autocmpData.cache.invalidateVariables(),r},t.removeCVar=n=>{const r=s(n);return r===void 0&&this._autocmpData.cache.invalidateVariables(),r},t})());c(this,"_autocmpData",{nodes:[],activeIndex:void 0,cache:(()=>{const t=this;let i,s,n;return{get commands(){return i??(i=[...t.commands.keys()])},invalidateCommands(){i=void 0},get aliases(){return s??(s=[...t.aliases.keys()])},invalidateAliases(){s=void 0},get variables(){return n??(n=Object.keys(t.variables.getAll()))},invalidateVariables(){n=void 0},invalidateAll(){this.invalidateCommands(),this.invalidateAliases(),this.invalidateVariables()}}})()});c(this,"_createLogger",t=>{const i=(s,n)=>{this._pushAndLog(this._createConsoleEntry(s,n?t.alt:t.default),!1)};return i.raw=(s,n)=>{this._pushAndLog(this._createConsoleEntry(s,n?t.alt:t.default),!0)},i});c(this,"log",this._createLogger({default:"log",alt:"important"}));c(this,"warn",this._createLogger({default:"warn",alt:"severe_warn"}));c(this,"error",this._createLogger({default:"error",alt:"fatal_error"}));if(this.game=t,ui._instantiated)throw new Error("Class 'GameConsole' has already been instantiated");ui._instantiated=!0,this._attachListeners(),window.addEventListener("error",r=>{var l,d;r.filename&&(this.error({main:`Javascript ${r.error?`'${(d=(l=Object.getPrototypeOf(r.error))==null?void 0:l.constructor)==null?void 0:d.name}'`:r.type} occurred at ${r.filename.replace(location.origin+location.pathname,"./")}:${r.lineno}:${r.colno}`,detail:r.error??r.message},!0),console.error(r))});const i=this.variables.addChangeListener.bind(this.variables);i("cv_console_left",(r,l)=>{this._position.left=l}),i("cv_console_top",(r,l)=>{this._position.top=l});const{container:s,autocomplete:n}=this._ui;i("cv_console_width",(r,l)=>{oa||s.css("width",l),n.css("width",l)}),i("cv_console_height",(r,l)=>{ra||s.css("height",l),n.css("top",this._position.top+l)}),this.isOpen=this._isOpen}get isOpen(){return this._isOpen}set isOpen(t){this._isOpen!==t&&(this._isOpen=t,this.variables.get.builtIn("cv_console_open").setValue(t),this._isOpen?(this._ui.globalContainer.show(),this._ui.input.trigger("focus"),aa=!this.game.gameStarted):this._ui.globalContainer.hide())}clearHistory(){this._history.clear()}writeToLocalStorage({includeDefaults:t=!1,includeNoArchive:i=!1}={}){const s={variables:this.variables.getAll({defaults:!t,noArchive:!i}),aliases:Object.fromEntries(this.aliases),binds:this.game.inputManager.binds.getAll()};localStorage.setItem(this._localStorageKey,JSON.stringify(s))}readFromLocalStorage(){const t=localStorage.getItem(this._localStorageKey),i=JSON.parse(JSON.stringify(_a));let s=!1;if(t){const r=JSON.parse(t);for(const d in r.variables){const m=r.variables[d],h=typeof m=="object"?m==null?void 0:m.value:m;if(d in gt){this.variables.set.builtIn(d,h,!1);continue}if(s=!0,!d.match(/^uv_[a-zA-Z0-9_]+$/)){const p=`Malformed CVar '${d}' found (this was either forced into local storage manually or is an old CVar that no longer exists). It will not be registered and will be deleted.`;console.warn(p),this.warn(p);continue}this.variables.declareCVar(new Aa(d,h,this,V.toString,{archive:!0,cheat:!1,readonly:!1,...typeof m=="object"?nn((m==null?void 0:m.flags)??0):{}}))}const l=this.variables.get.builtIn("cv_loadout_badge").value;if(!xt.hasString(l)&&!l.startsWith("bdg_")&&(this.variables.set.builtIn("cv_loadout_badge",`bdg_${l}`),s=!0),r.binds){for(const d in r.binds)d in r.binds&&(i[d]=r.binds[d]);s=!0}for(const d in r.aliases)this.aliases.set(d,r.aliases[d]);this._autocmpData.cache.invalidateAll()}const n=this.game.inputManager.binds;for(const r in i){const l=i[r];if(!l.length){n.addInputsToAction(r);continue}for(const d of l)n.addActionsToInput(d,r)}s&&this.writeToLocalStorage(),this.resizeAndMove({dimensions:{width:this.getBuiltInCVar("cv_console_width"),height:this.getBuiltInCVar("cv_console_height")},position:{left:this.getBuiltInCVar("cv_console_left"),top:this.getBuiltInCVar("cv_console_top")}}),this.isOpen=this.getBuiltInCVar("cv_console_open")}getBuiltInCVar(t){return this.variables.get.builtIn(t).value}setBuiltInCVar(t,i){this.variables.set.builtIn(t,i)}_attachListeners(){this._ui.closeButton.on("click",i=>{i.button===0&&this.close()});{let i=!1;const s={x:NaN,y:NaN},n=()=>{i&&(i=!1,window.removeEventListener("mouseup",n),window.removeEventListener("mousemove",r))},r=l=>{this._position.left=l.clientX+s.x,this._position.top=l.clientY+s.y};this._ui.header.on("mousedown",l=>{i=!0,s.x=parseInt(this._ui.container.css("left"))-l.clientX,s.y=parseInt(this._ui.container.css("top"))-l.clientY,window.addEventListener("mouseup",n),window.addEventListener("mousemove",r)})}new ResizeObserver(i=>{var n;if(!this._isOpen)return;const s=(n=i[0])==null?void 0:n.borderBoxSize[0];s!==void 0&&(oa=!0,this._dimensions.width=s.inlineSize,oa=!1,ra=!0,this._dimensions.height=s.blockSize,ra=!1)}).observe(this._ui.container[0]);let t=!1;this._ui.globalContainer.on("keydown",i=>{switch(i.key){case"Enter":{i.preventDefault(),i.stopPropagation(),i.stopImmediatePropagation();const s=this._ui.input.val();this._ui.input.val(""),t=!1,this._history.add(s),this.log.raw(`> ${Ht(s,{strict:!0,escapeNewLines:!0,escapeSpaces:!0})}`),this.handleQuery(s,"never"),this._updateAutocmp();break}case"ArrowDown":case"ArrowUp":{if(!this._isOpen)return;i.preventDefault(),i.stopPropagation(),i.stopImmediatePropagation(),t=!0;const{nodes:s,activeIndex:n}=this._autocmpData,r=n!==void 0,l=s.length;if(r&&s[n].trigger("blur"),l){const d=i.key==="ArrowDown"?1:-1;s[this._autocmpData.activeIndex=U.absMod(r?n+d:d-1>>2,l)].trigger("focus")}break}}}),this._ui.input.on("beforeinput",i=>{aa&&(aa=!1,i.preventDefault())}),this._ui.input.on("input",()=>{this._updateAutocmp()}),this._ui.input.on("focus",()=>{this._updateAutocmp()}),this._ui.input.on("blur",()=>{t||this._hideAutocomplete()})}_sanitizeRegExp(t){return t.replace(/[[\](){}\\.+\-*!<>$|^?:]/g,i=>`\\${i}`)}_updateAutocmp(){const t=this._ui.input.val(),{autocomplete:i,input:s,container:n}=this._ui,r=t.split(" ")[0],l=t.length===0,d=v=>{if(v.includes(t))return l?[]:[t];const P=r.split("_");if(P.filter(D=>D.length).length===1)return[];for(const D of P){const O=v.replace(new RegExp(`${this._sanitizeRegExp(`${D}_`)}|${this._sanitizeRegExp(`_${D}`)}`),"");if(O===v)return[];v=O}return P},m=v=>d(v).length!==0,h=this._autocmpData.cache;let p,u,y;const[I,R,x,S]=l?[this._history.all(),[],[],[]]:[this._history.filter((()=>{const v=[].concat(p??(p=h.commands),u??(u=h.aliases),y??(y=h.variables));return P=>m(P)&&!v.includes(P)})()),(p??(p=h.commands)).filter(v=>m(v)),(u??(u=h.aliases)).filter(v=>m(v)),(y??(y=h.variables)).filter(v=>m(v))],b=v=>{const P=d(v);let D=Ht(v,{strict:!0,escapeSpaces:!0});P.length&&(D=D.replace(new RegExp(P.map(A=>this._sanitizeRegExp(A)).join("|"),"g"),A=>`<b>${Ht(A,{strict:!0,escapeSpaces:!0})}</b>`));const O=_('<div tabindex="0" class="console-input-autocomplete-entry"></div>').append(D);return O.on("mousedown",A=>{A.button||(s.val(v).trigger("focus"),this._updateAutocmp())}),O.on("keydown",function(A){A.code==="Enter"&&(A.preventDefault(),A.stopPropagation(),A.stopImmediatePropagation(),this.dispatchEvent(new MouseEvent("mousedown",{button:0})))}),O};if(I.length||R.length||x.length||S.length){i.show(),n.css("border-bottom-left-radius",0).css("border-bottom-right-radius",0);const v=()=>_('<div class="console-autocomplete-divider"></div>'),P=[],D=[I,R,x,S].filter(O=>O.length).map(O=>{const A=O.sort((L,H)=>L.indexOf(t)-H.indexOf(t)).map(L=>b(L));return P.push(...A),[...A,v()]}).flat();(this._autocmpData.activeIndex??-1/0>(this._autocmpData.nodes=P).length-1)&&(this._autocmpData.activeIndex=void 0),D.pop(),i.empty().append(...D)}else this._hideAutocomplete()}_hideAutocomplete(){this._ui.container.css("border-bottom-left-radius","").css("border-bottom-right-radius",""),this._ui.autocomplete.hide().empty(),this._autocmpData.activeIndex=void 0,this._autocmpData.nodes.length=0}handleQuery(t,i="normal"){if(t.trim().length===0)return{success:!0};let s;(S=>{S[S.Always=0]="Always",S[S.IfPass=1]="IfPass",S[S.IfFail=2]="IfFail"})(s||(s={}));const n={";":0,"&":1,"|":2};function r(S){var xe,Ve,He,it,Lt,ft,Ge,bt,et,kt,Vt,Rt;let b={name:"",startIndex:0,args:[]},v={cmd:b,startIndex:0,chaining:0},P=v;const D=v;let O="cmd",A=!1,L=!1,H="raw";const te=new Ga;let N=0,ie=!1,q=b.args,re=0;const ee=(ae,pe=0,ke=1)=>{throw new ln(ae,re+pe,ke)},le=ae=>{if(!q.length)b.args=q=[{arg:[{type:H,content:ae,startIndex:re}],startIndex:re}];else{const pe=q[q.length-1].arg;pe.length?pe[pe.length-1].content+=ae:pe[0]={type:H,content:ae,startIndex:re}}},fe=(ae,pe)=>{P=v,ae.next=v={cmd:b={name:"",startIndex:re,args:q=[]},startIndex:re,chaining:n[pe]}};for(const ae of S){switch(ae){case" ":case`
`:{if(ae===`
`&&ie){ie=!1;break}if(O==="cmd"){b.name&&!N&&(O="args");break}if(A){le(ae),L=!1;break}if(((Ve=(xe=q.at(-1))==null?void 0:xe.arg.at(-1))==null?void 0:Ve.content.length)===0)break;q.push({arg:[{type:H,content:"",startIndex:re}],startIndex:re});break}case"#":{if(ie)break;if(A){le(ae),L=!1;break}ie=!0;break}case";":case"&":case"|":{if(ie)break;if(O==="cmd"){b.name||(D===v&&ee("Unexpected chaining character encountered at start of query"),ee("Expected a query following a chaining character, but found another chaining character")),fe(N?te.pop():b,ae),N&&N--;break}if(A){le(ae),L=!1;break}((it=(He=q.at(-1))==null?void 0:He.arg.at(-1))==null?void 0:it.content.length)===0&&(q.length-=1),fe(b,ae),O="cmd";break}case"(":{if(ie)break;if(O==="cmd"){b.name&&ee("Unexpected opening parentheses character '(' found"),te.push(v);break}if(A){le(ae),L=!1;break}ee("Unexpected grouping character '('")}case")":{if(ie)break;if(O==="args"){if(A){le(ae),L=!1;break}te.has()||ee("Unexpected grouping character ')'"),O="cmd"}if(te.has()||ee("Unexpected closing parentheses character ')' found"),N){te.pop();break}b.name||ee("Unexpected empty group",-1,2),N++;break}case"{":{if(ie)break;if(A&&!L){if(H==="reference"&&ee("Unexpected start-of-reference ({) character encountered"),H="reference",q.length){const pe=q.at(-1).arg;let ke;((Lt=ke=pe.at(-1))==null?void 0:Lt.content.length)===0?ke.type=H:pe.push({type:H,content:"",startIndex:re})}}else O==="args"?(le(ae),L=!1):b.name+=ae;break}case"}":{if(ie)break;if(A&&H==="reference"){H="raw";let pe;(q.length===0||((ft=(pe=q.at(-1).arg).at(-1))==null?void 0:ft.content.length)===0)&&ee("Unexpected empty reference",-1,2),(pe??(pe=q.at(-1).arg)).push({type:H,content:"",startIndex:re})}else O==="args"?(le(ae),L=!1):b.name+=ae;break}case'"':{if(ie)break;if(O==="cmd"){O="args",A=!0;break}if(A){if(L){le(ae),L=!1;break}H==="reference"&&ee("Unterminated variable reference"),q.push({arg:[{type:H,content:"",startIndex:re}],startIndex:re})}else(bt=(Ge=q.at(-1))==null?void 0:Ge.arg.at(-1))!=null&&bt.content.length&&ee('Unexpected double-quote (") character found.');A=!A;break}case"\\":{if(ie)break;if(O==="cmd"||!A||!(L=!L)){le(ae);break}break}default:{if(ie)break;if(O==="cmd"){N&&ee(`Expected a chaining character following the end of a group (found '${ae}')`),b.name+=ae;break}L=!1,le(ae);break}}++re}if(A&&ee("Unterminated string argument"),L&&ee("Unresolved escape character"),te.has()&&!N&&ee("Unterminated command group"),(et=b.next)!=null&&et.cmd.name.length||delete b.next,!b.name.length)delete P.cmd.next;else{const ae=b.args;let pe,ke=!0;for(;ke;)ke=!1,((Rt=(Vt=pe=(kt=ae.at(-1))==null?void 0:kt.arg)==null?void 0:Vt.at(-1))==null?void 0:Rt.content.length)===0&&(pe.length>1||ae.length!==1)&&(pe.length-=1,ke=!0),(pe==null?void 0:pe.length)===0&&(ae.length-=1,ke=!0)}return D}const l=[];let d=r(t);const m=new Ga;let h=!1;const p=S=>({0:!0,1:!h,2:h})[S.chaining]?S:void 0,u=()=>{d!=null&&d.next&&m.push(d.next)},y=()=>{const S=m.has();return S&&(d=p(m.pop())),S},I=()=>{var S;if(((S=d==null?void 0:d.cmd)==null?void 0:S.next)===void 0){if(y())return;d=void 0;return}d=p(d.cmd.next),d===void 0?y():u()},R=S=>{let b=!0;const v=S.reduce((P,D)=>{if(D.type==="raw")return P+D.content;b=!1;const O=this.variables.get(D.content);if(O===void 0)throw new cn(`Variable '${D.content}' not found`,D.startIndex,D.content.length);return`${P}${O.value}`},"");return[b,v]},x=S=>{let b=!0;const v=S.map(P=>{const[D,O]=R(P.arg);return b&&(b=D),O});return[b,v]};try{u();let S=0;for(;d!==void 0;){++S===1e3&&console.warn("1000 iterations of query parsing; possible infinite loop"),h=!1;const{name:b,args:v}=d.cmd,P=this.commands.get(b);if(P){const[A,L]=x(v);switch(i){case"normal":if(l.length>1)break;case"always":{const te=N=>{const ie=v.length===0?N.executor.bind(this.game):A?N.run.bind(N,L):()=>N.run(x(v)[1]);return ie.original=`${N.name}${L.length?` ${L.map(q=>q.includes(" ")?`"${q.replace(/"/g,'\\"\\')}"`:q).join(" ")}`:""}`,ie};l.push(P.inverse?[te(P),te(P.inverse)]:te(P))}}const H=P.run(L);typeof H=="object"&&(h=!0,this.error.raw(`${H.err}`)),I();continue}const D=this.aliases.get(b);if(D!==void 0){const{success:A,compiled:L}=this.handleQuery(D,i);switch(h=!A,i){case"normal":if(l.length>1)break;case"always":L&&l.push(L)}I();continue}const O=this.variables.get(b);if(O){if(v.length){const{success:A,compiled:L}=this.handleQuery(`assign ${b} ${v.map(H=>`"${R(H.arg)[1]}"`).join(" ")}`,i);switch(h=!A,i){case"normal":if(l.length>1)break;case"always":L&&l.push(L)}}else this.log(`${O.name} = ${O.value}`);I();continue}h=!0,this.error(`Unknown console entity '${b}'`),I()}}catch(S){if(S instanceof Ea){const b=S.charIndex,v=15,P=" ";this.error.raw({main:S.title,detail:`${S.message}<br><pre><code>${Ht(t.slice(U.max(0,b-v),b+v),{strict:!0,escapeSpaces:!0})}<br>${`${P.repeat(U.min(b,v))}${"^".repeat(S.length)}`.padEnd(U.min(t.length,v),P)}</code></pre>`})}else throw S}return{success:!h,compiled:(()=>{switch(l.length){case 0:return;case 1:return l[0];case 2:{const S=v=>{const P=()=>{for(const D of v)D()};return P.original=t,P},b=l.map(v=>typeof v=="function"?v:v[0]);return typeof l[0]=="function"?S(b):[S(b),S([l[0][1],...b.slice(1)])]}}})()}}open(){this.isOpen=!0}close(){this.isOpen=!1}toggle(){this.isOpen=!this._isOpen}resizeAndMove(t){t.dimensions&&(t.dimensions.width!==void 0&&(this._dimensions.width=t.dimensions.width),t.dimensions.height!==void 0&&(this._dimensions.height=t.dimensions.height)),t.position&&(t.position.left!==void 0&&(this._position.left=t.position.left),t.position.top!==void 0&&(this._position.top=t.position.top))}_pushAndLog(t,i=!1){this._entries.push(t),this._ui.output.append(this._generateHTML(t,i))}_generateHTML(t,i=!1){const s=(()=>{const d=new Date(t.timestamp);return{hr:`${d.getHours()}`.padStart(2,"0"),min:`${d.getMinutes()}`.padStart(2,"0"),sec:`${d.getSeconds()}`.padStart(2,"0"),mil:`${d.getMilliseconds()}`.padStart(3,"0")}})(),n={container:void 0,timestamp:void 0,content:void 0};n.container=_(`<div class="console-entry console-entry-${t.type}"></div>`),n.timestamp=_('<div class="console-entry-timestamp"></div>'),n.timestamp.text(`${s.hr}:${s.min}:${s.sec}:${s.mil}`),n.container.append(n.timestamp),n.content=_('<div class="console-entry-content">');const[r,l]=i?["html",Ht]:["text",d=>d];return typeof t.content=="string"?n.content[r](l(t.content,{strict:!1,escapeSpaces:!0,escapeNewLines:!0})):n.content.append(_("<details>").append(_("<summary>")[r](l(t.content.main,{strict:!1,escapeSpaces:!0,escapeNewLines:!0})),Array.isArray(t.content.detail)?_("<ul>").append(t.content.detail.map(d=>_("<li>")[r](l(d,{strict:!1,escapeSpaces:!0,escapeNewLines:!0})))):_("<span>")[r](t.content.detail))),n.container.append(n.content),n.container}_createConsoleEntry(t,i){return{content:t,timestamp:Date.now(),type:i}}clear(){this._entries.length=0,this._ui.output.html("")}};c(ui,"_instantiated",!1);let ga=ui;const dn=Object.freeze({cv_player_name:V.toString,cv_loadout_skin:V.toString,cv_loadout_badge:V.toString,cv_loadout_crosshair:V.toInt,cv_loadout_top_emote:V.toString,cv_loadout_right_emote:V.toString,cv_loadout_bottom_emote:V.toString,cv_loadout_left_emote:V.toString,cv_loadout_death_emote:V.toString,cv_loadout_win_emote:V.toString,cv_master_volume:V.toNumber,cv_sfx_volume:V.toNumber,cv_ambience_volume:V.toNumber,cv_music_volume:V.toNumber,cv_loop_scope_selection:V.toBoolean,cv_anonymize_player_names:V.toBoolean,cv_hide_emotes:V.toBoolean,cv_use_old_menu_music:V.toBoolean,cv_region:V.toString,cv_camera_shake_fx:V.toBoolean,cv_killfeed_style:V.generateUnionCaster(["icon","text"]),cv_weapon_slot_style:V.generateUnionCaster(["simple","colored"]),cv_movement_smoothing:V.toBoolean,cv_responsive_rotation:V.toBoolean,cv_antialias:V.toBoolean,cv_renderer:V.generateUnionCaster(["webgl1","webgl2","webgpu"]),cv_renderer_res:V.generateUnionCaster(["auto","0.5","1","2","3"]),cv_high_res_textures:V.toBoolean,cv_cooler_graphics:V.toBoolean,cv_ambient_particles:V.toBoolean,cv_blur_splash:V.toBoolean,cv_rules_acknowledged:V.toBoolean,cv_hide_rules_button:V.toBoolean,cv_leave_warning:V.toBoolean,cv_ui_scale:V.toNumber,cv_draw_hud:V.toBoolean,cv_map_expanded:V.toBoolean,cv_minimap_minimized:V.toBoolean,cv_minimap_transparency:V.toNumber,cv_map_transparency:V.toNumber,cv_console_width:V.toNumber,cv_console_height:V.toNumber,cv_console_left:V.toNumber,cv_console_top:V.toNumber,cv_console_open:V.toBoolean,cv_crosshair_color:V.toString,cv_crosshair_size:V.toNumber,cv_crosshair_stroke_color:V.toString,cv_crosshair_stroke_size:V.toNumber,cv_autopickup:V.toBoolean,cv_autopickup_dual_guns:V.toBoolean,cv_language:V.toString,cv_mute_audio:V.toBoolean,pf_show_fps:V.toBoolean,pf_show_ping:V.toBoolean,pf_show_pos:V.toBoolean,mb_controls_enabled:V.toBoolean,mb_joystick_size:V.toNumber,mb_joystick_transparency:V.toNumber,mb_high_res_textures:V.toBoolean,dv_password:V.toString,dv_role:V.toString,dv_name_color:V.toString,dv_lobby_clearing:V.toBoolean,dv_weapon_preset:V.toString}),gt=Object.freeze({cv_player_name:"",cv_loadout_skin:se.player.defaultSkin,cv_loadout_badge:"",cv_loadout_crosshair:0,cv_loadout_top_emote:"happy_face",cv_loadout_right_emote:"thumbs_up",cv_loadout_bottom_emote:"suroi_logo",cv_loadout_left_emote:"sad_face",cv_loadout_death_emote:"",cv_loadout_win_emote:"",cv_master_volume:1,cv_sfx_volume:1,cv_ambience_volume:1,cv_music_volume:1,cv_loop_scope_selection:!1,cv_anonymize_player_names:!1,cv_hide_emotes:!1,cv_use_old_menu_music:!1,cv_region:"",cv_camera_shake_fx:!0,cv_killfeed_style:"text",cv_weapon_slot_style:"colored",cv_movement_smoothing:!0,cv_responsive_rotation:!0,cv_antialias:!0,cv_renderer:"webgl2",cv_renderer_res:"auto",cv_high_res_textures:!0,cv_cooler_graphics:!1,cv_ambient_particles:!0,cv_blur_splash:!Ui.any,cv_rules_acknowledged:!1,cv_hide_rules_button:!1,cv_leave_warning:!0,cv_ui_scale:1,cv_draw_hud:!0,cv_map_expanded:{value:!1,flags:{archive:!1}},cv_minimap_minimized:{value:!1,flags:{archive:!1}},cv_minimap_transparency:.8,cv_map_transparency:.9,cv_console_width:window.innerWidth/2,cv_console_height:window.innerWidth/2,cv_console_left:window.innerWidth/4,cv_console_top:window.innerWidth/4,cv_console_open:{value:!1,flags:{archive:!1}},cv_crosshair_color:"#000000",cv_crosshair_size:1.5,cv_crosshair_stroke_color:"#000000",cv_crosshair_stroke_size:0,cv_autopickup:!0,cv_autopickup_dual_guns:!0,cv_language:"zh",cv_mute_audio:!1,pf_show_fps:!1,pf_show_ping:!1,pf_show_pos:!1,mb_controls_enabled:!0,mb_joystick_size:150,mb_joystick_transparency:.8,mb_high_res_textures:!1,dv_password:"",dv_role:"",dv_name_color:"",dv_lobby_clearing:!1,dv_weapon_preset:""}),_a=Object.freeze({"+up":["W","ArrowUp"],"+down":["S","ArrowDown"],"+left":["A","ArrowLeft"],"+right":["D","ArrowRight"],interact:["F"],loot:[],"slot 0":["1"],"slot 1":["2"],"slot 2":["3","E"],"equip_or_cycle_throwables 1":["4"],last_item:["Q"],other_weapon:["Space"],swap_gun_slots:["T"],"cycle_items -1":["MWheelUp"],"cycle_items 1":["MWheelDown"],"+attack":["Mouse0"],drop:[],reload:["R"],explode_c4:["Z"],"cycle_scopes -1":[],"cycle_scopes 1":[],"use_consumable gauze":["7"],"use_consumable medikit":["8"],"use_consumable cola":["9"],"use_consumable tablets":["0"],cancel_action:["X"],"+view_map":[],toggle_map:["G","M"],toggle_minimap:["N"],toggle_hud:[],"+emote_wheel":["Mouse2"],"+map_ping_wheel":["C"],toggle_console:[],"+map_ping":[],toggle_slot_lock:[]}),pn={name:"Shqip",flag:"🇦🇱",mandatory:!1,no_resize:!1,no_space:!1,percentage:"88%"},mn={name:"Čeština",flag:"🇨🇿",mandatory:!1,no_resize:!1,no_space:!1,percentage:"94%"},hn={name:"Deutsch",flag:"🇩🇪",mandatory:!1,no_resize:!1,no_space:!1,percentage:"86%"},un={name:"English",flag:"🇬🇧",mandatory:!0,no_resize:!0,no_space:!1,percentage:"100%"},gn={name:"Eesti",flag:"🇪🇪",mandatory:!1,no_resize:!1,no_space:!1,percentage:"94%"},_n={name:"Français",flag:"🇫🇷",mandatory:!1,no_resize:!1,no_space:!1,percentage:"92%"},fn={name:"Ελληνικά",flag:"🇬🇷",mandatory:!1,no_resize:!1,no_space:!1,percentage:"94%"},bn={name:"廣東話(香港/澳門)",flag:"🇭🇰 🇲🇴",mandatory:!1,no_resize:!1,no_space:!0,percentage:"93%"},wn={name:"Magyar",flag:"🇭🇺",mandatory:!1,no_resize:!1,no_space:!1,percentage:"100%"},yn={name:"日本語",flag:"🇯🇵",mandatory:!1,no_resize:!1,no_space:!0,percentage:"94%"},Sn={name:"Lietuvių",flag:"🇱🇹",mandatory:!1,no_resize:!1,no_space:!1,percentage:"94%"},vn={name:"Latviešu",flag:"🇱🇻",mandatory:!1,no_resize:!1,no_space:!1,percentage:"94%"},xn={name:"Cute Engwish",flag:"🎀",mandatory:!1,no_resize:!1,no_space:!1,percentage:"92%"},kn={name:"Română",flag:"🇷🇴",mandatory:!1,no_resize:!1,no_space:!1,percentage:"88%"},Rn={name:"Русский",flag:"🇷🇺",mandatory:!1,no_resize:!1,no_space:!1,percentage:"96%"},In={name:"தமிழ்",flag:"🇮🇳",mandatory:!1,no_resize:!1,no_space:!1,percentage:"92%"},Mn={name:"Turkısh",flag:"🇹🇷",mandatory:!1,no_resize:!1,no_space:!1,percentage:"94%"},Tn={name:"中文（繁體）",flag:"🇹🇼",mandatory:!1,no_resize:!1,no_space:!0,percentage:"87%"},Pn={name:"Tiếng Việt",flag:"🇻🇳",mandatory:!1,no_resize:!1,no_space:!1,percentage:"94%"},Cn={name:"中文（简体）",flag:"🇨🇳",mandatory:!1,no_resize:!1,no_space:!0,percentage:"94%"},co={ab:pn,cz:mn,de:hn,en:un,et:gn,fr:_n,gr:fn,hk_mo:bn,hu:wn,jp:yn,lt:Sn,lv:vn,qen:xn,ro:kn,ru:Rn,ta:In,tr:Mn,tw:Tn,vi:Pn,zh:Cn};let Vi,Yt;const zi={get defaultLanguage(){if(!Fi)throw new Error("Translation API not yet setup");return Vi},translations:{hp18:{name:"HP-18",flag:'<img height="20" src="./img/killfeed/hp18_killfeed.svg" />',percentage:"HP-18%"}}},po=["zh","tw","hk_mo","jp"];let Fi=!1;async function Dn(o){if(Fi){console.error("Translation API already setup");return}Fi=!0,Vi=typeof gt.cv_language=="object"?gt.cv_language.value:gt.cv_language,Yt=o.console.getBuiltInCVar("cv_language");const t=(i,s)=>s.mandatory||i===Yt||i===Vi;for(const[i,s]of await Promise.all(Object.entries(co).map(async([n,r])=>[n,t(n,r)?await(await fetch(`/translations/${n}.json`)).json():r])))zi.translations[i]={...co[i],...s};En()}function C(o,t){var s,n;if(!Fi)return console.error("Translation API not yet setup"),o;if(Yt==="hp18")return"HP-18";if(o.startsWith("emote_"))return Et.reify(o.slice(6)).name;if(o.startsWith("badge_"))return xt.reify(o.slice(6)).name;let i;try{i=((s=zi.translations[Yt])==null?void 0:s[o])??((n=zi.translations[Vi])==null?void 0:n[o])??ge.reify(o).name}catch{return o}if(t===void 0)return i;for(const[r,l]of Object.entries(t))i=i.replaceAll(`<${r}>`,l);return i}function An(o){var d;if(!o.textContent)return;const t=(d=o.parentElement)!=null&&d.classList.contains("tab")?12.5:15,i=10,n=o.textContent.replace(/\s+/g," ").length*i,r=o.getBoundingClientRect().width;let l;switch(Yt){case"ta":l=U.clamp(r/n*i,t-2,13);break;default:l=U.clamp(r/n*i,t-2,20);break}o.style.fontSize=`${l}px`}function En(){document.querySelectorAll("body *").forEach(o=>{var s,n;if(!(o instanceof HTMLElement))return;const t=o.getAttribute("translation");if(!t)return;const i=C(t);o[o.getAttribute("use-html")===null?"innerText":"innerHTML"]=i,(o.classList.contains("btn")||(s=o.parentElement)!=null&&s.classList.contains("btn")||(n=o.parentElement)!=null&&n.classList.contains("tab"))&&i.length>=10&&!["en","hp18"].includes(Yt)&&An(o)})}At.disableAutoPause=!0;class On{constructor(t,i,s){c(this,"manager");c(this,"name");c(this,"position");c(this,"falloff");c(this,"maxRange");c(this,"layer");c(this,"speed");c(this,"onEnd");c(this,"dynamic");c(this,"ambient");c(this,"instance");c(this,"stereoFilter");c(this,"ended",!1);if(this.name=t,this.manager=s,this.position=i.position,this.falloff=i.falloff,this.maxRange=i.maxRange,this.layer=i.layer,this.speed=i.speed??1,this.dynamic=i.dynamic,this.ambient=i.ambient,this.onEnd=i.onEnd,this.stereoFilter=new Sr(0),!At.exists(t)){console.warn(`Unknown sound with name ${t}`);return}const n=this.stereoFilter,r=At.play(t,{loaded:(l,d,m)=>{m&&this.init(m)},filters:[n],loop:i.loop,volume:this.volume,speed:this.speed});r instanceof Promise||this.init(r)}get volume(){return this.ambient?this.manager.ambienceVolume:this.manager.sfxVolume}init(t){this.instance=t,t.on("end",()=>{var i;(i=this.onEnd)==null||i.call(this),this.ended=!0}),t.on("stop",()=>{this.ended=!0}),this.update()}update(){if(this.instance)if(this.position){const t=e.sub(this.manager.position,this.position);this.instance.volume=(1-U.clamp(Math.abs(e.length(t)/this.maxRange),0,1))**(1+this.falloff*2)*this.volume,this.stereoFilter.pan=U.clamp(-t.x/this.maxRange,-1,1)}else this.instance.volume=this.volume}setPaused(t){this.instance&&(this.instance.paused=t)}stop(){var t;this.ended||((t=this.instance)==null||t.stop(),this.ended=!0)}}const gi=class gi{constructor(t){c(this,"updatableSounds",new Set);c(this,"sfxVolume");c(this,"ambienceVolume");c(this,"position",e.create(0,0));if(this.game=t,gi._instantiated)throw new Error("Class 'SoundManager' has already been instantiated");gi._instantiated=!0,this.sfxVolume=t.console.getBuiltInCVar("cv_sfx_volume"),this.ambienceVolume=t.console.getBuiltInCVar("cv_ambience_volume"),this.loadSounds()}play(t,i){const s=new On(t,{falloff:1,maxRange:256,dynamic:!1,ambient:!1,layer:this.game.layer??be.Ground,loop:!1,...i},this);return(s.dynamic||s.ambient)&&this.updatableSounds.add(s),s}update(){for(const t of this.updatableSounds){if(t.ended){this.updatableSounds.delete(t);continue}t.update()}}stopAll(){At.stopAll()}loadSounds(){var t;for(const i in Object.assign({"/public/audio/ambience/plumpkin_bunker_ambience.mp3":()=>g(()=>import("./plumpkin_bunker_ambience-BTJXHU5O.js"),[]),"/public/audio/ambience/plumpkin_bunker_pump_ambience.mp3":()=>g(()=>import("./plumpkin_bunker_pump_ambience-a9bbhdwc.js"),[]),"/public/audio/ambience/port_ambience.mp3":()=>g(()=>import("./port_ambience-DxRE8_kz.js"),[]),"/public/audio/ambience/wind_ambience.mp3":()=>g(()=>import("./wind_ambience-DD1M0S_L.js"),[]),"/public/audio/sfx/12g_frag_explosion.mp3":()=>g(()=>import("./12g_frag_explosion-DRCDBVpk.js"),[]),"/public/audio/sfx/airdrop/airdrop_fall.mp3":()=>g(()=>import("./airdrop_fall-Cfh8v9Q_.js"),[]),"/public/audio/sfx/airdrop/airdrop_land.mp3":()=>g(()=>import("./airdrop_land-CvTB-7O-.js"),[]),"/public/audio/sfx/airdrop/airdrop_land_water.mp3":()=>g(()=>import("./airdrop_land_water-C7cuBNnE.js"),[]),"/public/audio/sfx/airdrop/airdrop_plane.mp3":()=>g(()=>import("./airdrop_plane-DX0Hq4Mx.js"),[]),"/public/audio/sfx/airdrop/airdrop_plane_winter.mp3":()=>g(()=>import("./airdrop_plane_winter-BjRg0Ud4.js"),[]),"/public/audio/sfx/airdrop/airdrop_unlock.mp3":()=>g(()=>import("./airdrop_unlock-B_H0pRHr.js"),[]),"/public/audio/sfx/bleed.mp3":()=>g(()=>import("./bleed-E34gxjfU.js"),[]),"/public/audio/sfx/bullet/bullet_whiz_1.mp3":()=>g(()=>import("./bullet_whiz_1-CWPcfiMr.js"),[]),"/public/audio/sfx/bullet/bullet_whiz_2.mp3":()=>g(()=>import("./bullet_whiz_2-BBGc6uKF.js"),[]),"/public/audio/sfx/bullet/bullet_whiz_3.mp3":()=>g(()=>import("./bullet_whiz_3-75dXBIf9.js"),[]),"/public/audio/sfx/bush_rustle.mp3":()=>g(()=>import("./bush_rustle-DFQMkyyC.js"),[]),"/public/audio/sfx/button_press.mp3":()=>g(()=>import("./button_press-By1rnnoR.js"),[]),"/public/audio/sfx/c4_beep.mp3":()=>g(()=>import("./c4_beep-5izGISyf.js"),[]),"/public/audio/sfx/c4_pin.mp3":()=>g(()=>import("./c4_pin-BZLHv_lu.js"),[]),"/public/audio/sfx/ceiling_collapse.mp3":()=>g(()=>import("./ceiling_collapse-BJ6WAd-k.js"),[]),"/public/audio/sfx/detection.mp3":()=>g(()=>import("./detection-Cx79kdcl.js"),[]),"/public/audio/sfx/door/auto_door_close.mp3":()=>g(()=>import("./auto_door_close-ofjXJUez.js"),[]),"/public/audio/sfx/door/auto_door_open.mp3":()=>g(()=>import("./auto_door_open-ofjXJUez.js"),[]),"/public/audio/sfx/door/barn_door_close.mp3":()=>g(()=>import("./barn_door_close-C4ELhJai.js"),[]),"/public/audio/sfx/door/barn_door_open.mp3":()=>g(()=>import("./barn_door_open-b1xgFDqR.js"),[]),"/public/audio/sfx/door/door_close.mp3":()=>g(()=>import("./door_close-Bdjew9qp.js"),[]),"/public/audio/sfx/door/door_open.mp3":()=>g(()=>import("./door_open-D4-xD8pW.js"),[]),"/public/audio/sfx/door/metal_auto_door_close.mp3":()=>g(()=>import("./metal_auto_door_close-ChyA1tk6.js"),[]),"/public/audio/sfx/door/metal_auto_door_open.mp3":()=>g(()=>import("./metal_auto_door_open-D16TVxaD.js"),[]),"/public/audio/sfx/door/metal_door_close.mp3":()=>g(()=>import("./metal_door_close-B82r0bue.js"),[]),"/public/audio/sfx/door/metal_door_open.mp3":()=>g(()=>import("./metal_door_open-DMNRIqaP.js"),[]),"/public/audio/sfx/emote.mp3":()=>g(()=>import("./emote-DsSyIcHb.js"),[]),"/public/audio/sfx/firework_rocket_explode.mp3":()=>g(()=>import("./firework_rocket_explode-DQo0DCD4.js"),[]),"/public/audio/sfx/footsteps/carpet_step_1.mp3":()=>g(()=>import("./carpet_step_1-6ojTkcpR.js"),[]),"/public/audio/sfx/footsteps/carpet_step_2.mp3":()=>g(()=>import("./carpet_step_2-D2M9waYe.js"),[]),"/public/audio/sfx/footsteps/grass_step_1.mp3":()=>g(()=>import("./grass_step_1-Bd4IK0Yz.js"),[]),"/public/audio/sfx/footsteps/grass_step_2.mp3":()=>g(()=>import("./grass_step_2-Be_msxZn.js"),[]),"/public/audio/sfx/footsteps/metal_step_1.mp3":()=>g(()=>import("./metal_step_1-C6ZdMIl-.js"),[]),"/public/audio/sfx/footsteps/metal_step_2.mp3":()=>g(()=>import("./metal_step_2-DZ84GP1J.js"),[]),"/public/audio/sfx/footsteps/sand_step_1.mp3":()=>g(()=>import("./sand_step_1-cIPHmCUG.js"),[]),"/public/audio/sfx/footsteps/sand_step_2.mp3":()=>g(()=>import("./sand_step_2-BO76ldyP.js"),[]),"/public/audio/sfx/footsteps/stone_step_1.mp3":()=>g(()=>import("./stone_step_1-ehUV5al2.js"),[]),"/public/audio/sfx/footsteps/stone_step_2.mp3":()=>g(()=>import("./stone_step_2-DUU2XJ7o.js"),[]),"/public/audio/sfx/footsteps/void_step_1.mp3":()=>g(()=>import("./void_step_1-Bqy_YNQ1.js"),[]),"/public/audio/sfx/footsteps/void_step_2.mp3":()=>g(()=>import("./void_step_2-Bqy_YNQ1.js"),[]),"/public/audio/sfx/footsteps/water_step_1.mp3":()=>g(()=>import("./water_step_1-I5CdpkhV.js"),[]),"/public/audio/sfx/footsteps/water_step_2.mp3":()=>g(()=>import("./water_step_2-gSqzgH1z.js"),[]),"/public/audio/sfx/footsteps/wood_step_1.mp3":()=>g(()=>import("./wood_step_1-oQ0rP6tc.js"),[]),"/public/audio/sfx/footsteps/wood_step_2.mp3":()=>g(()=>import("./wood_step_2-BmSB4DKm.js"),[]),"/public/audio/sfx/frag_grenade.mp3":()=>g(()=>import("./frag_grenade-D6AsnVRc.js"),[]),"/public/audio/sfx/generator_running.mp3":()=>g(()=>import("./generator_running-SPRjclEL.js"),[]),"/public/audio/sfx/generator_starting.mp3":()=>g(()=>import("./generator_starting-B1a3-FWe.js"),[]),"/public/audio/sfx/gun_click.mp3":()=>g(()=>import("./gun_click-D2VOerce.js"),[]),"/public/audio/sfx/healing/cola.mp3":()=>g(()=>import("./cola-C2ZU6xGd.js"),[]),"/public/audio/sfx/healing/gauze.mp3":()=>g(()=>import("./gauze-dTY3NPkk.js"),[]),"/public/audio/sfx/healing/medikit.mp3":()=>g(()=>import("./medikit-CmaJbOxo.js"),[]),"/public/audio/sfx/healing/tablets.mp3":()=>g(()=>import("./tablets-CQ6-K-hR.js"),[]),"/public/audio/sfx/heavy_swing.mp3":()=>g(()=>import("./heavy_swing-BVXr_OqJ.js"),[]),"/public/audio/sfx/hits/appliance_destroyed.mp3":()=>g(()=>import("./appliance_destroyed-CL2kkHzj.js"),[]),"/public/audio/sfx/hits/appliance_hit_1.mp3":()=>g(()=>import("./appliance_hit_1-CdxTJW10.js"),[]),"/public/audio/sfx/hits/appliance_hit_2.mp3":()=>g(()=>import("./appliance_hit_2-C0w_kMAg.js"),[]),"/public/audio/sfx/hits/bush_destroyed.mp3":()=>g(()=>import("./bush_destroyed-DrfarcJA.js"),[]),"/public/audio/sfx/hits/bush_hit_1.mp3":()=>g(()=>import("./bush_hit_1-CApO8l3k.js"),[]),"/public/audio/sfx/hits/bush_hit_2.mp3":()=>g(()=>import("./bush_hit_2-4zF0TfXf.js"),[]),"/public/audio/sfx/hits/crate_destroyed.mp3":()=>g(()=>import("./crate_destroyed-B-s303Hj.js"),[]),"/public/audio/sfx/hits/fence_destroyed.mp3":()=>g(()=>import("./fence_destroyed-CBrbhvUx.js"),[]),"/public/audio/sfx/hits/fence_hit_1.mp3":()=>g(()=>import("./fence_hit_1-DCaVaOsH.js"),[]),"/public/audio/sfx/hits/fence_hit_2.mp3":()=>g(()=>import("./fence_hit_2-C4wLubxK.js"),[]),"/public/audio/sfx/hits/glass_destroyed.mp3":()=>g(()=>import("./glass_destroyed-Bd469GlM.js"),[]),"/public/audio/sfx/hits/glass_hit_1.mp3":()=>g(()=>import("./glass_hit_1-DiUNtY6E.js"),[]),"/public/audio/sfx/hits/glass_hit_2.mp3":()=>g(()=>import("./glass_hit_2-B22J_cbt.js"),[]),"/public/audio/sfx/hits/metal_heavy_destroyed.mp3":()=>g(()=>import("./metal_heavy_destroyed-BZECzThi.js"),[]),"/public/audio/sfx/hits/metal_heavy_hit_1.mp3":()=>g(()=>import("./metal_heavy_hit_1-CC8F7v2c.js"),[]),"/public/audio/sfx/hits/metal_heavy_hit_2.mp3":()=>g(()=>import("./metal_heavy_hit_2-eRvETChe.js"),[]),"/public/audio/sfx/hits/metal_light_destroyed.mp3":()=>g(()=>import("./metal_light_destroyed-CVtltwU2.js"),[]),"/public/audio/sfx/hits/metal_light_hit_1.mp3":()=>g(()=>import("./metal_light_hit_1-DF1yhhPn.js"),[]),"/public/audio/sfx/hits/metal_light_hit_2.mp3":()=>g(()=>import("./metal_light_hit_2-BIqymFZE.js"),[]),"/public/audio/sfx/hits/piano_hit_1.mp3":()=>g(()=>import("./piano_hit_1-BbSfZabl.js"),[]),"/public/audio/sfx/hits/piano_hit_2.mp3":()=>g(()=>import("./piano_hit_2-BwMmMuJc.js"),[]),"/public/audio/sfx/hits/piano_hit_3.mp3":()=>g(()=>import("./piano_hit_3-Ds50uOEr.js"),[]),"/public/audio/sfx/hits/piano_hit_4.mp3":()=>g(()=>import("./piano_hit_4-Bk6J0vZB.js"),[]),"/public/audio/sfx/hits/piano_hit_5.mp3":()=>g(()=>import("./piano_hit_5-CRbapOvn.js"),[]),"/public/audio/sfx/hits/piano_hit_6.mp3":()=>g(()=>import("./piano_hit_6-BrLphBRP.js"),[]),"/public/audio/sfx/hits/piano_hit_7.mp3":()=>g(()=>import("./piano_hit_7-Ds0Emb85.js"),[]),"/public/audio/sfx/hits/piano_hit_8.mp3":()=>g(()=>import("./piano_hit_8-z3iwjYbJ.js"),[]),"/public/audio/sfx/hits/player_hit_1.mp3":()=>g(()=>import("./player_hit_1-CKLjZap5.js"),[]),"/public/audio/sfx/hits/player_hit_2.mp3":()=>g(()=>import("./player_hit_2-CjniS-2s.js"),[]),"/public/audio/sfx/hits/porcelain_destroyed.mp3":()=>g(()=>import("./porcelain_destroyed-CQ-RjEZ4.js"),[]),"/public/audio/sfx/hits/porcelain_hit_1.mp3":()=>g(()=>import("./porcelain_hit_1-C1ngR21C.js"),[]),"/public/audio/sfx/hits/porcelain_hit_2.mp3":()=>g(()=>import("./porcelain_hit_2-Cb_X6rw8.js"),[]),"/public/audio/sfx/hits/pumpkin_destroyed.mp3":()=>g(()=>import("./pumpkin_destroyed-BbkkDsey.js"),[]),"/public/audio/sfx/hits/sand_hit_1.mp3":()=>g(()=>import("./sand_hit_1-D-BvtzkW.js"),[]),"/public/audio/sfx/hits/sand_hit_2.mp3":()=>g(()=>import("./sand_hit_2-CQUJHw5p.js"),[]),"/public/audio/sfx/hits/stone_destroyed.mp3":()=>g(()=>import("./stone_destroyed-Cj2ejWFx.js"),[]),"/public/audio/sfx/hits/stone_hit_1.mp3":()=>g(()=>import("./stone_hit_1-BmV_8pQx.js"),[]),"/public/audio/sfx/hits/stone_hit_2.mp3":()=>g(()=>import("./stone_hit_2-BBEywzF2.js"),[]),"/public/audio/sfx/hits/trash_bag_destroyed.mp3":()=>g(()=>import("./trash_bag_destroyed-CmOf0-p5.js"),[]),"/public/audio/sfx/hits/tree_destroyed.mp3":()=>g(()=>import("./tree_destroyed-BaszeO-Z.js"),[]),"/public/audio/sfx/hits/tree_hit_1.mp3":()=>g(()=>import("./tree_hit_1-B6WvqHWA.js"),[]),"/public/audio/sfx/hits/tree_hit_2.mp3":()=>g(()=>import("./tree_hit_2-DBV_lYMc.js"),[]),"/public/audio/sfx/hits/wood_destroyed.mp3":()=>g(()=>import("./wood_destroyed-DrzFAjpG.js"),[]),"/public/audio/sfx/hits/wood_hit_1.mp3":()=>g(()=>import("./wood_hit_1-x9Q2rZrf.js"),[]),"/public/audio/sfx/hits/wood_hit_2.mp3":()=>g(()=>import("./wood_hit_2-CHqccbyw.js"),[]),"/public/audio/sfx/join_notification.mp3":()=>g(()=>import("./join_notification-CB8CxOzv.js"),[]),"/public/audio/sfx/kill_leader_assigned.mp3":()=>g(()=>import("./kill_leader_assigned-bapxCkwu.js"),[]),"/public/audio/sfx/kill_leader_dead.mp3":()=>g(()=>import("./kill_leader_dead-B2H1sjz5.js"),[]),"/public/audio/sfx/pickup/ammo_pickup.mp3":()=>g(()=>import("./ammo_pickup-BTLYaHja.js"),[]),"/public/audio/sfx/pickup/backpack_pickup.mp3":()=>g(()=>import("./backpack_pickup-DGTxEz83.js"),[]),"/public/audio/sfx/pickup/cola_pickup.mp3":()=>g(()=>import("./cola_pickup-94up1JC0.js"),[]),"/public/audio/sfx/pickup/gauze_pickup.mp3":()=>g(()=>import("./gauze_pickup-C8MMhc7l.js"),[]),"/public/audio/sfx/pickup/grenade_pickup.mp3":()=>g(()=>import("./grenade_pickup-C42gCWuK.js"),[]),"/public/audio/sfx/pickup/helmet_pickup.mp3":()=>g(()=>import("./helmet_pickup-hXKgM-lv.js"),[]),"/public/audio/sfx/pickup/medikit_pickup.mp3":()=>g(()=>import("./medikit_pickup-C-g5Ncw8.js"),[]),"/public/audio/sfx/pickup/pickup.mp3":()=>g(()=>import("./pickup-uec3Ww0L.js"),[]),"/public/audio/sfx/pickup/scope_pickup.mp3":()=>g(()=>import("./scope_pickup-Ce81SiAr.js"),[]),"/public/audio/sfx/pickup/tablets_pickup.mp3":()=>g(()=>import("./tablets_pickup-BTMSifaV.js"),[]),"/public/audio/sfx/pickup/throwable_pickup.mp3":()=>g(()=>import("./throwable_pickup-BEkXx_Fk.js"),[]),"/public/audio/sfx/pickup/vest_pickup.mp3":()=>g(()=>import("./vest_pickup-BwHBUHA8.js"),[]),"/public/audio/sfx/pings/airdrop_ping.mp3":()=>g(()=>import("./airdrop_ping-CcZhumtW.js"),[]),"/public/audio/sfx/pings/arrow_ping.mp3":()=>g(()=>import("./arrow_ping-CSt8zUoN.js"),[]),"/public/audio/sfx/pings/gift_ping.mp3":()=>g(()=>import("./gift_ping-DFoBvj3x.js"),[]),"/public/audio/sfx/pings/heal_ping.mp3":()=>g(()=>import("./heal_ping-BjSJ1xMK.js"),[]),"/public/audio/sfx/pings/warning_ping.mp3":()=>g(()=>import("./warning_ping-C-N3CEIS.js"),[]),"/public/audio/sfx/pumpkin_bomb.mp3":()=>g(()=>import("./pumpkin_bomb-OgJLWpLY.js"),[]),"/public/audio/sfx/puzzle_error.mp3":()=>g(()=>import("./puzzle_error-DNRuqCJu.js"),[]),"/public/audio/sfx/puzzle_solved.mp3":()=>g(()=>import("./puzzle_solved-BIyC8uYB.js"),[]),"/public/audio/sfx/recorder_buzz.mp3":()=>g(()=>import("./recorder_buzz-DBAGf5He.js"),[]),"/public/audio/sfx/smoke_grenade.mp3":()=>g(()=>import("./smoke_grenade-DZ7wM5xJ.js"),[]),"/public/audio/sfx/soft_swing.mp3":()=>g(()=>import("./soft_swing-iPBRjQUU.js"),[]),"/public/audio/sfx/speaker.mp3":()=>g(()=>import("./speaker-DPHTgthU.js"),[]),"/public/audio/sfx/speaker_start.mp3":()=>g(()=>import("./speaker_start-DIJwEc9U.js"),[]),"/public/audio/sfx/swing.mp3":()=>g(()=>import("./swing-Cn0WnNtr.js"),[]),"/public/audio/sfx/tent_collapse.mp3":()=>g(()=>import("./tent_collapse-BQ1lkwlC.js"),[]),"/public/audio/sfx/throwable_pin.mp3":()=>g(()=>import("./throwable_pin-BmQruZag.js"),[]),"/public/audio/sfx/throwable_throw.mp3":()=>g(()=>import("./throwable_throw-D_s6Ak_m.js"),[]),"/public/audio/sfx/vault_door_open.mp3":()=>g(()=>import("./vault_door_open-C7mbypoe.js"),[]),"/public/audio/sfx/weapons/acr_fire.mp3":()=>g(()=>import("./acr_fire-Cd0ZGOPs.js"),[]),"/public/audio/sfx/weapons/acr_reload.mp3":()=>g(()=>import("./acr_reload-XpZiV_q6.js"),[]),"/public/audio/sfx/weapons/acr_switch.mp3":()=>g(()=>import("./acr_switch-DFMeuPRR.js"),[]),"/public/audio/sfx/weapons/ak47_fire.mp3":()=>g(()=>import("./ak47_fire-D32A5v-f.js"),[]),"/public/audio/sfx/weapons/ak47_reload.mp3":()=>g(()=>import("./ak47_reload-BM65b6Ix.js"),[]),"/public/audio/sfx/weapons/ak47_switch.mp3":()=>g(()=>import("./ak47_switch-lKtfnWUz.js"),[]),"/public/audio/sfx/weapons/arx160_fire.mp3":()=>g(()=>import("./arx160_fire-B-nO5Tzn.js"),[]),"/public/audio/sfx/weapons/arx160_reload.mp3":()=>g(()=>import("./arx160_reload-CCkvQgVU.js"),[]),"/public/audio/sfx/weapons/arx160_switch.mp3":()=>g(()=>import("./arx160_switch-CgDb7SOc.js"),[]),"/public/audio/sfx/weapons/aug_fire.mp3":()=>g(()=>import("./aug_fire-JX9bVukU.js"),[]),"/public/audio/sfx/weapons/aug_reload.mp3":()=>g(()=>import("./aug_reload-CvD9aF2e.js"),[]),"/public/audio/sfx/weapons/aug_switch.mp3":()=>g(()=>import("./aug_switch-D9iytuRB.js"),[]),"/public/audio/sfx/weapons/chainsaw.mp3":()=>g(()=>import("./chainsaw-DU02JESi.js"),[]),"/public/audio/sfx/weapons/chainsaw_stop.mp3":()=>g(()=>import("./chainsaw_stop-DR8JOKfF.js"),[]),"/public/audio/sfx/weapons/chainsaw_switch.mp3":()=>g(()=>import("./chainsaw_switch-B5pKaBDB.js"),[]),"/public/audio/sfx/weapons/crowbar_switch.mp3":()=>g(()=>import("./crowbar_switch-CCrY2kuB.js"),[]),"/public/audio/sfx/weapons/cz600_fire.mp3":()=>g(()=>import("./cz600_fire-Dc45E5iR.js"),[]),"/public/audio/sfx/weapons/cz600_reload.mp3":()=>g(()=>import("./cz600_reload-pOmRwLtW.js"),[]),"/public/audio/sfx/weapons/cz600_switch.mp3":()=>g(()=>import("./cz600_switch-Hp3jbl6n.js"),[]),"/public/audio/sfx/weapons/cz75a_fire.mp3":()=>g(()=>import("./cz75a_fire-JkXruQxs.js"),[]),"/public/audio/sfx/weapons/cz75a_reload.mp3":()=>g(()=>import("./cz75a_reload-BqxWuedl.js"),[]),"/public/audio/sfx/weapons/cz75a_switch.mp3":()=>g(()=>import("./cz75a_switch-DVrw0CSY.js"),[]),"/public/audio/sfx/weapons/deagle_fire.mp3":()=>g(()=>import("./deagle_fire-C9TwzP2e.js"),[]),"/public/audio/sfx/weapons/deagle_reload.mp3":()=>g(()=>import("./deagle_reload-BUqH0N3l.js"),[]),"/public/audio/sfx/weapons/deagle_switch.mp3":()=>g(()=>import("./deagle_switch-DQJEohM4.js"),[]),"/public/audio/sfx/weapons/death_ray_fire.mp3":()=>g(()=>import("./death_ray_fire-Cnj7DLf2.js"),[]),"/public/audio/sfx/weapons/death_ray_reload.mp3":()=>g(()=>import("./death_ray_reload-DnjCGNxz.js"),[]),"/public/audio/sfx/weapons/death_ray_switch.mp3":()=>g(()=>import("./death_ray_switch-Dy-nhhLm.js"),[]),"/public/audio/sfx/weapons/destroyer_of_worlds_fire.mp3":()=>g(()=>import("./destroyer_of_worlds_fire-D71d1mzw.js"),[]),"/public/audio/sfx/weapons/destroyer_of_worlds_reload.mp3":()=>g(()=>import("./destroyer_of_worlds_reload-y3x3jUhb.js"),[]),"/public/audio/sfx/weapons/destroyer_of_worlds_switch.mp3":()=>g(()=>import("./destroyer_of_worlds_switch-B9suIDgt.js"),[]),"/public/audio/sfx/weapons/dt11_fire.mp3":()=>g(()=>import("./dt11_fire-BQmiJxSm.js"),[]),"/public/audio/sfx/weapons/dt11_reload.mp3":()=>g(()=>import("./dt11_reload-C5W5vX2e.js"),[]),"/public/audio/sfx/weapons/dt11_switch.mp3":()=>g(()=>import("./dt11_switch-DtvqoLel.js"),[]),"/public/audio/sfx/weapons/dual_cz75a_reload.mp3":()=>g(()=>import("./dual_cz75a_reload-DDT4ZEq1.js"),[]),"/public/audio/sfx/weapons/dual_deagle_reload.mp3":()=>g(()=>import("./dual_deagle_reload-D4RqUyxb.js"),[]),"/public/audio/sfx/weapons/dual_g19_reload.mp3":()=>g(()=>import("./dual_g19_reload-DbKBo6dw.js"),[]),"/public/audio/sfx/weapons/dual_m1895_reload.mp3":()=>g(()=>import("./dual_m1895_reload-BysdXKUr.js"),[]),"/public/audio/sfx/weapons/dual_rsh12_reload.mp3":()=>g(()=>import("./dual_rsh12_reload-ljHrx_fn.js"),[]),"/public/audio/sfx/weapons/dual_s_g17_reload.mp3":()=>g(()=>import("./dual_s_g17_reload-BrAhcJTA.js"),[]),"/public/audio/sfx/weapons/falchion_switch.mp3":()=>g(()=>import("./falchion_switch-CmlIa6Tv.js"),[]),"/public/audio/sfx/weapons/fire_hatchet_switch.mp3":()=>g(()=>import("./fire_hatchet_switch-2Rpeskfb.js"),[]),"/public/audio/sfx/weapons/firework_launcher_fire.mp3":()=>g(()=>import("./firework_launcher_fire-BWt4BAhO.js"),[]),"/public/audio/sfx/weapons/firework_launcher_reload.mp3":()=>g(()=>import("./firework_launcher_reload-BCbgeVF7.js"),[]),"/public/audio/sfx/weapons/firework_launcher_switch.mp3":()=>g(()=>import("./firework_launcher_switch-DF8UdrId.js"),[]),"/public/audio/sfx/weapons/flues_fire.mp3":()=>g(()=>import("./flues_fire-dY0lJGUV.js"),[]),"/public/audio/sfx/weapons/flues_reload.mp3":()=>g(()=>import("./flues_reload-B4X2OnHg.js"),[]),"/public/audio/sfx/weapons/flues_switch.mp3":()=>g(()=>import("./flues_switch-C5YfOcgo.js"),[]),"/public/audio/sfx/weapons/g17_scoped_fire.mp3":()=>g(()=>import("./g17_scoped_fire-BNCzJFxd.js"),[]),"/public/audio/sfx/weapons/g17_scoped_reload.mp3":()=>g(()=>import("./g17_scoped_reload-DL-K-LWe.js"),[]),"/public/audio/sfx/weapons/g17_scoped_switch.mp3":()=>g(()=>import("./g17_scoped_switch-Cea3EhOU.js"),[]),"/public/audio/sfx/weapons/g19_fire.mp3":()=>g(()=>import("./g19_fire-B4eN13f9.js"),[]),"/public/audio/sfx/weapons/g19_reload.mp3":()=>g(()=>import("./g19_reload-DfQTHNa8.js"),[]),"/public/audio/sfx/weapons/g19_switch.mp3":()=>g(()=>import("./g19_switch-CajVr7T6.js"),[]),"/public/audio/sfx/weapons/gas_can_switch.mp3":()=>g(()=>import("./gas_can_switch-zmxJt-Vv.js"),[]),"/public/audio/sfx/weapons/hatchet_switch.mp3":()=>g(()=>import("./hatchet_switch-D5G2kpF_.js"),[]),"/public/audio/sfx/weapons/hp18_fire.mp3":()=>g(()=>import("./hp18_fire-DYyswi3g.js"),[]),"/public/audio/sfx/weapons/hp18_reload.mp3":()=>g(()=>import("./hp18_reload-Dfl-vXRk.js"),[]),"/public/audio/sfx/weapons/hp18_switch.mp3":()=>g(()=>import("./hp18_switch-CePZpGKH.js"),[]),"/public/audio/sfx/weapons/kbar_switch.mp3":()=>g(()=>import("./kbar_switch-Bez-DlKD.js"),[]),"/public/audio/sfx/weapons/l115a1_fire.mp3":()=>g(()=>import("./l115a1_fire-OMUH7Ymb.js"),[]),"/public/audio/sfx/weapons/l115a1_reload.mp3":()=>g(()=>import("./l115a1_reload-B_CaxXrh.js"),[]),"/public/audio/sfx/weapons/l115a1_switch.mp3":()=>g(()=>import("./l115a1_switch-BCz8TE9s.js"),[]),"/public/audio/sfx/weapons/lewis_gun_fire.mp3":()=>g(()=>import("./lewis_gun_fire-DXL3L9Eb.js"),[]),"/public/audio/sfx/weapons/lewis_gun_reload.mp3":()=>g(()=>import("./lewis_gun_reload-D9Nqz9mA.js"),[]),"/public/audio/sfx/weapons/lewis_gun_switch.mp3":()=>g(()=>import("./lewis_gun_switch-D5mMWBde.js"),[]),"/public/audio/sfx/weapons/m16a4_fire.mp3":()=>g(()=>import("./m16a4_fire-WGtJTMLC.js"),[]),"/public/audio/sfx/weapons/m16a4_reload.mp3":()=>g(()=>import("./m16a4_reload-B-Ok5XpO.js"),[]),"/public/audio/sfx/weapons/m16a4_switch.mp3":()=>g(()=>import("./m16a4_switch-1-GMfRmG.js"),[]),"/public/audio/sfx/weapons/m1895_fire.mp3":()=>g(()=>import("./m1895_fire-aSagu5G0.js"),[]),"/public/audio/sfx/weapons/m1895_reload.mp3":()=>g(()=>import("./m1895_reload-3PMSlOZM.js"),[]),"/public/audio/sfx/weapons/m1895_switch.mp3":()=>g(()=>import("./m1895_switch-BE8WKCq4.js"),[]),"/public/audio/sfx/weapons/m1_garand_fire.mp3":()=>g(()=>import("./m1_garand_fire-nInzDC_5.js"),[]),"/public/audio/sfx/weapons/m1_garand_fire_last.mp3":()=>g(()=>import("./m1_garand_fire_last-wSZxGFp-.js"),[]),"/public/audio/sfx/weapons/m1_garand_reload.mp3":()=>g(()=>import("./m1_garand_reload-ZxCEqUSr.js"),[]),"/public/audio/sfx/weapons/m1_garand_switch.mp3":()=>g(()=>import("./m1_garand_switch-Bi7Zb9FA.js"),[]),"/public/audio/sfx/weapons/m3k_fire.mp3":()=>g(()=>import("./m3k_fire-DnnuT5aN.js"),[]),"/public/audio/sfx/weapons/m3k_reload.mp3":()=>g(()=>import("./m3k_reload-klXjFvWV.js"),[]),"/public/audio/sfx/weapons/m3k_switch.mp3":()=>g(()=>import("./m3k_switch-D-A3gnsz.js"),[]),"/public/audio/sfx/weapons/m590m_fire.mp3":()=>g(()=>import("./m590m_fire-BKHhtdOj.js"),[]),"/public/audio/sfx/weapons/m590m_reload.mp3":()=>g(()=>import("./m590m_reload-Cvg160rV.js"),[]),"/public/audio/sfx/weapons/m590m_switch.mp3":()=>g(()=>import("./m590m_switch-Bcd2yrBw.js"),[]),"/public/audio/sfx/weapons/mcx_spear_fire.mp3":()=>g(()=>import("./mcx_spear_fire-zpdf5m9Z.js"),[]),"/public/audio/sfx/weapons/mcx_spear_reload.mp3":()=>g(()=>import("./mcx_spear_reload-Cg4zjUth.js"),[]),"/public/audio/sfx/weapons/mcx_spear_switch.mp3":()=>g(()=>import("./mcx_spear_switch-CY6389gM.js"),[]),"/public/audio/sfx/weapons/mg36_fire.mp3":()=>g(()=>import("./mg36_fire-BPp48UuT.js"),[]),"/public/audio/sfx/weapons/mg36_reload.mp3":()=>g(()=>import("./mg36_reload-DbKCwDL8.js"),[]),"/public/audio/sfx/weapons/mg36_switch.mp3":()=>g(()=>import("./mg36_switch-BekuL54l.js"),[]),"/public/audio/sfx/weapons/mg5_fire.mp3":()=>g(()=>import("./mg5_fire-BL2kz6FC.js"),[]),"/public/audio/sfx/weapons/mg5_reload.mp3":()=>g(()=>import("./mg5_reload-CEmzqTaK.js"),[]),"/public/audio/sfx/weapons/mg5_switch.mp3":()=>g(()=>import("./mg5_switch-BQk2LmT9.js"),[]),"/public/audio/sfx/weapons/micro_uzi_fire.mp3":()=>g(()=>import("./micro_uzi_fire-CjDT6IW4.js"),[]),"/public/audio/sfx/weapons/micro_uzi_reload.mp3":()=>g(()=>import("./micro_uzi_reload-Cb3OA6-C.js"),[]),"/public/audio/sfx/weapons/micro_uzi_switch.mp3":()=>g(()=>import("./micro_uzi_switch-kJiqwMh-.js"),[]),"/public/audio/sfx/weapons/mini14_fire.mp3":()=>g(()=>import("./mini14_fire-CD84G9E6.js"),[]),"/public/audio/sfx/weapons/mini14_reload.mp3":()=>g(()=>import("./mini14_reload-Dh_c3CjE.js"),[]),"/public/audio/sfx/weapons/mini14_switch.mp3":()=>g(()=>import("./mini14_switch-DoK2dBQ8.js"),[]),"/public/audio/sfx/weapons/mk18_fire.mp3":()=>g(()=>import("./mk18_fire-D_vcyEy7.js"),[]),"/public/audio/sfx/weapons/mk18_reload.mp3":()=>g(()=>import("./mk18_reload-Cek_k827.js"),[]),"/public/audio/sfx/weapons/mk18_switch.mp3":()=>g(()=>import("./mk18_switch-CRIW0lvM.js"),[]),"/public/audio/sfx/weapons/model_37_fire.mp3":()=>g(()=>import("./model_37_fire-CwLbTrrH.js"),[]),"/public/audio/sfx/weapons/model_37_reload.mp3":()=>g(()=>import("./model_37_reload-oKw4DAXi.js"),[]),"/public/audio/sfx/weapons/model_37_switch.mp3":()=>g(()=>import("./model_37_switch-DAnRGk2V.js"),[]),"/public/audio/sfx/weapons/model_89_fire.mp3":()=>g(()=>import("./model_89_fire-CAaFXogl.js"),[]),"/public/audio/sfx/weapons/model_89_reload.mp3":()=>g(()=>import("./model_89_reload-B4HmvH-h.js"),[]),"/public/audio/sfx/weapons/model_89_switch.mp3":()=>g(()=>import("./model_89_switch-CM8p1iqi.js"),[]),"/public/audio/sfx/weapons/mosin_nagant_fire.mp3":()=>g(()=>import("./mosin_nagant_fire-D-w20VMh.js"),[]),"/public/audio/sfx/weapons/mosin_nagant_reload.mp3":()=>g(()=>import("./mosin_nagant_reload-4JJrq0O9.js"),[]),"/public/audio/sfx/weapons/mosin_nagant_reload_full.mp3":()=>g(()=>import("./mosin_nagant_reload_full-BZJ7C9jN.js"),[]),"/public/audio/sfx/weapons/mosin_nagant_switch.mp3":()=>g(()=>import("./mosin_nagant_switch-B2Fhx1B6.js"),[]),"/public/audio/sfx/weapons/mp40_fire.mp3":()=>g(()=>import("./mp40_fire-DGoy52f-.js"),[]),"/public/audio/sfx/weapons/mp40_reload.mp3":()=>g(()=>import("./mp40_reload-Bzf9_LqF.js"),[]),"/public/audio/sfx/weapons/mp40_switch.mp3":()=>g(()=>import("./mp40_switch-nyjM7GIH.js"),[]),"/public/audio/sfx/weapons/negev_fire.mp3":()=>g(()=>import("./negev_fire-CmY1Wqj2.js"),[]),"/public/audio/sfx/weapons/negev_reload.mp3":()=>g(()=>import("./negev_reload-MO_gJZhq.js"),[]),"/public/audio/sfx/weapons/negev_switch.mp3":()=>g(()=>import("./negev_switch-GXOEE_cD.js"),[]),"/public/audio/sfx/weapons/pp19_fire.mp3":()=>g(()=>import("./pp19_fire-BtWnBHUN.js"),[]),"/public/audio/sfx/weapons/pp19_reload.mp3":()=>g(()=>import("./pp19_reload-DWPb3xp6.js"),[]),"/public/audio/sfx/weapons/pp19_switch.mp3":()=>g(()=>import("./pp19_switch-BrGNaQAt.js"),[]),"/public/audio/sfx/weapons/radio_fire.mp3":()=>g(()=>import("./radio_fire-Dg6bWgRq.js"),[]),"/public/audio/sfx/weapons/radio_reload.mp3":()=>g(()=>import("./radio_reload-DbImtR3M.js"),[]),"/public/audio/sfx/weapons/radio_switch.mp3":()=>g(()=>import("./radio_switch-BbLA6PJp.js"),[]),"/public/audio/sfx/weapons/revitalizer_fire.mp3":()=>g(()=>import("./revitalizer_fire-CwLbTrrH.js"),[]),"/public/audio/sfx/weapons/revitalizer_reload.mp3":()=>g(()=>import("./revitalizer_reload-oKw4DAXi.js"),[]),"/public/audio/sfx/weapons/revitalizer_switch.mp3":()=>g(()=>import("./revitalizer_switch-DAnRGk2V.js"),[]),"/public/audio/sfx/weapons/rsh12_fire.mp3":()=>g(()=>import("./rsh12_fire-_11kJI6K.js"),[]),"/public/audio/sfx/weapons/rsh12_reload.mp3":()=>g(()=>import("./rsh12_reload-pValOouH.js"),[]),"/public/audio/sfx/weapons/rsh12_switch.mp3":()=>g(()=>import("./rsh12_switch-xTtvUBf7.js"),[]),"/public/audio/sfx/weapons/saf200_fire.mp3":()=>g(()=>import("./saf200_fire-BZCKRPfy.js"),[]),"/public/audio/sfx/weapons/saf200_reload.mp3":()=>g(()=>import("./saf200_reload-DNW4Z5w_.js"),[]),"/public/audio/sfx/weapons/saf200_switch.mp3":()=>g(()=>import("./saf200_switch-DLGWxqC6.js"),[]),"/public/audio/sfx/weapons/sks_fire.mp3":()=>g(()=>import("./sks_fire-DP1bTT2m.js"),[]),"/public/audio/sfx/weapons/sks_reload.mp3":()=>g(()=>import("./sks_reload-Ckuu3vLM.js"),[]),"/public/audio/sfx/weapons/sks_reload_full.mp3":()=>g(()=>import("./sks_reload_full-QlKpgK7f.js"),[]),"/public/audio/sfx/weapons/sks_switch.mp3":()=>g(()=>import("./sks_switch-CB3zOQGL.js"),[]),"/public/audio/sfx/weapons/sr25_fire.mp3":()=>g(()=>import("./sr25_fire-GQvaGZwe.js"),[]),"/public/audio/sfx/weapons/sr25_reload.mp3":()=>g(()=>import("./sr25_reload-DVs02AKY.js"),[]),"/public/audio/sfx/weapons/sr25_switch.mp3":()=>g(()=>import("./sr25_switch-BT4dExLI.js"),[]),"/public/audio/sfx/weapons/stoner_63_fire.mp3":()=>g(()=>import("./stoner_63_fire-Cq8q7th0.js"),[]),"/public/audio/sfx/weapons/stoner_63_reload.mp3":()=>g(()=>import("./stoner_63_reload-wYyBXuyI.js"),[]),"/public/audio/sfx/weapons/stoner_63_switch.mp3":()=>g(()=>import("./stoner_63_switch-C_-3zp1D.js"),[]),"/public/audio/sfx/weapons/tango_51_fire.mp3":()=>g(()=>import("./tango_51_fire-n_Hzrdfd.js"),[]),"/public/audio/sfx/weapons/tango_51_reload.mp3":()=>g(()=>import("./tango_51_reload-Cj-V9Ly0.js"),[]),"/public/audio/sfx/weapons/tango_51_switch.mp3":()=>g(()=>import("./tango_51_switch-CgYqSUBB.js"),[]),"/public/audio/sfx/weapons/throwable_switch.mp3":()=>g(()=>import("./throwable_switch-BEkXx_Fk.js"),[]),"/public/audio/sfx/weapons/usas12_fire.mp3":()=>g(()=>import("./usas12_fire-lGwzxyfA.js"),[]),"/public/audio/sfx/weapons/usas12_reload.mp3":()=>g(()=>import("./usas12_reload-fbOCL-LL.js"),[]),"/public/audio/sfx/weapons/usas12_switch.mp3":()=>g(()=>import("./usas12_switch-CsQO9k0l.js"),[]),"/public/audio/sfx/weapons/vector_fire.mp3":()=>g(()=>import("./vector_fire-B1zCAxcF.js"),[]),"/public/audio/sfx/weapons/vector_reload.mp3":()=>g(()=>import("./vector_reload-5OnZWKko.js"),[]),"/public/audio/sfx/weapons/vector_switch.mp3":()=>g(()=>import("./vector_switch-HmVmGUBK.js"),[]),"/public/audio/sfx/weapons/vepr12_fire.mp3":()=>g(()=>import("./vepr12_fire-DB76XlxD.js"),[]),"/public/audio/sfx/weapons/vepr12_reload.mp3":()=>g(()=>import("./vepr12_reload-Cy8cGXiY.js"),[]),"/public/audio/sfx/weapons/vepr12_switch.mp3":()=>g(()=>import("./vepr12_switch-BDS3KUWC.js"),[]),"/public/audio/sfx/weapons/vks_fire.mp3":()=>g(()=>import("./vks_fire-CmACWFHX.js"),[]),"/public/audio/sfx/weapons/vks_reload.mp3":()=>g(()=>import("./vks_reload-D3R9dsF8.js"),[]),"/public/audio/sfx/weapons/vks_switch.mp3":()=>g(()=>import("./vks_switch-CVJ9ABiJ.js"),[]),"/public/audio/sfx/weapons/vss_fire.mp3":()=>g(()=>import("./vss_fire-DTz0LnIG.js"),[]),"/public/audio/sfx/weapons/vss_reload.mp3":()=>g(()=>import("./vss_reload-CwOQwwgl.js"),[]),"/public/audio/sfx/weapons/vss_switch.mp3":()=>g(()=>import("./vss_switch-C0F-_3aw.js"),[])})){let s=!1;const n=i.slice(i.lastIndexOf("/")+1,-4);let r=i.slice(7);(t=ut.specialSounds)!=null&&t.includes(n)&&(r=r.replace(n,`${n}_${ut.reskin}`)),At.add(n,{url:r,preload:!0,loaded(l){l!==null&&!s&&(s=!0,console.warn(`Failed to load sound '${n}' (path '${r}')
Error object provided below`),console.error(l))}})}}};c(gi,"_instantiated",!1);let fa=gi;const Ln=()=>{const t=class t{constructor(){if(!Object.values(t._subclasses).some(s=>new.target.prototype instanceof s))throw new Error(`Illegal subclass of BaseGameObject '${new.target.name}'; subclasses must be obtained by calling BaseGameObject.derive, or must be a subclass thereof`)}static derive(s){if(s in t._subclasses)throw new Error(`Subclass for category '${Y[s]}' already registered`);return t._subclasses[s]=class extends this{constructor(...r){super(...r);c(this,"type",s);this[`is${Y[s]}`]=!0}}}};c(t,"_subclasses",{});let o=t;return o},qt={},Vn=_("#loading-text");async function zn(o,t){if(o.type===bo.WEBGL){const r=o.gl;r.getParameter(r.MAX_TEXTURE_SIZE)<4096&&(t=!1)}const i=t?(await g(async()=>{const{atlases:r}=await import("./_virtual_spritesheets-jsons-high-res-BLhQ51iW.js");return{atlases:r}},[])).atlases:(await g(async()=>{const{atlases:r}=await import("./_virtual_spritesheets-jsons-low-res-B3itv_QY.js");return{atlases:r}},[])).atlases;let s=0;const n=i.length;await Promise.all([...i.map(async r=>{const l=r.meta.image;console.log(`Loading spritesheet ${location.origin}/${l}`);try{const d=await vr.load(l);await o.prepare.upload(d),Object.assign(qt,await new xr(d,r).parse());const h=`(${++s} / ${n})`;console.log(`Atlas ${l} loaded ${h}`),Vn.text(C("loading_spritesheets",{progress:h}))}catch(d){++s,console.error(`Atlas ${l} failed to load. Details:`,d)}}),...Pt.definitions.filter(r=>r.wall).map(r=>new Promise(l=>{if(r.wall){const{color:d,borderColor:m,rounded:h}=r.wall,p=r.hitbox.clone();p.scale(Q);const{x:u,y}=p.min,[I,R]=[p.max.x-u,p.max.y-y],x=sr,S=da.create({width:I,height:R,antialias:!0});o.render({target:S,container:new $e().rect(0,0,I,R).fill({color:m})[h?"roundRect":"rect"](x,x,I-x*2,R-x*2,x).fill({color:d})}),qt[r.idString]=S}l()})),new Promise(r=>{const l=da.create({width:102,height:102,antialias:!0});o.render({target:l,container:new $e().arc(51,51,51,0,Math.PI*2).fill({color:16777215})}),qt.vest_world=l,r()})])}class X extends Ca{static getTexture(t){return t in qt?qt[t]:(console.warn(`Texture not found: "${t}"`),qt._missing_texture)}constructor(t){super(t?X.getTexture(t):void 0),this.anchor.set(.5),this.setPos(0,0)}setFrame(t){return this.texture=X.getTexture(t),this}setAnchor(t){return this.anchor.copyFrom(t),this}setPos(t,i){return this.position.set(t,i),this}setVPos(t){return this.position.set(t.x,t.y),this}setVisible(t){return this.visible=t,this}setAngle(t){return this.angle=t??0,this}setRotation(t){return this.rotation=t??0,this}setScale(t){return this.scale=e.create(t??1,t??1),this}setTint(t){return this.tint=t,this}setZIndex(t){return this.zIndex=t,this}setAlpha(t){return this.alpha=t,this}}function _e(o){return e.scale(o,Q)}function Bi(o,t,i=Q){switch(o.type){case ct.Rect:{t.rect(o.min.x*i,o.min.y*i,(o.max.x-o.min.x)*i,(o.max.y-o.min.y)*i);break}case ct.Circle:t.arc(o.position.x*i,o.position.y*i,o.radius*i,0,Math.PI*2);break;case ct.Polygon:t.poly(o.points.map(s=>e.scale(s,i)));break;case ct.Group:for(const s of o.hitboxes)Bi(s,t);break}}function Wt(o,t,i,s=1){if(s===0)return i;switch(i.setStrokeStyle({color:t,width:2,alpha:s}),i.beginPath(),o.type){case ct.Rect:{const n=_e(o.min),r=_e(o.max);i.moveTo(n.x,n.y).lineTo(r.x,n.y).lineTo(r.x,r.y).lineTo(n.x,r.y).lineTo(n.x,n.y);break}case ct.Circle:{const n=_e(o.position);i.arc(n.x,n.y,o.radius*Q,0,Math.PI*2);break}case ct.Group:for(const n of o.hitboxes)Wt(n,t,i,s);break;case ct.Polygon:i.poly(o.points.map(n=>_e(n)));break}return i.closePath(),i.stroke(),i}class _t extends Ln(){constructor(i,s){super();c(this,"id");c(this,"game");c(this,"damageable",!1);c(this,"destroyed",!1);c(this,"layer",be.Ground);c(this,"debugGraphics");c(this,"_oldPosition");c(this,"_lastPositionChange");c(this,"_position",e.create(0,0));c(this,"_positionManuallySet",!1);c(this,"_oldRotation");c(this,"_lastRotationChange");c(this,"_rotationManuallySet",!1);c(this,"_rotation",0);c(this,"dead",!1);c(this,"container");c(this,"timeouts",new Set);this.game=i,this.id=s,this.container=new Ue,this.game.camera.addObject(this.container)}get position(){return this._position}set position(i){this._positionManuallySet&&(this._oldPosition=e.clone(this._position)),this._positionManuallySet=!0,this._lastPositionChange=Date.now(),this._position=i}updateContainerPosition(){this.destroyed||this._oldPosition===void 0||this._lastPositionChange===void 0||(this.container.position=_e(e.lerp(this._oldPosition,this.position,U.min((Date.now()-this._lastPositionChange)/this.game.serverDt,1))))}get rotation(){return this._rotation}set rotation(i){this._rotationManuallySet&&(this._oldRotation=this._rotation),this._rotationManuallySet=!0,this._lastRotationChange=Date.now(),this._rotation=i}updateContainerRotation(){this._oldRotation===void 0||this._lastRotationChange===void 0||(this.container.rotation=U.lerp(this._oldRotation,this._oldRotation+Je.minimize(this._oldRotation,this._rotation),U.min((Date.now()-this._lastRotationChange)/this.game.serverDt,1)))}addTimeout(i,s){const n=this.game.addTimeout(i,s);return this.timeouts.add(n),n}destroy(){this.destroyed=!0;for(const i of this.timeouts)i.kill();this.container.destroy()}playSound(i,s){return this.game.soundManager.play(i,{position:this.position,layer:this.layer,...s})}doOverlay(){var i;return((i=Ze[this.game.map.terrain.getFloor(this.position,this.layer)])==null?void 0:i.overlay)??!1}updateDebugGraphics(){}}class Fn{constructor(t,i){c(this,"game");c(this,"startTime",Date.now());c(this,"_endTime");c(this,"target");c(this,"duration");c(this,"startValues",{});c(this,"endValues",{});c(this,"ease");c(this,"yoyo");c(this,"infinite");c(this,"onUpdate");c(this,"onComplete");this.game=t,this.target=i.target;for(const s in i.to)this.startValues[s]=i.target[s],this.endValues[s]=i.to[s];this.duration=i.duration,this.ease=i.ease??(s=>s),this.yoyo=i.yoyo??!1,this.infinite=i.infinite??!1,this.onUpdate=i.onUpdate,this.onComplete=i.onComplete,this._endTime=this.startTime+this.duration}get endTime(){return this._endTime}update(){var s,n;const t=Date.now();if(this.target instanceof Ue&&this.target.destroyed){this.kill();return}const i=U.clamp((t-this.startTime)/this.duration,0,1);for(const r in this.startValues){const l=this.startValues[r],d=this.endValues[r];this.target[r]=U.lerp(l,d,this.ease(i))}(s=this.onUpdate)==null||s.call(this),t>=this.endTime&&(this.yoyo?(this.yoyo=this.infinite,this.startTime=t,this._endTime=this.startTime+this.duration,[this.startValues,this.endValues]=[this.endValues,this.startValues]):(this.kill(),(n=this.onComplete)==null||n.call(this)))}kill(){this.game.removeTween(this)}}var ht=(o=>(o[o.Join=0]="Join",o[o.Update=1]="Update",o[o.Settings=2]="Settings",o[o.Start=3]="Start",o[o.Started=4]="Started",o))(ht||{});const _i=class _i{constructor(t){c(this,"particles",new Set);c(this,"emitters",new Set);if(this.game=t,_i._instantiated)throw new Error("Class 'ParticleManager' has already been instantiated");_i._instantiated=!0}update(t){var i,s;for(const n of this.particles)n.update(t),n.dead&&(this.particles.delete(n),n.image.destroy(),(s=(i=n.options).onDeath)==null||s.call(i,n));for(const n of this.emitters){if(n.dead){this.emitters.delete(n);continue}n.active&&n.lastSpawn+n.delay<Date.now()&&(this.spawnParticle(n.spawnOptions()),n.lastSpawn=Date.now())}}spawnParticle(t){const i=new Bn(this,t);return this.particles.add(i),this.game.camera.addObject(i.image),i}spawnParticles(t,i){for(let s=0;s<t;s++)this.spawnParticle(i())}addEmitter(t){const i=new $n(t);return this.emitters.add(i),i}clear(){this.particles.clear(),this.emitters.clear()}};c(_i,"_instantiated",!1);let ba=_i;class Bn{constructor(t,i){c(this,"position");c(this,"layer");c(this,"image");c(this,"_spawnTime",Date.now());c(this,"_deathTime",Date.now());c(this,"_dead",!1);c(this,"options");c(this,"scale");c(this,"alpha");c(this,"rotation");this.manager=t,this._deathTime=this._spawnTime+i.lifetime,this.position=i.position,this.layer=i.layer??be.Ground;const s=i.frames,n=typeof s=="string"?s:s[Ye(0,s.length-1)],r=Hr[n];this.image=new X((r==null?void 0:r.base)??n),this.image.tint=i.tint??(r==null?void 0:r.tint)??16777215,this.image.setZIndex(ve(i.zIndex,this.layer,this.manager.game.layer)),this.scale=typeof i.scale=="number"?i.scale:1,this.alpha=typeof i.alpha=="number"?i.alpha:1,this.rotation=typeof i.rotation=="number"?i.rotation:qe(),this.options=i}get spawnTime(){return this._spawnTime}get deathTime(){return this._deathTime}get dead(){return this._dead}update(t){this.position=e.add(this.position,e.scale(e.scale(this.options.speed,t),.001));const i=this.options,s=Date.now();let n;s>=this._deathTime?(this._dead=!0,n=1):n=(s-this._spawnTime)/i.lifetime,typeof i.scale=="object"&&(this.scale=U.lerp(i.scale.start,i.scale.end,(i.scale.ease??(r=>r))(n))),typeof i.alpha=="object"&&(this.alpha=U.lerp(i.alpha.start,i.alpha.end,(i.alpha.ease??(r=>r))(n))),typeof i.rotation=="object"&&(this.rotation=U.lerp(i.rotation.start,i.rotation.end,(i.rotation.ease??(r=>r))(n))),this.image.setZIndex(ve(i.zIndex,this.layer,this.manager.game.layer)),this.image.position.copyFrom(_e(this.position)),this.image.scale.set(this.scale),this.image.setRotation(this.rotation).setAlpha(this.alpha)}kill(){this._dead=!0,this.manager.particles.delete(this),this.image.destroy()}}class $n{constructor(t){c(this,"_dead",!1);c(this,"lastSpawn",0);c(this,"delay");c(this,"active");c(this,"spawnOptions");this.delay=t.delay,this.active=t.active,this.spawnOptions=t.spawnOptions}get dead(){return this._dead}destroy(){this._dead=!0}}class Hn extends _t.derive(Y.Obstacle){constructor(i,s,n){super(i,s);c(this,"damageable",!0);c(this,"image");c(this,"smokeEmitter");c(this,"particleFrames");c(this,"definition");c(this,"scale");c(this,"variation");c(this,"_door");c(this,"activated");c(this,"hitbox");c(this,"orientation",0);c(this,"hitSound");c(this,"notOnCoolDown",!0);c(this,"doorMask");c(this,"_glowTween");c(this,"_flickerTimeout");c(this,"_glow");this.image=new X,this.container.addChild(this.image),this.updateFromData(n,!0)}get door(){return this._door}get isDoor(){return this._door!==void 0}updateFromData(i,s=!1){var h,p,u,y,I,R;let n;if(i.full){const x=i.full,S=this.definition=x.definition;this.position=x.position,this.rotation=x.rotation.rotation,this.orientation=x.rotation.orientation,this.layer=x.layer,this.variation=x.variation,this.definition.detector&&x.detectedMetal&&this.notOnCoolDown&&(this.game.soundManager.play("detection",{falloff:.25,position:e.create(this.position.x+20,this.position.y-20),maxRange:200}),this.notOnCoolDown=!1,setTimeout(()=>{this.notOnCoolDown=!0},1e3)),S.invisible&&(this.container.visible=!1);const b=S.frames.particle??`${S.idString}_particle`;if(this.particleFrames=S.particleVariations!==void 0?Array.from({length:S.particleVariations},(v,P)=>`${b}_${P+1}`):[b],(S.explosion??"emitParticles"in S)&&!this.smokeEmitter&&(this.smokeEmitter=this.game.particleManager.addEmitter({delay:400,active:!1,spawnOptions:()=>({frames:"smoke_particle",position:this.position,layer:this.layer,zIndex:U.max((S.zIndex??k.ObstaclesLayer1)+1,k.Players),lifetime:3500,scale:{start:0,end:K(4,5)},alpha:{start:.9,end:0},speed:e.fromPolar(K(-1.9,-2.1),K(5,6))})})),S.sound&&!S.role&&!this.destroyed&&("names"in S.sound?S.sound.names.forEach(v=>this.playSound(v,S.sound)):this.playSound(S.sound.name,S.sound)),this.activated!==x.activated&&(this.activated=x.activated,!s&&!this.destroyed&&(S.isActivatable&&S.sound&&("names"in S.sound?S.sound.names.forEach(v=>this.playSound(v,S.sound)):this.playSound(S.sound.name,S.sound)),this.definition.idString==="airdrop_crate_locked"))){const v=(P,D)=>({zIndex:U.max((this.definition.zIndex??k.Players)+1,4),lifetime:1e3,scale:{start:K(.85,.95),end:0,ease:he.quarticIn},alpha:{start:1,end:0,ease:he.sexticIn},rotation:{start:qe(),end:qe()},speed:e.fromPolar(qe(),K(P,D))});this.game.particleManager.spawnParticle({frames:"airdrop_particle_1",position:this.position,...v(8,18),rotation:{start:0,end:K(Math.PI/2,Math.PI*2)}}),n="airdrop_crate_unlocking",this.addTimeout(()=>{this.game.particleManager.spawnParticles(2,()=>({frames:"airdrop_particle_2",position:this.hitbox.randomPoint(),...v(4,9)})),this.game.particleManager.spawnParticles(2,()=>({frames:"airdrop_particle_3",position:this.hitbox.randomPoint(),...v(4,9)}))},800)}this.updateDoor(x,s)}const r=this.definition;this.scale=i.scale;const l=((h=r.scale)==null?void 0:h.destroy)??1,d=(this.scale-l)/((((p=r.scale)==null?void 0:p.spawnMax)??1)-l);if(this.smokeEmitter&&(this.smokeEmitter.active=!this.dead&&("emitParticles"in r&&this.activated||d>0&&d<.5),"emitParticles"in r?this.smokeEmitter.delay=300:this.smokeEmitter.delay=U.lerp(150,3e3,d)),this.container.scale.set(this.dead?1:this.scale),s&&r.glow!==void 0){const x=r.glow,S=this._glow??(this._glow=this.game.particleManager.spawnParticle({frames:"_glow_",position:x.position!==void 0?e.add(this.position,x.position):this.position,layer:this.layer,lifetime:1/0,speed:e.create(0,0),zIndex:this.container.zIndex-.5,tint:x.tint,scale:x.scale}));if(x.scaleAnim!==void 0){const{to:D,duration:O}=x.scaleAnim;window.setTimeout(()=>{this.dead||(this._glowTween??(this._glowTween=this.game.addTween({target:S,to:{scale:D},duration:O,ease:he.cubicOut,yoyo:!0,infinite:!0})))},Math.random()*2e3)}const{chance:b,strength:v,interval:P}=x.flicker??{chance:0,strength:1,interval:1};if((b??0)>0){const D=this;this._flickerTimeout??(this._flickerTimeout=this.game.addTimeout(function O(){if(!S.dead)if(Math.random()<b){const A=S.alpha;S.alpha*=v,D._flickerTimeout=D.game.addTimeout(()=>{S.dead||(S.alpha=A,D._flickerTimeout=D.game.addTimeout(O,P))},50)}else D._flickerTimeout=D.game.addTimeout(O,P)},P))}}if(!this.dead&&i.dead){if(this.dead=!0,!s&&!("replaceWith"in r&&r.replaceWith)&&!r.noDestroyEffect){const x=S=>{this.playSound(S,{falloff:.2,maxRange:96})};if(i.playMaterialDestroyedSound){x(`${((u=ma[r.material])==null?void 0:u.destroyed)??r.material}_destroyed`);for(const S of r.additionalDestroySounds)x(S)}r.noResidue?this.image.setVisible(!1):this.image.setFrame(r.frames.residue??`${r.idString}_residue`),this.container.rotation=this.rotation,this.container.scale.set(this.scale),this.smokeEmitter&&(this.smokeEmitter.active=!1,this.smokeEmitter.destroy()),this.game.particleManager.spawnParticles(10,()=>({frames:this.particleFrames,position:this.hitbox.randomPoint(),layer:this.layer,zIndex:(r.zIndex??k.ObstaclesLayer1)+1,lifetime:1500,rotation:{start:qe(),end:qe()},scale:{start:K(.85,.95),end:0,ease:he.quarticIn},alpha:{start:1,end:0,ease:he.sexticIn},speed:e.fromPolar(qe(),K(4,9)*(r.explosion?3:1))}))}(y=this._glowTween)==null||y.kill(),(I=this._flickerTimeout)==null||I.kill(),(R=this._glow)==null||R.kill()}this.updateZIndex(),this._door===void 0&&(this.hitbox=r.hitbox.transform(this.position,this.scale,this.orientation));const m=_e(this.position);this.container.position.copyFrom(m),this.image.setVisible(!(this.dead&&r.noResidue)),n??(n=this.dead?r.frames.residue??`${r.idString}_residue`:this.activated&&r.frames.activated?r.frames.activated:r.frames.base??r.idString),this.variation!==void 0&&!this.dead&&(n+=`_${this.variation+1}`),!r.invisible&&!(this.dead&&r.noResidue)&&this.image.setFrame(n),r.tint!==void 0&&this.image.setTint(r.tint),this.container.rotation=this.rotation,this.updateDebugGraphics()}updateZIndex(){const i=this.dead?this.doOverlay()?k.UnderWaterDeadObstacles:k.DeadObstacles:this.definition.zIndex??k.ObstaclesLayer1;this.container.zIndex=ve(i,this.layer,this.game.layer),this.definition.visibleFromLayers===De.All&&this.game.activePlayer!==void 0&&(this.container.visible=pt(this.layer,this.game.layer??be.Ground))}updateDebugGraphics(){}updateDoor(i,s=!1){if(!(i!=null&&i.door)||i.definition.role!==j.Door)return;const n=i.definition;this._door||(this._door={offset:0}),this.rotation=Je.orientationToRotation(this.orientation);const r=lr(n,this.position,this.orientation);this._door.openHitbox=r.openHitbox,"openAltHitbox"in r&&(this._door.openAltHitbox=r.openAltHitbox),this._door.locked=i.door.locked;let l=n.hitbox.transform(this.position,this.scale,this.orientation);switch(this._door.closedHitbox=l.clone(),i.door.offset){case 1:{l=this._door.openHitbox.clone();break}case 3:{l=this._door.openAltHitbox.clone();break}}this.hitbox=this._door.hitbox=l;const d=i.door.offset;switch(n.operationStyle){case"slide":if(s){const m=d?(n.slideFactor??1)*(this.orientation&1?l.min.y-l.max.y:l.min.x-l.max.x)*Q:0;this.image.setPos(m,0)}break;case"swivel":default:s&&this.image.setRotation(Je.orientationToRotation(d)),this.image.anchor.set(0,.5),this.image.setPos(n.hingeOffset.x*Q,n.hingeOffset.y*Q);break}if(s){if(this._door.offset=d,this.definition.isDoor&&this.definition.hideWhenOpen){this.doorMask=new $e,this.doorMask.alpha=0,this.container.addChild(this.doorMask);const{min:m,max:h}=this.definition.hitbox;this.doorMask.beginPath().rect(m.x*Q,m.y*Q,(h.x-m.x)*Q,(h.y-m.y)*Q).closePath().fill(16777215),this.image.mask=this.doorMask}}else if(d!==this._door.offset){this._door.offset=d;const m=n.doorSound??"door";if(this.playSound(`${m}_${d?"open":"close"}`,{falloff:.3,maxRange:48}),n.operationStyle!=="slide")this.game.addTween({target:this.image,to:{rotation:Je.orientationToRotation(d)},duration:n.animationDuration??150});else{const h=d?(n.slideFactor??1)*(this.orientation&1?l.min.y-l.max.y:l.min.x-l.max.x)*Q:0;this.game.addTween({target:this.image.position,to:{x:h,y:0},duration:150})}}}canInteract(i){return!this.dead&&(this._door!==void 0&&!this._door.locked&&!this.definition.openOnce&&!this.definition.automatic||this.definition.isActivatable===!0&&(i.activeItem.idString===this.definition.requiredItem||!this.definition.requiredItem)&&!this.activated)}hitEffect(i,s){var r,l;if(this.definition.noHitEffect)return;this.definition.hitSoundVariations||(r=this.hitSound)==null||r.stop();const{material:n}=this.definition;this.hitSound=this.game.soundManager.play(`${((l=ma[n])==null?void 0:l.hit)??n}_hit_${this.definition.hitSoundVariations?Ye(1,this.definition.hitSoundVariations):Kt()?"1":"2"}`,{position:i,falloff:.2,maxRange:96,layer:this.layer}),this.game.particleManager.spawnParticle({frames:this.particleFrames,position:i,zIndex:U.max((this.definition.zIndex??k.Players)+1,4),lifetime:600,layer:this.layer,scale:{start:.9,end:.2},alpha:{start:1,end:.65},speed:e.fromPolar(s+K(-.3,.3),K(2.5,4.5))})}destroy(){var i,s,n,r,l;super.destroy(),this.image.destroy(),(i=this.doorMask)==null||i.destroy(),(s=this.smokeEmitter)==null||s.destroy(),(n=this._glow)==null||n.kill(),(r=this._glowTween)==null||r.kill(),(l=this._flickerTimeout)==null||l.kill()}}class Wn extends _t.derive(Y.Player){constructor(i,s,n){super(i,s);c(this,"teamID");c(this,"activeItem",ge.fromString("fists"));c(this,"meleeStopSound");c(this,"meleeAttackCounter",0);c(this,"activeDisguise");c(this,"disguiseContainer");c(this,"halloweenThrowableSkin",!1);c(this,"_oldItem",this.activeItem);c(this,"equipment",{backpack:ge.fromString("bag")});c(this,"distTraveled",0);c(this,"footstepSound");c(this,"actionSound");c(this,"action",{type:Mt.None,item:void 0});c(this,"animation",Ee.None);c(this,"animationChangeTime",0);c(this,"damageable",!0);c(this,"hideEquipment",!1);c(this,"downed",!1);c(this,"beingRevived",!1);c(this,"bleedEffectInterval");c(this,"_skin","");c(this,"images");c(this,"emote");c(this,"teammateName");c(this,"healingParticlesEmitter");c(this,"anims",{});c(this,"_emoteHideTimeout");c(this,"distSinceLastFootstep",0);c(this,"helmetLevel",NaN);c(this,"vestLevel",NaN);c(this,"backpackLevel",NaN);c(this,"_hitbox",new f(se.player.radius));c(this,"_bulletWhizHitbox",new f(se.player.radius*cr));c(this,"floorType",F.Grass);c(this,"sizeMod",1);c(this,"grenadeImpactPreview");c(this,"_bloodDecals",new Set);this.game.camera.addObject(this.disguiseContainer=new Ue),this.images={aimTrail:new kr({texture:X.getTexture("aimTrail"),width:20,height:6e3}),vest:new X().setVisible(!1),body:new X,leftFist:new X,rightFist:new X,leftLeg:i.teamMode?new X().setPos(-35,26).setZIndex(-1):void 0,rightLeg:i.teamMode?new X().setPos(-35,-26).setZIndex(-1):void 0,backpack:new X().setPos(-35,0).setVisible(!1).setZIndex(-1),helmet:new X().setPos(-8,0).setVisible(!1).setZIndex(6),weapon:new X().setZIndex(3),altWeapon:new X().setZIndex(3),muzzleFlash:new X("muzzle_flash").setVisible(!1).setZIndex(7).setAnchor(e.create(0,.5)),waterOverlay:new X("water_overlay").setVisible(!1).setTint(We.water),blood:new Ue,disguiseSprite:new X},this.container.addChild(this.images.aimTrail,this.images.vest,this.images.body,this.images.leftFist,this.images.rightFist,...i.teamMode?[this.images.leftLeg,this.images.rightLeg]:[],this.images.backpack,this.images.helmet,this.images.weapon,this.images.altWeapon,this.images.muzzleFlash,this.images.waterOverlay,this.images.blood),this.disguiseContainer.addChild(this.images.disguiseSprite),i.teamMode&&(this.images.leftLeg.scale=this.images.rightLeg.scale=e.create(1.5,.8)),this.images.aimTrail.angle=90,this.images.aimTrail.position=e.create(6e3,-8),this.images.aimTrail.alpha=0,this.isActivePlayer||(this.images.aimTrail.alpha=0);let r;this.emote=r={background:new X("emote_background").setPos(0,0),image:new X().setPos(0,0),container:new Ue},i.camera.addObject(r.container),r.container.addChild(r.background,r.image),r.container.zIndex=ve(k.Emotes,this.layer,this.game.layer),r.container.visible=!1,this.updateFistsPosition(!1),this.updateWeapon(),this.healingParticlesEmitter=this.game.particleManager.addEmitter({delay:350,active:!1,spawnOptions:()=>{var d;let l="";return((d=this.action.item)==null?void 0:d.itemType)===z.Healing&&(l=_o[this.action.item.healType].toLowerCase()),{frames:`${l}_particle`,position:this._hitbox.randomPoint(),lifetime:1e3,zIndex:k.Players,layer:this.layer,rotation:0,alpha:{start:1,end:0},scale:{start:1,end:1.5},speed:e.create(K(-1,1),-3)}}}),this.images.body.eventMode="static",this.images.body.on("pointerdown",()=>{!this.game.spectating||this.game.activePlayerID===this.id||this.game.sendPacket(Gi.create({spectateAction:st.SpectateSpecific,playerID:this.id}))}),this.updateFromData(n,!0)}get isActivePlayer(){return this.id===this.game.activePlayerID}get hitbox(){return this._hitbox}get bulletWhizHitbox(){return this._bulletWhizHitbox}updateContainerPosition(){super.updateContainerPosition(),this.destroyed||(this.emote.container.position=e.addComponent(this.container.position,0,-175),this.disguiseContainer.position=this.container.position,this.teammateName&&(this.teammateName.container.position=e.addComponent(this.container.position,0,95),this.teammateName.container.zIndex=ve(k.TeammateName,this.layer,this.game.layer)))}spawnCasingParticles(i,s=!1){const n=this.activeItem,r=this._getItemReference(),l=this.rotation+Math.PI/2,d=r.casingParticles.filter(m=>(m.on??"fire")===i);if(d.length!==0)for(const m of d){const h=e.scale(m.position,this.sizeMod);n.isDual&&(h.y=(s?-1:1)*(h.y+n.leftRightOffset));const p=()=>{var I,R;const u=(I=m.velocity)==null?void 0:I.x,y=(R=m.velocity)==null?void 0:R.y;this.game.particleManager.spawnParticles(m.count??1,()=>{const x=K(Math.PI/2,Math.PI),S=e.scale(sa((u==null?void 0:u.min)??2,(u==null?void 0:u.max)??-5,(y==null?void 0:y.min)??10,(y==null?void 0:y.max)??15),this.sizeMod);return u!=null&&u.randomSign&&(S.x*=Qi()),y!=null&&y.randomSign&&(S.y*=Qi()),{frames:m.frame??Ct.fromString(n.ammoType).defaultCasingFrame,zIndex:k.Players,position:e.add(this.position,e.rotate(h,this.rotation)),lifetime:400,layer:this.layer,scale:{start:.8*this.sizeMod,end:.4*this.sizeMod},alpha:{start:1,end:0,ease:he.sexticIn},rotation:{start:l,end:l+(Math.sign(S.y)||Qi()*K(0,.3))*x},speed:e.rotate(e.addComponent(S,-(x/4),0),this.rotation)}})};if(!m.ejectionDelay)p();else{const u=n.idString;this.addTimeout(()=>{u===this.activeItem.idString&&p()},m.ejectionDelay)}}}updateFromData(i,s=!1){var I,R,x,S,b,v,P,D,O;const n=this.game,{uiManager:r}=n,l=this.layer,d=e.clone(this.position);this.position=i.position,this._hitbox.position=this.position,this._bulletWhizHitbox.position=this.position,this.rotation=i.rotation;const m=!n.console.getBuiltInCVar("cv_movement_smoothing");(m||s)&&(this.container.rotation=this.rotation),this.isActivePlayer&&(n.soundManager.position=this.position,n.map.setPosition(this.position),m&&(n.camera.position=_e(this.position)),n.console.getBuiltInCVar("pf_show_pos")&&r.debugReadouts.pos.text(`X: ${this.position.x.toFixed(2)} Y: ${this.position.y.toFixed(2)} Z: ${this.layer}`));const h=n.map.terrain.getFloor(this.position,this.layer),p=Ze[h].overlay,u=l!==this.layer||((I=n.activePlayer)==null?void 0:I.layer)!==this.layer||s;let y=s||Ze[this.floorType].overlay!==p||u;if(h!==this.floorType&&(p&&this.images.waterOverlay.setVisible(!0),(R=this.anims.waterOverlay)==null||R.kill(),this.anims.waterOverlay=n.addTween({target:this.images.waterOverlay,to:{alpha:p?1:0},duration:200,onComplete:()=>{p||this.images.waterOverlay.setVisible(!1),this.anims.waterOverlay=void 0}})),this.floorType=h,d!==void 0&&(this.distSinceLastFootstep+=dt.distance(d,this.position),this.distTraveled+=dt.distance(d,this.position),this.distTraveled>8&&this.downed&&(this.playAnimation(Ee.Downed),this.distTraveled=0),this.distSinceLastFootstep>10&&(this.footstepSound=this.playSound(`${this.floorType}_step_${Ye(1,2)}`,{falloff:.6,maxRange:48}),this.distSinceLastFootstep=0,Ze[h].particles&&this.layer>=be.Ground))){const A={frames:"ripple_particle",zIndex:k.Ground,position:this._hitbox.randomPoint(),lifetime:1e3,layer:this.layer,speed:e.create(0,0)};n.particleManager.spawnParticle({...A,scale:{start:K(.45,.55),end:K(2.95,3.05)},alpha:{start:K(.55,.65),end:0}}),n.particleManager.spawnParticle({...A,scale:{start:K(.15,.35),end:K(1.45,1.55)},alpha:{start:K(.25,.35),end:0}})}if((s||!n.console.getBuiltInCVar("cv_movement_smoothing"))&&(this.container.position.copyFrom(_e(this.position)),this.disguiseContainer.position.copyFrom(_e(this.position)),this.emote.container.position.copyFrom(e.add(_e(this.position),e.create(0,-175))),(x=this.teammateName)==null||x.container.position.copyFrom(e.add(_e(this.position),e.create(0,95))),this.isActivePlayer&&n.uiManager.resetPerkSlots()),i.animation!==void 0&&(this.animation=i.animation,this.animationChangeTime=Date.now(),this.playAnimation(i.animation)),this.updateGrenadePreview(),i.full){const{full:{layer:A,dead:L,downed:H,beingRevived:te,teamID:N,invulnerable:ie,activeItem:q,sizeMod:re,skin:ee,helmet:le,vest:fe,backpack:xe,halloweenThrowableSkin:Ve,activeDisguise:He}}=i,it=this.isActivePlayer&&(this.layer!==A||s);if(this.layer=A,it&&n.changeLayer(this.layer),this.container.visible=!L,this.disguiseContainer.visible=this.container.visible,this.halloweenThrowableSkin!==(this.halloweenThrowableSkin=Ve)&&this.activeItem.itemType===z.Throwable&&!this.activeItem.noSkin&&this.images.weapon.setFrame(`${this.activeItem.idString}${this.halloweenThrowableSkin?"_halloween":""}`),n.console.getBuiltInCVar("cv_cooler_graphics")&&!s&&!this.dead&&L&&n.particleManager.spawnParticles(Ye(15,30),()=>({frames:"blood_particle",lifetime:Ye(1e3,3e3),position:this.position,layer:this.layer,alpha:{start:1,end:0},scale:{start:K(.8,1.6),end:0},speed:Tt(e.create(0,0),4),zIndex:k.Players+1})),this.dead=L,this.teamID=N,!this.isActivePlayer&&!this.teammateName&&!this.dead&&this.teamID===n.teamID){const Re=n.playerNames.get(this.id);this.teammateName={text:new Da({text:r.getRawPlayerName(this.id),style:{fill:Re!=null&&Re.hasColor?Re==null?void 0:Re.nameColor:"#00ffff",fontSize:36,fontFamily:"Inter",fontWeight:"600",dropShadow:{alpha:.8,color:"black",blur:2,distance:2}}}),badge:Re!=null&&Re.badge?new X(Re.badge.idString):void 0,container:new Ue};const{text:zt,badge:mt,container:Ft}=this.teammateName;if(zt.anchor.set(.5),Ft.addChild(this.teammateName.text),mt){const ji=mt.width;mt.width=zt.height/1.25,mt.height*=mt.width/ji,mt.position=e.create(zt.width/2+20,0),Ft.addChild(mt)}Ft.zIndex=ve(k.DeathMarkers,n.layer,n.layer),n.camera.addObject(Ft)}if(this.container.alpha=ie?.5:1,this.downed!==H&&(this.downed=H,y=!0,this.updateFistsPosition(!1),this.updateWeapon(s),this.updateEquipment()),this.beingRevived!==te&&(this.beingRevived=te,this.isActivePlayer&&(this.beingRevived?r.animateAction(C("action_being_revived"),se.player.reviveTime,!0):r.cancelAction())),this.downed&&!this.beingRevived&&!this.bleedEffectInterval){const Re=()=>this.hitEffect(this.position,qe(),"bleed");Re(),this.bleedEffectInterval=setInterval(Re,1e3)}(this.dead||this.beingRevived)&&(clearInterval(this.bleedEffectInterval),this.bleedEffectInterval=void 0),this.dead&&(this.isActivePlayer&&r.resetPerkSlots(),this.teammateName!==void 0&&(this.teammateName.container.visible=!1)),this._oldItem=this.activeItem;const ft=this.activeItem!==q;this.activeItem=q;const Ge=ee.idString;this.isActivePlayer&&(r.skinID=Ge,r.updateWeapons()),this._skin=Ge;const bt=ge.fromString(Ge),et=bt.grassTint?jt:16777215,{body:kt,leftFist:Vt,rightFist:Rt,leftLeg:ae,rightLeg:pe}=this.images;kt.setFrame(`${Ge}_base`).setTint(et),Vt.setFrame(`${Ge}_fist`).setTint(et),Rt.setFrame(`${Ge}_fist`).setTint(et),ae==null||ae.setFrame(`${Ge}_fist`).setTint(et),pe==null||pe.setFrame(`${Ge}_fist`).setTint(et),re!==void 0&&(this.sizeMod=this.container.scale=re,this._hitbox=new f(se.player.radius*re,this._hitbox.position));const{hideEquipment:ke,helmetLevel:Jt,vestLevel:Qt,backpackLevel:Te}=this;this.hideEquipment=bt.hideEquipment,this.helmetLevel=((S=this.equipment.helmet=le)==null?void 0:S.level)??0,this.vestLevel=((b=this.equipment.vest=fe)==null?void 0:b.level)??0,this.backpackLevel=(this.equipment.backpack=xe).level;const vi=bt.backpackTint??((v=this.equipment.backpack)==null?void 0:v.defaultTint)??16777215;if(this.images.backpack.setTint(vi),(ke!==this.hideEquipment||Jt!==this.helmetLevel||Qt!==this.vestLevel||Te!==this.backpackLevel)&&this.updateEquipment(),ft&&(this.updateFistsPosition(!0),this.updateWeapon(s)),this.activeDisguise!==(this.activeDisguise=He)){const Re=this.activeDisguise;Re!==void 0?(this.images.disguiseSprite.setVisible(!0),this.images.disguiseSprite.setFrame(`${Re.frames.base??Re.idString}${Re.variations!==void 0?`_${Ye(1,Re.variations)}`:""}`)):this.images.disguiseSprite.setVisible(!1),y=!0}}if(y&&this.updateZIndex(),i.action!==void 0){const A=i.action;let L="";switch(this.healingParticlesEmitter.active=!1,(P=this.actionSound)==null||P.stop(),A.type){case Mt.None:{this.action.type===Mt.Revive&&(this.updateFistsPosition(!0),this.updateWeapon()),this.isActivePlayer&&r.cancelAction();break}case Mt.Reload:{const H=this.activeItem;H.isDual&&this.spawnCasingParticles("reload",!0),this.spawnCasingParticles("reload",!1);const{weapons:te,activeWeaponIndex:N}=r.inventory,ie=H.reloadFullOnEmpty&&(((D=te[N])==null?void 0:D.count)??0)<=0;L=`${H.idString}_reload${ie?"_full":""}`,this.isActivePlayer&&r.animateAction(C("action_reloading"),ie?H.fullReloadTime:H.reloadTime);break}case Mt.UseItem:{const H=A.item;L=H.idString,this.healingParticlesEmitter.active=!0,this.isActivePlayer&&r.animateAction(C(`action_${H.idString}_use`,{item:C(H.idString)}),H.useTime/r.perks.mapOrDefault(nt.FieldMedic,({usageMod:te})=>te,1));break}case Mt.Revive:{this.isActivePlayer&&r.animateAction(C("action_reviving"),se.player.reviveTime/r.perks.mapOrDefault(nt.FieldMedic,({usageMod:H})=>H,1));break}}L&&(this.actionSound=this.playSound(L,{falloff:.6,maxRange:48,speed:n.uiManager.perks.hasPerk(nt.FieldMedic)&&L===((O=A.item)==null?void 0:O.idString)?qa[nt.FieldMedic].usageMod:1})),this.action=A}this.isActivePlayer&&u&&dr&&n.addTimeout(()=>{for(const A of n.objects)A.updateDebugGraphics()},0),this.updateDebugGraphics()}updateGrenadePreview(){var i,s;if((i=this.grenadeImpactPreview)==null||i.clear(),this.animation===Ee.ThrowableCook&&this.activeItem.itemType===z.Throwable&&this.isActivePlayer)if(this.game.uiManager.perks.hasPerk(nt.DemoExpert)){this.grenadeImpactPreview===void 0&&(this.grenadeImpactPreview=new $e,this.grenadeImpactPreview.zIndex=999,this.game.camera.addObject(this.grenadeImpactPreview));const n=this.grenadeImpactPreview,r=this.activeItem,l=e.add(_e(this.position),e.rotate(_e(r.animation.cook.rightFist),this.rotation)),d=r.c4?0:U.min(this.game.inputManager.distanceToMouse*.9,r.maxThrowDistance*qa[nt.DemoExpert].rangeMod),m=r.cookable?Date.now()-this.animationChangeTime:0,h=.001,p=d/(985*h)*(1-Math.exp(-h*(r.fuseTime-m))),{x:u,y}=e.add(l,e.fromPolar(this.rotation,p*Q)),I=new Rr(n,{dash:[100,50]});n.clear().setFillStyle({color:16711680,alpha:.3}).setStrokeStyle({color:16711680,width:8,alpha:.7}).beginPath(),I.moveTo(l.x,l.y).lineTo(u,y),n.stroke().setStrokeStyle({color:16711680,width:3,alpha:.5}).beginPath();const R=Li.fromStringSafe(r.detonation.explosion??"");R!==void 0&&R.damage!==0&&R.radius.min+R.radius.max!==0?n.circle(u,y,R.radius.min*Q).closePath().fill().stroke().beginPath().setFillStyle({color:16776960,alpha:.8}).setStrokeStyle({color:16776960,width:3,alpha:.1}).circle(u,y,.5*Q).closePath().fill().stroke():n.circle(u,y,1.5*Q).closePath().fill().stroke()}else(s=this.grenadeImpactPreview)==null||s.destroy(),this.grenadeImpactPreview=void 0}updateDebugGraphics(){}_getItemReference(){const i=this.activeItem;return i.itemType===z.Gun&&i.isDual?ge.fromString(i.singleVariant):i}_getOffset(){const i=this.activeItem;return i.itemType===z.Gun&&i.isDual?i.leftRightOffset*Q:0}updateFistsPosition(i){var l,d,m,h,p,u,y;if((l=this.anims.leftFist)==null||l.kill(),(d=this.anims.rightFist)==null||d.kill(),(m=this.anims.weapon)==null||m.kill(),(h=this.images.leftLeg)==null||h.setVisible(this.downed),(p=this.images.rightLeg)==null||p.setVisible(this.downed),this.downed){this.images.leftFist.setPos(38,-35),this.images.rightFist.setPos(38,35),(u=this.images.leftLeg)==null||u.setPos(-35,26),(y=this.images.rightLeg)==null||y.setPos(-35,-26);return}const s=this._getItemReference(),n=s.fists??yo,r=this._getOffset();if(i){const I="animationDuration"in n?n.animationDuration:150;this.anims.leftFist=this.game.addTween({target:this.images.leftFist,to:{x:n.left.x,y:n.left.y-r},duration:I,onComplete:()=>{this.anims.leftFist=void 0}}),this.anims.rightFist=this.game.addTween({target:this.images.rightFist,to:{x:n.right.x,y:n.right.y+r},duration:I,onComplete:()=>{this.anims.rightFist=void 0}})}else this.images.leftFist.setPos(n.left.x,n.left.y-r),this.images.rightFist.setPos(n.right.x,n.right.y+r);if(s.image){const{image:{position:I,angle:R}}=s;s.itemType===z.Throwable&&!s.noSkin&&this.images.weapon.setFrame(`${s.idString}${this.halloweenThrowableSkin?"_halloween":""}`),this.images.weapon.setPos(I.x,I.y+r),this.images.altWeapon.setPos(I.x,I.y-r),this.images.weapon.setAngle(R)}}updateWeapon(i=!1){var m,h,p,u;if(this.downed){this.images.weapon.setVisible(!1),this.images.altWeapon.setVisible(!1),this.images.muzzleFlash.setVisible(!1),this.images.leftFist.setZIndex(-1),this.images.rightFist.setZIndex(-1),this.container.sortChildren();return}const s=this.activeItem,n=this._getItemReference(),{fists:r,image:l}=n,d=l!==void 0;if(d){let y=`${n.idString}${s.itemType===z.Gun||l.separateWorldImage?"_world":""}`;s.itemType===z.Throwable&&this.halloweenThrowableSkin&&!s.noSkin&&(y+="_halloween");const{angle:I,position:{x:R,y:x}}=l;this.images.weapon.setFrame(y),this.images.altWeapon.setFrame(y),this.images.weapon.setAngle(I),this.images.altWeapon.setAngle(I),this.activeItem!==this._oldItem&&((m=this.anims.muzzleFlashFade)==null||m.kill(),(h=this.anims.muzzleFlashRecoil)==null||h.kill(),this.images.muzzleFlash.alpha=0,this.isActivePlayer&&!i&&this.game.soundManager.play(`${n.itemType===z.Throwable?"throwable":n.idString}_switch`));const S=this._getOffset();this.images.weapon.setPos(R,x+S),this.images.altWeapon.setPos(R,x-S)}switch(this.images.weapon.setVisible(d),this.images.muzzleFlash.setVisible(d),this.images.altWeapon.setVisible(s.itemType===z.Gun&&(s.isDual??!1)),s.itemType){case z.Gun:{this.images.rightFist.setZIndex(r.rightZIndex),this.images.leftFist.setZIndex(r.leftZIndex),this.images.weapon.setZIndex((l==null?void 0:l.zIndex)??2),this.images.altWeapon.setZIndex(2),this.images.body.setZIndex(3);break}case z.Melee:{this.images.leftFist.setZIndex(4),this.images.rightFist.setZIndex(4),this.images.body.setZIndex(2),this.images.weapon.setZIndex(((p=n.image)==null?void 0:p.zIndex)??1);break}case z.Throwable:{this.images.leftFist.setZIndex(4),this.images.rightFist.setZIndex(4),this.images.body.setZIndex(2),this.images.weapon.setZIndex(((u=n.image)==null?void 0:u.zIndex)??5);break}}this.images.waterOverlay.setZIndex(this.images.body.zIndex+1),this.container.sortChildren()}updateEquipment(){for(const i of["helmet","vest","backpack"])this.updateEquipmentWorldImage(i),this.isActivePlayer&&this.updateEquipmentSlot(i)}updateZIndex(){const i=Ze[this.floorType].overlay?this.downed?k.UnderwaterDownedPlayers:k.UnderwaterPlayers:this.downed?k.DownedPlayers:k.Players;this.container.zIndex=ve(i,this.layer,this.game.layer),this.disguiseContainer.zIndex=this.container.zIndex+1,this.emote.container.zIndex=ve(k.Emotes,this.layer,this.game.layer)}updateEquipmentWorldImage(i){const s=this.images[i],n=this.equipment[i];if(n&&n.level>0&&!this.hideEquipment&&(i!=="backpack"||!this.downed))if(i!=="vest")s.setFrame(`${n.idString}_world`).setVisible(!0),i==="helmet"&&s.setPos(this.downed?10:-8,0);else{let r;(r=n.color)!==void 0&&s.setFrame("vest_world").setVisible(!0).setTint(r)}else s.setVisible(!1)}updateEquipmentSlot(i){const s=_(`#${i}-slot`),n=this.equipment[i];if(n&&n.level>0){s.children(".item-name").text(`Lvl. ${n.level}`),s.children(".item-image").attr("src",`./img/game/shared/loot/${n.idString}.svg`);let r=C(n.idString);n.itemType===z.Armor&&(r=C("tt_reduces",{item:`${C(n.idString)}<br>`,percent:(n.damageReduction*100).toString()})),s.children(".item-tooltip").html(r)}s.css("visibility",((n==null?void 0:n.level)??0)>0?"visible":"hidden"),s[0].addEventListener("pointerdown",r=>{r.stopImmediatePropagation(),r.button===2&&n&&this.game.teamMode&&this.game.inputManager.addAction({type:$.DropItem,item:n})}),i==="backpack"&&this.game.uiManager.updateItems()}getEquipment(i){switch(i){case"helmet":return this.equipment.helmet;case"vest":return this.equipment.vest;case"backpack":return this.equipment.backpack}}canInteract(i){return this.game.teamMode&&!i.downed&&this.downed&&!this.beingRevived&&this!==i&&this.teamID===i.teamID}showEmote(i){var l,d,m,h;(l=this.anims.emote)==null||l.kill(),(d=this.anims.emoteHide)==null||d.kill(),(m=this._emoteHideTimeout)==null||m.kill(),this.playSound("emote",{falloff:.4,maxRange:128}),this.emote.image.setFrame(i.idString);const s="itemType"in i,n=this.emote.container;n.visible=!0,n.scale.set(0),n.alpha=0;let r="emote_background";Di.fromStringSafe(i.idString)&&(r=`loot_background_gun_${(h=Di.fromStringSafe(i.idString))==null?void 0:h.ammoType}`),this.emote.image.setScale(s?.7:1),this.emote.background.setFrame(r),this.anims.emote=this.game.addTween({target:n,to:{alpha:1},duration:250,ease:he.backOut,onUpdate:()=>{n.scale.set(n.alpha)},onComplete:()=>{this.anims.emote=void 0}}),this._emoteHideTimeout=this.addTimeout(()=>{this.anims.emoteHide=this.game.addTween({target:n,to:{alpha:0},duration:200,onUpdate:()=>{n.scale.set(n.alpha)},onComplete:()=>{var p;this._emoteHideTimeout=void 0,this.anims.emoteHide=void 0,n.visible=!1,(p=this.anims.emote)==null||p.kill(),this.anims.emote=void 0,this._emoteHideTimeout=void 0}})},s?2e3:4e3)}playAnimation(i){var s,n,r,l,d,m,h;switch(i){case Ee.Melee:{if(this.activeItem.itemType!==z.Melee){console.warn(`Attempted to play melee animation with non-melee item '${this.activeItem.idString}'`);return}this.updateFistsPosition(!1);const p=this.activeItem;let u=Math.random()<.5;p.fists.randomFist||(u=!0);const y=p.fists.animationDuration;if(p.rotationalAnimation){if((s=p.image)!=null&&s.useAngle){const R=p.image.xConstant??p.image.position.x;this.anims.rightFist=this.game.addTween({target:this.images.rightFist,to:{y:-25,angle:-p.image.useAngle},duration:y,ease:he.sineIn,yoyo:!0}),this.anims.leftFist=this.game.addTween({target:this.images.leftFist,to:{x:0,y:-25*2,angle:-p.image.useAngle},duration:y,ease:he.sineIn,yoyo:!0}),this.anims.weapon=this.game.addTween({target:this.images.weapon,to:{x:R,y:-25,angle:p.image.useAngle},duration:y,ease:he.sineIn,yoyo:!0})}}else(!p.fists.randomFist||!u)&&(this.anims.leftFist=this.game.addTween({target:this.images.leftFist,to:{x:p.fists.useLeft.x,y:p.fists.useLeft.y},duration:y,ease:he.sineIn,yoyo:!0})),u&&(this.anims.rightFist=this.game.addTween({target:this.images.rightFist,to:{x:p.fists.useRight.x,y:p.fists.useRight.y},duration:y,ease:he.sineIn,yoyo:!0})),p.image!==void 0&&(this.anims.weapon=this.game.addTween({target:this.images.weapon,to:{x:p.image.usePosition.x,y:p.image.usePosition.y,angle:p.image.useAngle},duration:y,ease:he.sineIn,yoyo:!0}));this.playSound(p.swingSound,{falloff:.4,maxRange:96}),p.stopSound&&this.meleeStopSound===void 0?this.meleeStopSound=this.playSound(p.stopSound,{falloff:.4,maxRange:96}):this.meleeStopSound=void 0,(n=p.image)!=null&&n.animated&&(this.meleeAttackCounter>=1?this.meleeAttackCounter--:this.meleeAttackCounter++,this.images.weapon.setFrame(`${p.idString}${this.meleeAttackCounter<=0?"_used":""}`)),this.addTimeout(()=>{const I=this.hitbox,R=e.add(this.position,e.rotate(p.offset,this.rotation)),x=new f(p.radius,R),S=Je.betweenPoints(this.position,R);for(const b of[...this.game.objects].filter(v=>{var P;return!v.dead&&v!==this&&(v.damageable&&(v.isObstacle||v.isPlayer||v.isBuilding)||v.isThrowableProjectile&&v.definition.c4)&&((P=v.hitbox)==null?void 0:P.collidesWith(x))&&pt(v.layer,this.layer)&&(!v.isObstacle||!v.definition.isStair)&&(!v.isObstacle||!v.definition.noMeleeCollision)}).sort((v,P)=>v.isObstacle&&v.definition.noMeleeCollision||this.game.teamMode&&v.isPlayer&&v.teamID===this.teamID?1/0:P.isObstacle&&P.definition.noMeleeCollision||this.game.teamMode&&P.isPlayer&&P.teamID===this.teamID?-1/0:v.hitbox.distanceTo(I).distance-P.hitbox.distanceTo(I).distance).slice(0,p.maxTargets))b.hitEffect(R,S)},50);break}case Ee.Downed:{this.updateFistsPosition(!1),this.images.rightLeg&&!this.destroyed&&(this.anims.rightLeg=this.game.addTween({target:this.images.rightLeg,to:{x:this.images.rightLeg.x-10,y:this.images.rightLeg.y},duration:200,ease:he.sineIn,yoyo:!0,onComplete:()=>{this.anims.rightLeg=void 0}}),this.anims.leftFist=this.game.addTween({target:this.images.leftFist,to:{x:this.images.leftFist.x-10,y:this.images.leftFist.y-5},duration:200,ease:he.sineIn,yoyo:!0,onComplete:()=>{this.anims.leftFist=void 0}})),setTimeout(()=>{this.images.leftLeg&&!this.destroyed&&(this.anims.leftLeg=this.game.addTween({target:this.images.leftLeg,to:{x:this.images.leftLeg.x-10,y:this.images.leftLeg.y},duration:200,ease:he.sineIn,yoyo:!0,onComplete:()=>{this.anims.leftLeg=void 0}}),this.anims.rightFist=this.game.addTween({target:this.images.rightFist,to:{x:this.images.rightFist.x-10,y:this.images.rightFist.y+5},duration:200,ease:he.sineIn,yoyo:!0,onComplete:()=>{this.anims.rightFist=void 0}}))},200);break}case Ee.GunFire:case Ee.GunFireAlt:case Ee.LastShot:{if(this.activeItem.itemType!==z.Gun){const b={[Ee.GunFire]:"GunFire",[Ee.GunFireAlt]:"GunFireAlt",[Ee.LastShot]:"LastShot"}[i];console.warn(`Attempted to play gun animation (${b}) with non-gun item '${this.activeItem.idString}'`);return}const p=this.activeItem,{idString:u,image:{position:{x:y}},fists:{left:{x:I},right:{x:R}}}=this._getItemReference();i===Ee.LastShot?this.playSound(`${u}_fire_last`,{falloff:.5}):this.playSound(`${u}_fire`,{falloff:.5});const x=p.isDual?i===Ee.GunFireAlt:void 0;this.updateFistsPosition(!1);const S=Q*(1-p.recoilMultiplier);if(this.anims.weapon=this.game.addTween({target:x?this.images.altWeapon:this.images.weapon,to:{x:y-S},duration:50,yoyo:!0}),p.gasParticles&&this.game.console.getBuiltInCVar("cv_cooler_graphics")){const b=p.gasParticles,v=.5*b.spread;this.game.particleManager.spawnParticles(b.amount,()=>({frames:"small_gas",layer:this.layer,lifetime:Ye(b.minLife,b.maxSize),scale:{start:0,end:K(b.minSize,b.maxSize)},position:e.add(Tt(this.position,2),e.fromPolar(this.rotation,p.length)),speed:e.fromPolar(this.rotation+Je.degreesToRadians(K(-v,v)),K(b.minSpeed,b.maxSpeed)),zIndex:k.BuildingsCeiling-2,alpha:{start:K(.5,1),end:0},tint:5592405}))}if(!p.noMuzzleFlash){const b=this.images.muzzleFlash;b.x=p.length*Q,b.y=(x?-1:1)*this._getOffset(),b.setVisible(!0),b.alpha=.95,b.scale=e.create(K(.75,1.25),K(.5,1.5)*(Kt()?1:-1)),(r=this.anims.muzzleFlashFade)==null||r.kill(),(l=this.anims.muzzleFlashRecoil)==null||l.kill(),this.anims.muzzleFlashFade=this.game.addTween({target:b,to:{alpha:0},duration:100,onComplete:()=>{b.setVisible(!1),this.anims.muzzleFlashFade=void 0}}),this.anims.muzzleFlashRecoil=this.game.addTween({target:b,to:{x:b.x-S},duration:50,yoyo:!0,onComplete:()=>{this.anims.muzzleFlashRecoil=void 0}})}x!==!1&&(this.anims.leftFist=this.game.addTween({target:this.images.leftFist,to:{x:I-S},duration:50,yoyo:!0,onComplete:()=>{this.anims.leftFist=void 0}})),x!==!0&&(this.anims.rightFist=this.game.addTween({target:this.images.rightFist,to:{x:R-S},duration:50,yoyo:!0,onComplete:()=>{this.anims.rightFist=void 0}})),this.spawnCasingParticles("fire",x);break}case Ee.GunClick:{this.playSound("gun_click",{falloff:.8,maxRange:48});break}case Ee.ThrowableCook:{if(this.activeItem.itemType!==z.Throwable){console.warn(`Attempted to play throwable cooking animation with non-throwable item '${this.activeItem.idString}'`);return}this.playSound(this.activeItem.c4?"c4_pin":"throwable_pin");const p=this.activeItem,u=this.images.weapon,y=this.images.altWeapon;u.visible=!0,p.animation.pinImage&&(y.setFrame(p.animation.pinImage),y.setPos(35,0),y.setZIndex(k.Players+1));let I=p.animation.cook.cookingImage??p.animation.liveImage;this.halloweenThrowableSkin&&!p.noSkin&&(I+="_halloween"),u.setFrame(I),this.updateFistsPosition(!1),this.anims.leftFist=this.game.addTween({target:this.images.leftFist,to:{x:35,y:0},duration:p.cookTime/2,onComplete:()=>{this.anims.leftFist=this.game.addTween({target:this.images.leftFist,to:e.scale(p.animation.cook.leftFist,Q),duration:p.cookTime/2,onComplete:()=>{this.anims.leftFist=void 0}}),p.animation.pinImage&&(y.visible=!0,this.anims.pin=this.game.addTween({target:y,duration:p.cookTime/2,to:{...e.add(e.scale(p.animation.cook.leftFist,Q),e.create(15,0))},onComplete:()=>{this.anims.pin=void 0}}))}}),p.cookable&&p.animation.leverImage!==void 0&&this.game.particleManager.spawnParticle({frames:p.animation.leverImage,lifetime:600,position:e.add(this.position,e.scale(p.animation.cook.rightFist,this.sizeMod)),layer:this.layer,zIndex:k.Players+1,speed:e.rotate(e.create(8,8),this.rotation),rotation:this.rotation,alpha:{start:1,end:0},scale:{start:.8*this.sizeMod,end:this.sizeMod}}),this.anims.weapon=this.game.addTween({target:u,to:{x:25,y:10},duration:p.cookTime/2,onComplete:()=>{this.anims.weapon=void 0}}),this.anims.rightFist=this.game.addTween({target:this.images.rightFist,to:{x:25,y:10},duration:p.cookTime/2,onComplete:()=>{this.anims.weapon=this.game.addTween({target:u,to:e.scale(p.animation.cook.rightFist,Q),duration:p.cookTime/2,onComplete:()=>{this.anims.weapon=void 0}}),this.anims.rightFist=this.game.addTween({target:this.images.rightFist,to:e.scale(p.animation.cook.rightFist,Q),duration:p.cookTime/2,onComplete:()=>{this.anims.rightFist=void 0}})}});break}case Ee.ThrowableThrow:{if(this.activeItem.itemType!==z.Throwable){console.warn(`Attempted to play throwable throwing animation with non-throwable item '${this.activeItem.idString}'`);return}this.playSound("throwable_throw");const p=this.activeItem;this.images.altWeapon.visible=!1;const u=this.images.weapon;u.visible=!1,u.setFrame(`${p.idString}${this.halloweenThrowableSkin&&!p.noSkin?"_halloween":""}`),!p.cookable&&p.animation.leverImage!==void 0&&this.game.particleManager.spawnParticle({frames:p.animation.leverImage,lifetime:600,layer:this.layer,position:e.add(this.position,e.scale(p.animation.cook.rightFist,this.sizeMod)),zIndex:k.Players+1,speed:e.rotate(e.create(8,8),this.rotation),rotation:this.rotation,alpha:{start:1,end:0},scale:{start:.8*this.sizeMod,end:this.sizeMod}}),(d=this.anims.rightFist)==null||d.kill(),(m=this.anims.leftFist)==null||m.kill(),(h=this.anims.weapon)==null||h.kill(),this.anims.leftFist=this.game.addTween({target:this.images.leftFist,to:e.scale(p.animation.throw.leftFist,Q),duration:p.throwTime,onComplete:()=>{this.anims.leftFist=void 0,u.setVisible(!0),u.setFrame(`${p.idString}${this.halloweenThrowableSkin&&!p.noSkin?"_halloween":""}`),this.updateFistsPosition(!0)}}),this.anims.rightFist=this.game.addTween({target:this.images.rightFist,to:e.scale(p.animation.throw.rightFist,Q),duration:p.throwTime,onComplete:()=>{this.anims.rightFist=void 0}});break}case Ee.Revive:{this.images.weapon.setVisible(!1),this.images.altWeapon.setVisible(!1),this.images.muzzleFlash.setVisible(!1),this.images.leftFist.setZIndex(4),this.images.rightFist.setZIndex(4),this.anims.leftFist=this.game.addTween({target:this.images.leftFist,to:e.create(28,-45),duration:100,onComplete:()=>{this.anims.leftFist=void 0}}),this.anims.rightFist=this.game.addTween({target:this.images.rightFist,to:e.create(58,48),duration:100,onComplete:()=>{this.anims.rightFist=void 0}});break}}}get bloodDecals(){return this._bloodDecals}hitEffect(i,s,n){var m;const r=Kt()?"1":"2",l=this.activeDisguise?`${this.activeDisguise.material==="crate"?"wood":this.activeDisguise.material}_hit_${r}`:`player_hit_${r}`;this.game.soundManager.play(n??l,{position:i,falloff:.2,maxRange:96,layer:this.layer});let d=this.activeDisguise?this.activeDisguise.frames.particle??`${this.activeDisguise.idString}_particle`:"blood_particle";if((m=this.activeDisguise)!=null&&m.particleVariations&&(d+=`_${Ye(1,this.activeDisguise.particleVariations)}`),this.game.particleManager.spawnParticle({frames:d,zIndex:k.Players+.5,layer:this.layer,position:i,lifetime:1e3,scale:{start:.5*this.sizeMod,end:this.sizeMod},alpha:{start:1,end:0},speed:e.fromPolar(s,K(.5,1))}),this.game.console.getBuiltInCVar("cv_cooler_graphics")&&!this.downed){const h=this.floorType===F.Water;if(this._bloodDecals.add(this.game.particleManager.spawnParticle({frames:"blood_particle",zIndex:k.Decals,layer:this.layer,position:Tt(i,2.5),lifetime:6e4*(h?.1:1),scale:K(.8,1.6),alpha:{start:h?.5:1,end:0,ease:he.expoIn},speed:e.create(0,0),tint:h?11206655:15658734,onDeath:u=>{this._bloodDecals.delete(u)}})),Ot.reify(this._skin).hideBlood||Math.random()>.6)return;const p=new X("blood_particle");p.position=Tt(e.create(0,0),45),p.rotation=qe(),p.scale=K(.4,.8),this.images.blood.addChild(p),setTimeout(()=>{p.destroyed||p.destroy()},3e4)}}destroy(){var l,d,m,h,p,u,y,I,R,x,S;super.destroy();const{images:i,emote:s,teammateName:n,anims:r}=this;i.aimTrail.destroy(),i.vest.destroy(),i.body.destroy(),i.leftFist.destroy(),i.rightFist.destroy(),i.backpack.destroy(),i.helmet.destroy(),i.weapon.destroy(),i.altWeapon.destroy(),i.muzzleFlash.destroy(),i.waterOverlay.destroy(),i.blood.destroy(),i.disguiseSprite.destroy(),s.image.destroy(),s.background.destroy(),s.container.destroy(),n==null||n.text.destroy(),(l=n==null?void 0:n.badge)==null||l.destroy(),n==null||n.container.destroy(),(d=r.emoteHide)==null||d.kill(),(m=r.waterOverlay)==null||m.kill(),(h=r.emote)==null||h.kill(),(p=r.leftFist)==null||p.kill(),(u=r.rightFist)==null||u.kill(),(y=r.weapon)==null||y.kill(),(I=r.muzzleFlashFade)==null||I.kill(),(R=r.muzzleFlashRecoil)==null||R.kill(),(x=this.grenadeImpactPreview)==null||x.destroy(),this.disguiseContainer.destroy(),this.healingParticlesEmitter.destroy(),(S=this.actionSound)==null||S.stop(),clearInterval(this.bleedEffectInterval),this.isActivePlayer&&_("#action-container").hide()}}class Un{constructor(t){c(this,"_perks",0);typeof(this._perks=t??0)=="object"&&(this._perks=t.map(({idString:i})=>1<<je.idStringToNumber[i]).reduce((i,s)=>i+s,0))}addPerk(t){const i=typeof t=="object"?t.idString:t,s=1<<je.idStringToNumber[i],n=(this._perks&s)===0;return this._perks|=s,n}hasPerk(t){const i=typeof t=="object"?t.idString:t;return(this._perks&1<<je.idStringToNumber[i])!==0}removePerk(t){const i=typeof t=="object"?t.idString:t,s=1<<je.idStringToNumber[i],n=(this._perks&s)!==0;return this._perks&=~s,n}ifPresent(t,i){this.hasPerk(t)&&i(je.reify(t))}map(t,i){if(this.hasPerk(t))return i(je.reify(t))}mapOrDefault(t,i,s){return this.hasPerk(t)?i(je.reify(t)):s}asBitfield(){return this._perks}asList(){return je.definitions.filter((t,i)=>(this._perks&1<<i)!==0)}[Symbol.iterator](){return this.asList()[Symbol.iterator]()}}class Gn extends Un{constructor(t,i){super(i),this.game=t}overwrite(t){this._perks=t.asBitfield()}}function ni(o){return 0<o&&o<=1?1:Math.round(o)}const yt=class yt{constructor(t){c(this,"maxHealth",se.player.defaultHealth);c(this,"health",se.player.defaultHealth);c(this,"maxAdrenaline",se.player.maxAdrenaline);c(this,"minAdrenaline",0);c(this,"adrenaline",0);c(this,"inventory",{activeWeaponIndex:0,weapons:new Array(se.player.maxWeapons).fill(void 0),lockedSlots:0,items:JSON.parse(JSON.stringify(pr)),scope:fo});c(this,"emotes",[]);c(this,"teammates",[]);c(this,"perks");c(this,"debugReadouts",Object.freeze({fps:_("#fps-counter"),ping:_("#ping-counter"),pos:_("#coordinates-hud")}));c(this,"hasC4s",!1);c(this,"ui",Object.freeze({loadingText:_("#loading-text"),ammoCounterContainer:_("#weapon-ammo-container"),activeAmmo:_("#weapon-clip-ammo-count"),reserveAmmo:_("#weapon-inventory-ammo"),reloadIcon:_("#weapon-clip-reload-icon"),killStreakIndicator:_("#killstreak-indicator-container"),killStreakCounter:_("#killstreak-indicator-counter"),weaponsContainer:_("#weapons-container"),minMaxAdren:_("#adrenaline-bar-min-max"),maxHealth:_("#health-bar-max"),healthBar:_("#health-bar"),healthBarAmount:_("#health-bar-amount"),healthAnim:_("#health-bar-animation"),adrenalineBar:_("#adrenaline-bar"),adrenalineBarAmount:_("#adrenaline-bar-amount"),killFeed:_("#kill-feed"),gameUi:_("#game-ui"),interactMsg:_("#interact-message"),interactKey:_("#interact-key"),interactText:_("#interact-text"),teamContainer:_("#team-container"),createTeamMenu:_("#create-team-menu"),emoteButton:_("#btn-emotes"),pingToggle:_("#btn-toggle-ping"),menuButton:_("#btn-game-menu"),emoteWheel:_("#emote-wheel"),emoteSelectors:[".emote-top",".emote-right",".emote-bottom",".emote-left"].map(t=>_(`#emote-wheel > ${t}`)),actionContainer:_("#action-container"),actionName:_("#action-name"),actionTime:_("#action-time"),actionTimer:_("#action-timer-anim"),spectatingContainer:_("#spectating-container"),spectatingMsg:_("#spectating-msg"),spectatingMsgPlayer:_("#spectating-msg-player"),btnSpectate:_("#btn-spectate"),spectatePrevious:_("#btn-spectate-previous"),spectateNext:_("#btn-spectate-next"),spectatingOptions:_("#btn-spectate-options-icon"),btnPlayAgainSpectating:_("#btn-spectate-replay"),btnSpectateMenu:_("#btn-spectate-menu"),gasAndDebug:_("#gas-and-debug"),gasMsg:_("#gas-msg"),gasMsgInfo:_("#gas-msg-info"),joystickContainer:_("#joysticks-containers"),gameOverOverlay:_("#game-over-overlay"),gameOverText:_("#game-over-text"),gameOverPlayerName:_("#game-over-player-name"),gameOverKills:_("#game-over-kills"),gameOverDamageDone:_("#game-over-damage-done"),gameOverDamageTaken:_("#game-over-damage-taken"),gameOverTime:_("#game-over-time"),gameOverRank:_("#game-over-rank"),chickenDinner:_("#chicken-dinner"),killMsgModal:_("#kill-msg"),killMsgHeader:_("#kill-msg-kills"),killMsgCounter:_("#ui-kills"),killMsgContainer:_("#kill-msg-cont"),killLeaderLeader:_("#kill-leader-leader"),killLeaderCount:_("#kill-leader-kills-counter"),spectateKillLeader:_("#btn-spectate-kill-leader"),splashMsgText:_("#splash-server-message-text"),splashMsg:_("#splash-server-message"),splashUi:_("#splash-ui"),splashOptions:_("#splash-options"),btnReport:_("#btn-report"),reportingName:_("#reporting-name"),reportingId:_("#report-id"),reportingModal:_("#report-modal"),game:_("#game"),gameMenu:_("#game-menu"),canvas:_("canvas"),playerAlive:_("#ui-players-alive"),newsPosts:_("#news-posts"),lockedInfo:_("#locked-info"),lockedTooltip:_("#locked-tooltip"),lockedTime:_("#locked-time"),warningTitle:_("#warning-modal-title"),warningText:_("#warning-modal-text"),warningAgreeOpts:_("#warning-modal-agree-options"),warningAgreeCheckbox:_("#warning-modal-agree-checkbox"),warningModal:_("#warning-modal"),btnStartGame:_("#btn-start-game"),createTeamToggles:_("#create-team-toggles"),createTeamUrl:_("#create-team-url-field"),createTeamAutoFill:_("#create-team-toggle-auto-fill"),createTeamLock:_("#create-team-toggle-lock"),createTeamPlayers:_("#create-team-players"),closeCreateTeam:_("#close-create-team"),c4Button:_("#c4-detonate-btn"),detonateKey:_("#detonate-key"),inventoryMsg:_("#inventory-message")}));c(this,"_weaponSlotCache",new Pa);c(this,"_itemCountCache",{});c(this,"_itemSlotCache",{});c(this,"_scopeSlotCache",{});c(this,"action",{active:!1,fake:!1,start:-1,time:0});c(this,"gameOverScreenTimeout");c(this,"mapPings",["warning_ping","arrow_ping","gift_ping","heal_ping"].map(t=>Si.fromString(t)));c(this,"_teammateDataCache",new Map);c(this,"_oldHealthPercent",100);c(this,"skinID");c(this,"_perkSlots",[]);c(this,"_animationTimeouts",[]);c(this,"_killMessageTimeoutID");if(this.game=t,yt._instantiated)throw new Error("Class 'UIManager' has already been instantiated");yt._instantiated=!0,this.perks=new Gn(this.game)}getRawPlayerNameNullish(t){const i=this.game.playerNames.get(t)??this._teammateDataCache.get(t);let s;return i?this.game.console.getBuiltInCVar("cv_anonymize_player_names")?s=`${se.player.defaultName}_${t}`:s=i.name:console.warn(`Unknown player name with id ${t}`),s}getRawPlayerName(t){return this.getRawPlayerNameNullish(t)??"[Unknown Player]"}getPlayerName(t){var r;const i=_("<span>"),s=this.game.playerNames.get(t)??this._teammateDataCache.get(t),n=this.getRawPlayerName(t);return s&&s.hasColor&&!this.game.console.getBuiltInCVar("cv_anonymize_player_names")&&i.css("color",((r=s.nameColor)==null?void 0:r.toHex())??""),i.text(n),i.prop("outerHTML")}getPlayerBadge(t){if(this.game.console.getBuiltInCVar("cv_anonymize_player_names"))return;const i=this.game.playerNames.get(t)??this._teammateDataCache.get(t);switch(!0){case this.game.console.getBuiltInCVar("cv_anonymize_player_names"):return;case i===void 0:{console.warn(`Unknown player name with id ${t}`);return}default:return i.badge}}static getHealthColor(t,i){switch(!0){case t<=.25:case i:return"#ff0000";case(t>.25&&t<.6):return`rgb(255, ${(t*100-10)*4}, ${(t*100-10)*4})`;case t===1:return"#bdc7d0";default:return"#f8f9fa"}}getTeammateColorIndex(t){const i=this.game.uiManager.teammates.find(n=>n.id===t);return i?i.colorIndex:this.game.teamMode?void 0:0}_getSlotUI(t){return this._weaponSlotCache.getAndGetDefaultIfAbsent(t,()=>{const i=_(`#weapon-slot-${t}`),s=i.children(".main-container");return{container:i,inner:s,name:s.children(".item-name"),image:s.children(".item-image"),ammo:s.children(".item-ammo")}})}animateAction(t,i,s=!1){this.action.fake=s,i>0&&(this.action.start=Date.now(),this.ui.actionTimer.stop().css({"stroke-dashoffset":"226"}).animate({"stroke-dashoffset":"0"},i*1e3,"linear",()=>{this.ui.actionContainer.hide(),this.action.active=!1})),t&&(this.ui.actionName.text(t),this.ui.actionContainer.show()),this.action.active=!0,this.action.time=i}updateAction(){const t=this.action.time-(Date.now()-this.action.start)/1e3;t>0&&this.ui.actionTime.text(t.toFixed(1))}cancelAction(){this.ui.actionContainer.hide().stop(),this.action.active=!1}showGameOverScreen(t){var x,S;const i=this.game;this.ui.interactMsg.hide(),this.ui.spectatingContainer.hide(),(S=(x=i.activePlayer)==null?void 0:x.actionSound)==null||S.stop(),this.ui.gasMsg.fadeOut(500),this.ui.joystickContainer.hide();const{gameOverOverlay:s,chickenDinner:n,gameOverText:r,gameOverRank:l,gameOverPlayerName:d,gameOverKills:m,gameOverDamageDone:h,gameOverDamageTaken:p,gameOverTime:u}=this.ui;i.gameOver=!0,t.won?this.ui.btnSpectate.hide():(this.ui.btnSpectate.removeClass("btn-disabled").show(),i.map.indicator.setFrame("player_indicator_dead")),n.toggle(t.won);const y=this.getPlayerName(t.playerID),I=this.getPlayerBadge(t.playerID),R=I?Pe`<img class="badge-icon" src="./img/game/shared/badges/${I.idString}.svg" alt="${I.name} badge">`:"";r.html(t.won?C("msg_win"):this.game.spectating?C("msg_player_died",{player:this.getPlayerName(t.playerID)}):C("msg_you_died")),d.html(y+R),m.text(t.kills),h.text(t.damageDone),p.text(t.damageTaken),u.text(Lo(t.timeAlive)),t.won&&i.music.play(),this.gameOverScreenTimeout=window.setTimeout(()=>s.fadeIn(500),500),l.text(`#${t.rank}`).toggleClass("won",t.won)}updateEmoteWheel(){var i,s;const{pingWheelActive:t}=this.game.inputManager;if(this.game.teamMode){_("#ammos-container, #healing-items-container").toggleClass("active",t);for(const n of Ct){const r=(i=this._itemSlotCache)[s=n.idString]??(i[s]=_(`#${n.idString}-slot`));t&&n.hideUnlessPresent?r.css("visibility","visible"):n.hideUnlessPresent&&this.inventory.items[n.idString]===0&&r.css("visibility","hidden")}}for(let n=0;n<4;n++){const r=(t?this.mapPings:this.emotes)[n];this.ui.emoteSelectors[n].css("background-image",r?`url("./img/game/shared/${t?"mapPings":"emotes"}/${r.idString}.svg")`:"")}}clearTeammateCache(){for(const[,t]of this._teammateDataCache)t.destroy();this._teammateDataCache.clear()}updateUI(t){var I,R,x;const{minMax:i,health:s,adrenaline:n,zoom:r,id:l,teammates:d,inventory:m,lockedSlots:h,items:p,activeC4s:u,perks:y}=t;if(l!==void 0&&(this.game.activePlayerID=l.id),l){const S=l.spectating;if(this.game.spectating=S,S){const b=this.getPlayerBadge(l.id),v=b?Pe`<img class="badge-icon" src="./img/game/shared/badges/${b.idString}.svg" alt="${b.name} badge">`:"";this.ui.gameOverOverlay.fadeOut(),this.ui.spectatingMsgPlayer.html(this.getPlayerName(l.id)+v)}this.ui.spectatingContainer.toggle(S&&this.ui.spectatingOptions.hasClass("fa-eye-slash")),this.ui.spectatingMsg.toggle(S),this.clearTeammateCache(),this.game.inputManager.isMobile&&(this.ui.emoteButton.toggle(!S),this.ui.pingToggle.toggle(!S),this.ui.menuButton.toggle(!S))}if(i&&(this.maxHealth=i.maxHealth,this.minAdrenaline=i.minAdrenaline,this.maxAdrenaline=i.maxAdrenaline,this.maxHealth===se.player.defaultHealth?this.ui.maxHealth.text("").hide():this.ui.maxHealth.text(ni(this.maxHealth)).show(),this.maxAdrenaline===se.player.maxAdrenaline&&this.minAdrenaline===0?this.ui.minMaxAdren.text("").hide():this.ui.minMaxAdren.text(`${this.minAdrenaline===0?"":`${ni(this.minAdrenaline)}/`}${ni(this.maxAdrenaline)}`).show()),s!==void 0){this.health=U.remap(s,0,1,0,this.maxHealth);const S=this.health/this.maxHealth,b=100*S;this.ui.healthBar.width(`${b}%`).css("background-color",yt.getHealthColor(S,(I=this.game.activePlayer)==null?void 0:I.downed)).toggleClass("flashing",b<=25),this.ui.healthAnim.stop(),this._oldHealthPercent-b>=1?this.ui.healthAnim.width(`${this._oldHealthPercent}%`).animate({width:`${b}%`},500):this.ui.healthAnim.width(`${b}%`),this._oldHealthPercent=b,this.ui.healthBarAmount.text(ni(this.health)).css("color",b<=40||(R=this.game.activePlayer)!=null&&R.downed?"#ffffff":"#000000")}if(d&&this.game.teamMode){this.teammates=d;const S=this._teammateDataCache,b=new Set(S.keys());[{id:this.game.activePlayerID,normalizedHealth:this.health/this.maxHealth,downed:(x=this.game.activePlayer)==null?void 0:x.downed,disconnected:!1,position:void 0},...d].forEach((v,P)=>{const{id:D}=v;b.delete(D);const O=S.get(D),A=this.game.playerNames.get(D),L={hasColor:A==null?void 0:A.hasColor,nameColor:A!=null&&A.hasColor?A.nameColor:null,name:A==null?void 0:A.name,badge:(A==null?void 0:A.badge)??null};if(O!==void 0){O.update({...v,...L,colorIndex:P});return}const H=new Nn(this.game,{id:D,colorIndex:P,downed:v.downed,normalizedHealth:v.normalizedHealth,position:v.position,...L});S.set(D,H),this.ui.teamContainer.append(H.container)});for(const v of b)S.get(v).destroy(),S.delete(v)}if(r&&(this.game.camera.zoom=r),n!==void 0){this.adrenaline=U.remap(n,0,1,this.minAdrenaline,this.maxAdrenaline);const S=100*this.adrenaline/this.maxAdrenaline;this.ui.adrenalineBar.width(`${S}%`),this.ui.adrenalineBarAmount.text(ni(this.adrenaline)).css("color",this.adrenaline<7?"#ffffff":"#000000")}if(m!=null&&m.weapons&&(this.inventory.weapons=m.weapons,this.inventory.activeWeaponIndex=m.activeWeaponIndex),h!==void 0&&(this.inventory.lockedSlots=h,this.updateSlotLocks()),p&&(this.inventory.items=p.items,this.inventory.scope=p.scope,this.updateItems()),(m!=null&&m.weapons||p)&&this.updateWeapons(),u!==void 0&&(this.ui.c4Button.toggle(u),this.hasC4s=u),y){const S=this.perks.asList(),b=S.length;this.perks.overwrite(y);const v=this.perks.asList(),P=v.length;P===0&&this.resetPerkSlots();const D=U.max(b,P);for(let O=0;O<D;O++){const A=v[O];if(A===void 0){this.resetPerkSlot(O);continue}S[O]!==A&&this.updatePerkSlot(A,O)}}}updateWeapons(){var r;const t=this.inventory,i=t.activeWeaponIndex,s=t.weapons[i],n=s==null?void 0:s.count;if(s===void 0||n===void 0||la)this.ui.ammoCounterContainer.hide();else{this.ui.ammoCounterContainer.show(),this.ui.activeAmmo.text(n).css("color",n>0?"inherit":"red");let l=!1;if(s.definition.itemType===z.Gun){const d=s.definition.ammoType;let m=this.perks.hasPerk(nt.InfiniteAmmo)?"∞":this.inventory.items[d];for(const h of Ct)if(h.idString===d&&h.ephemeral){m="∞";break}l=m!==0,this.ui.reserveAmmo.show().text(m)}this.ui.ammoCounterContainer.toggleClass("has-reserve",l),l||this.ui.reserveAmmo.hide(),this.game.inputManager.isMobile&&this.ui.reloadIcon.toggle(s.definition.itemType!==z.Throwable)}((r=s==null?void 0:s.stats)==null?void 0:r.kills)===void 0?this.ui.killStreakIndicator.hide():(this.ui.killStreakIndicator.show(),this.ui.killStreakCounter.text(`Streak: ${s.stats.kills}`)),this.updateWeaponSlots()}updateSlotLocks(){const t=se.player.maxWeapons;for(let i=0;i<t;this._getSlotUI(i+1).container.toggleClass("locked",!!(this.inventory.lockedSlots&1<<i)),i++);}updateWeaponSlots(){var n;const t=this.inventory;let i;(r=>{r.HasItem="has-item",r.IsActive="active"})(i||(i={}));const s=se.player.maxWeapons;for(let r=0;r<s;r++){const{container:l,image:d,ammo:m,name:h}=this._getSlotUI(r+1),p=t.weapons[r],u=this.inventory.activeWeaponIndex===r,y=m.text(),I=y.length?+y!==(p==null?void 0:p.count):(p==null?void 0:p.count)!==void 0,R=l.hasClass("has-item"),x=l.hasClass("active")!==u;if(p){const S=p.definition,b="ammoType"in S,v=b?Ct.fromString(S.ammoType).characteristicColor:{hue:0,saturation:0,lightness:0};R||l.addClass("has-item"),x&&l.toggleClass("active",u),l.css(b&&this.game.console.getBuiltInCVar("cv_weapon_slot_style")==="colored"?{"outline-color":`hsl(${v.hue}, ${v.saturation}%, ${(v.lightness+50)/3}%)`,"background-color":`hsla(${v.hue}, ${v.saturation}%, ${v.lightness/2}%, 50%)`,color:`hsla(${v.hue}, ${v.saturation}%, 90%)`}:{"outline-color":"","background-color":"",color:""}),h.text(p.definition.idString.startsWith("dual_")?C("dual_template",{gun:C(p.definition.idString.slice(5))}):C(p.definition.idString));const P=p.definition.idString==="fists",D=d.attr("src");let O=p.definition.idString;this.perks.hasPerk(nt.PlumpkinBomb)&&p.definition.itemType===z.Throwable&&!p.definition.noSkin&&(O+="_halloween");const A=`./img/game/shared/weapons/${O}.svg`;D!==A&&(this._playSlotAnimation(l),d.attr("src",A));const L=P?this.skinID!==void 0&&((n=Ot.fromStringSafe(this.skinID))!=null&&n.grassTint)?`url("data:image/svg+xml,${encodeURIComponent(`<svg width="34" height="34" viewBox="0 0 8.996 8.996" xmlns="http://www.w3.org/2000/svg"><circle fill="${jt.toHex()}" stroke="${new vt(jt).multiply("#111").toHex()}" stroke-width="1.05833" cx="4.498" cy="4.498" r="3.969"/></svg>`)}")`:`url(./img/game/shared/skins/${this.skinID??this.game.console.getBuiltInCVar("cv_loadout_skin")}_fist.svg)`:"none";d.css("background-image",L).toggleClass("is-fists",P).show();const H=p.count;I&&H!==void 0&&m.text(H).css("color",H>0?"unset":"red")}else l.removeClass("has-item").removeClass("active").css({"outline-color":"","background-color":"",color:""}),h.css("color","").text(""),d.removeAttr("src").hide(),m.text("")}}_playSlotAnimation(t){t.toggleClass("active"),t[0].offsetWidth,t.toggleClass("active")}resetPerkSlot(t){const i=_(`#perk-slot-${t}`);i.children(".item-tooltip").html(""),i.children(".item-image").attr("src",""),i.css("visibility","hidden"),i.off("pointerdown")}updatePerkSlot(t,i){var r;i>3&&(i=0);const s=(r=this._perkSlots)[i]??(r[i]=_(`#perk-slot-${i}`));s.attr("data-idString",t.idString),s.children(".item-tooltip").html(`<strong>${t.name}</strong><br>${t.description}`),s.children(".item-image").attr("src",`./img/game/${t.category===So.Halloween?"halloween":"fall"}/perks/${t.idString}.svg`),s.css("visibility",this.perks.hasPerk(t.idString)?"visible":"hidden"),s.css("outline",t.noDrop?"none":"");const n=3e3;clearTimeout(this._animationTimeouts[i]),s.css("animation",`perk-${t.type??"normal"}-colors 1.5s linear infinite`),this._animationTimeouts[i]=window.setTimeout(()=>{s.css("animation","none")},n)}resetPerkSlots(){for(let t=0;t<3;t++)this.resetPerkSlot(t)}updateItems(){var t,i,s,n;for(const r in this.inventory.items){const l=this.inventory.items[r],d=(t=this._itemCountCache)[r]??(t[r]=_(`#${r}-count`)),m=(i=this._itemSlotCache)[r]??(i[r]=_(`#${r}-slot`)),h=ge.fromString(r);if(+d.text()<l&&m.length&&this._playSlotAnimation(m),d.text(l),this.game.activePlayer){const u=this.game.activePlayer.equipment.backpack;m.toggleClass("full",l>=u.maxCapacity[r])}const p=l>0;m.toggleClass("has-item",p),h.itemType===z.Ammo&&h.hideUnlessPresent&&m.css("visibility",p?"visible":"hidden"),h.itemType===z.Scope&&!la&&m.toggle(p).removeClass("active")}((s=this._scopeSlotCache)[n=this.inventory.scope.idString]??(s[n]=_(`#${this.inventory.scope.idString}-slot`))).addClass("active")}_addKillMessage(t){const{severity:i,victimName:s,weaponUsed:n,type:r}=t,{killMsgHeader:l,killMsgCounter:d}=this.ui;let m="";switch(i){case ue.Kill:{const{streak:p,kills:u}=t;l.text(C("msg_kills",{kills:u.toString()})),d.text(u),m=p?` (streak: ${p})`:"";break}case ue.Down:l.text("")}let h=yt._killModalEventDescription[r][i](_(s).addClass("kill-msg-player-name")[0].outerHTML,n!==void 0?n:"");if(C("you")===""){for(;h.startsWith(" ")||h.startsWith("  ");)h=h.replace(h[0],"");h=h.replace(h[0],h[0].toUpperCase())}this.ui.killMsgContainer.html(`${h}${m}`),this.ui.killMsgModal.fadeIn(350,()=>{clearTimeout(this._killMessageTimeoutID),this._killMessageTimeoutID=window.setTimeout(()=>{this.ui.killMsgModal.fadeOut(350)},3e3)})}_addKillFeedMessage(t,i){var r;const s=_('<div class="kill-feed-item">');s.html(t),s.addClass(i);const n=this._getKillFeedElements();this.ui.killFeed.prepend(s),s.css("opacity",0),n.forEach(l=>{const d=l.element.getBoundingClientRect();d.y!==l.position.y&&l.element.animate([{transform:`translateY(${l.position.y-d.y}px)`},{transform:"translateY(0px)"}],{duration:300,iterations:1,easing:"ease-in"})}),s.css("opacity",""),(r=s.get(0))==null||r.animate([{opacity:0},{opacity:1}],{duration:300,iterations:1,easing:"ease-in"});{let l=0;for(;this.ui.killFeed.children().length>5;)++l===1e3&&console.warn("1000 iterations of removing killfeed entries; possible infinite loop"),this.ui.killFeed.children().last().remove()}setTimeout(()=>{var d;const l=(d=s.get(0))==null?void 0:d.animate([{opacity:1,transform:"translateX(0%)"},{opacity:0,transform:"translateY(100%)"}],{duration:300,fill:"backwards",easing:"ease-out"});l&&(l.onfinish=()=>{s.remove()})},7e3)}_getKillFeedElements(){return this.ui.killFeed.children().toArray().map(t=>{const i=t.getBoundingClientRect();return{element:t,position:e.create(i.x,i.y)}})}processKillFeedPacket(t){const{messageType:i}=t,s=l=>{const d=l!==void 0,m=d?this.getPlayerBadge(l):void 0;return{name:d?this.getPlayerName(l):"",badgeText:m?Pe`<img class="badge-icon" src="./img/game/shared/badges/${m.idString}.svg" alt="${m.name} badge">`:""}};let n;const r=[];switch(i){case Ce.DeathOrDown:{const{victimId:l,severity:d,eventType:m,weaponUsed:h}=t,p=h!==void 0,u=p&&"itemType"in h&&h.itemType===z.Throwable,y="attackerId"in t?t.attackerId:void 0,{name:I,badgeText:R}=s(l),{name:x,badgeText:S}=y!==void 0?s(y):{name:"",badgeText:""};let b=I+R;const v=x+S,P="killstreak"in t?t.killstreak:void 0,D=!!P,O=this.game.console.getBuiltInCVar("cv_language");switch(this.game.console.getBuiltInCVar("cv_killfeed_style")){case"text":{let L="",H=!1;po.includes(O)&&n&&(n=n.replaceAll("<span>",'<span style="display:contents;">'));const te=p?C(h.idString)===h.idString?h.name:C(h.idString):"";O==="tr"&&(b=b.replace("<span>",'<span style="display:contents;">'));e:switch(m){case ne.FinallyKilled:switch(y){case void 0:L=C("kf_finally_died",{player:b});break e;case l:L=C("kf_finally_ended_themselves",{player:b});break e}case ne.NormalTwoParty:L=C("kf_message",{player:v,finally:"",event:C(`kf_${d===ue.Down?"knocked":"killed"}`),victim:b,with:te===""?"":C("with"),weapon:te}),H=!0;break;case ne.FinishedOff:L=C("kf_message",{player:v,finally:"",event:C("kf_finished_off"),victim:b,with:te===""?"":C("with"),weapon:te}),H=!0;break;case ne.Suicide:L=C(`kf_message${O==="tr"||O==="et"?"_grammar":""}`,{player:b,finally:"",event:C(`kf_suicide_${d===ue.Down?"down":"kill"}`,{player:""}),victim:"",with:te===""?"":C("with"),weapon:te}),H=!0;break;case ne.BleedOut:L=C(`kf_bleed_out_${d===ue.Down?"down":"kill"}`,{player:b});break;case ne.Gas:L=C(`kf_gas_${d===ue.Down?"down":"kill"}`,{player:b});break;case ne.Airdrop:L=C(`kf_airdrop_${d===ue.Down?"down":"kill"}`,{player:b});break}const N=`a${"aeiou".includes(te[0])?"n":""}`,ie=p?` with ${u?`the impact of ${N} `:""}${te}`:"",q=(()=>{switch(d){case ue.Down:return Pe`<img class="kill-icon" src="./img/misc/downed.svg" alt="Downed">`;case ue.Kill:return Pe`<img class="kill-icon" src="./img/misc/skull_icon.svg" alt="Skull">`}})();H?n=`${q}${L}`:n=`
                            ${D&&d===ue.Kill?P:""}
                            ${q}
                            ${L}${ie}`;break}case"icon":{const L=Pe`<img class="kill-icon" src="./img/misc/downed.svg" alt="Downed">`,H=Pe`<img class="kill-icon" src="./img/misc/skull_icon.svg" alt="Finished off">`,te=Pe`<img class="kill-icon" src="./img/misc/bleed_out.svg" alt="Bleed out">`,N=Pe`<img class="kill-icon" src="./img/misc/finally_killed.svg" alt="Finally killed">`,ie=D?Pe`
                            <span style="font-size: 80%">(${P}
                                <img class="kill-icon" src="./img/misc/skull_icon.svg" alt="Skull" height=12>)
                            </span>`:"";let q="";switch(m){case ne.Gas:q="gas";break;case ne.Airdrop:q="airdrop";break;default:q=(h==null?void 0:h.idString)??"";break}const re=h?h.name:q,ee=Pe`<img class="kill-icon" src="./img/killfeed/${q}_killfeed.svg" alt="${re}">`,le=(()=>{switch(d){case ue.Down:return L;case ue.Kill:return""}})();let fe="";switch(m){case ne.FinallyKilled:switch(y){case void 0:fe=`${H} ${b}`;break;case l:fe=`${N} ${b}`;break;default:fe=`${v} ${ie} ${N} ${b}`;break}break;case ne.NormalTwoParty:fe=`${v} ${ie} ${ee} ${b}`;break;case ne.FinishedOff:fe=`${H} ${v} ${ie} ${ee} ${b}`;break;case ne.Suicide:case ne.Gas:case ne.Airdrop:fe=`${ee} ${b}`;break;case ne.BleedOut:fe=`${te} ${b}`;break}n=le+fe;break}}const A=L=>{let H;return L===this.game.activePlayerID||L!==void 0&&((H=this.game.objects.get(L))&&H.isPlayer&&H.teamID===this.game.teamID||this._teammateDataCache.has(L))};switch(!0){case A(l):{r.push("kill-feed-item-victim");break}case A(y):{if(r.push("kill-feed-item-killer"),y===this.game.activePlayerID){const L={victimName:b,weaponUsed:p?C(h.idString)===h.idString?h.name:C(h.idString):"",type:m};this._addKillMessage(d===ue.Kill?{severity:d,...L,weaponUsed:m!==ne.FinallyKilled?L.weaponUsed:void 0,kills:"attackerKills"in t?t.attackerKills:0,streak:P}:{severity:d,...L})}break}}break}case Ce.KillLeaderAssigned:{const{killLeaderLeader:l,killLeaderCount:d,spectateKillLeader:m}=this.ui,{victimId:h,attackerKills:p,hideFromKillfeed:u}=t,{name:y,badgeText:I}=s(h),R=y+I;r.push(h===this.game.activePlayerID?"kill-feed-item-killer":"kill-feed-kill-leader"),l.html(R),d.text(p),u||(n=Pe`<i class="fa-solid fa-crown"></i> ${C("kf_kl_promotion",{player:R})}`,this.game.soundManager.play("kill_leader_assigned")),m.removeClass("btn-disabled");break}case Ce.KillLeaderUpdated:{const{attackerKills:l}=t;this.ui.killLeaderCount.text(l);break}case Ce.KillLeaderDeadOrDisconnected:{const{killLeaderLeader:l,killLeaderCount:d,spectateKillLeader:m}=this.ui,{attackerId:h,victimId:p}=t;if(t.disconnected===!0){l.text(C("msg_waiting_for_leader")),d.text("0"),this.game.soundManager.play("kill_leader_dead"),m.addClass("btn-disabled");break}const{name:u,badgeText:y}=h!==void 0?s(h):{name:"",badgeText:""},I=u+y;switch(l.text(C("msg_waiting_for_leader")),d.text("0"),n=Pe`<img class="kill-icon" src="./img/misc/skull_icon.svg" alt="Skull"> ${h?h!==p?C("kf_kl_killed",{player:I}):C("kf_kl_dead"):C("kf_kl_suicide")}`,this.game.activePlayerID){case h:{r.push("kill-feed-item-killer");break}case p:{r.push("kill-feed-item-victim");break}default:{r.push("kill-feed-kill-leader");break}}this.game.soundManager.play("kill_leader_dead"),m.addClass("btn-disabled");break}}po.includes(this.game.console.getBuiltInCVar("cv_language"))&&r.push("no-spaces"),n&&this._addKillFeedMessage(n,r)}};c(yt,"_instantiated",!1),c(yt,"_killModalEventDescription",mr({[ne.Suicide]:{[ue.Kill]:(t,i)=>C("km_message",{you:C("you"),finally:"",event:C("kf_suicide_kill",{player:""}),victim:"",with:i===""?"":C("with"),weapon:i}),[ue.Down]:(t,i)=>C("km_message",{you:C("you"),finally:"",event:C("km_knocked"),victim:C("yourself"),with:i===""?"":C("with"),weapon:i})},[ne.NormalTwoParty]:{[ue.Kill]:(t,i)=>C("km_message",{you:C("you"),finally:"",event:C("km_killed"),victim:t,with:i===""?"":C("with"),weapon:i}),[ue.Down]:(t,i)=>C("km_message",{you:C("you"),finally:"",event:C("km_knocked"),victim:t,with:i===""?"":C("with"),weapon:i})},[ne.BleedOut]:{[ue.Kill]:t=>C("kf_bleed_out_kill",{player:t}),[ue.Down]:t=>C("kf_bleed_out_down",{player:t})},[ne.FinishedOff]:{[ue.Kill]:(t,i)=>C("km_message",{you:C("you"),finally:C("finally"),event:C("km_killed"),victim:t,with:i===""?"":C("with"),weapon:i}),[ue.Down]:t=>`${t} was gently finished off`},[ne.FinallyKilled]:{[ue.Kill]:t=>C("kf_finally_killed",{player:t}),[ue.Down]:t=>C("kf_finally_down",{player:t})},[ne.Gas]:{[ue.Kill]:t=>C("kf_gas_kill",{player:t}),[ue.Down]:t=>C("kf_gas_down",{player:t})},[ne.Airdrop]:{[ue.Kill]:t=>C("kf_airdrop_kill",{player:t}),[ue.Down]:t=>C("kf_airdrop_down",{player:t})}}));let $i=yt;class ot{constructor(t){c(this,"_dirty",!0);c(this,"_value");this._value=t}get dirty(){return this._dirty}get value(){return this._value}set value(t){this._value!==t&&(this._dirty=!0,this._value=t)}markClean(){this._dirty&&(this._dirty=!1)}}class Nn{constructor(t,i){c(this,"game");c(this,"container");c(this,"svgContainer");c(this,"healthDisplay");c(this,"indicatorContainer");c(this,"teammateIndicator");c(this,"nameLabel");c(this,"badgeImage");c(this,"_id",new ot(-1));c(this,"_normalizedHealth",new ot(1));c(this,"_downed",new ot(void 0));c(this,"_disconnected",new ot(!1));c(this,"_position",new ot(void 0));c(this,"_colorIndex",new ot(0));c(this,"_name",new ot(se.player.defaultName));c(this,"_hasColor",new ot(!1));c(this,"_nameColor",new ot(void 0));c(this,"_badge",new ot(void 0));this.game=t,this.container=_('<div class="teammate-container"></div>'),this.svgContainer=_('<svg class="teammate-health-indicator" width="48" height="48" xmlns="http://www.w3.org/2000/svg"></svg>'),this.healthDisplay=_('<svg><circle r="21" cy="24" cx="24" stroke-width="6" stroke-dasharray="132" fill="none" style="transition: stroke-dashoffset ease-in-out 50ms;" /></svg>').find("circle"),this.indicatorContainer=_('<div class="teammate-indicator-container"></div>'),this.teammateIndicator=_('<img class="teammate-indicator" />'),this.nameLabel=_('<span class="teammate-name"></span>'),this.badgeImage=_('<img class="teammate-badge" />'),this.container.append(this.svgContainer.append(this.healthDisplay),this.indicatorContainer.append(this.teammateIndicator),this.nameLabel,this.badgeImage),typeof(i==null?void 0:i.id)=="number"&&(this._id.value=i.id,this._id.markClean()),this.update(i)}get id(){return this._id.value}get normalizedHealth(){return this._normalizedHealth.value}get downed(){return this._downed.value}get disconnected(){return this._disconnected.value}get position(){return this._position.value}get colorIndex(){return this._colorIndex.value}get name(){return this._name.value}get hasColor(){return this._hasColor.value}get nameColor(){return this._nameColor.value}get badge(){return this._badge.value}update(t){const i=this._id.value,s=this._normalizedHealth.value<=0;t!==void 0&&["id","colorIndex","downed","disconnected","normalizedHealth","position","name","hasColor","nameColor","badge"].forEach(l=>{const d=t[l];l in t&&d!==null&&(this[`_${l}`].value=d)}),this._id.dirty&&console.warn(`PlayerHealthUI id unexpectedly marked dirty (was ${i}, currently ${this._id.value}); ignoring change request.`);let n=!1;if(this._normalizedHealth.dirty){const l=this._normalizedHealth.value;this.healthDisplay.css("stroke",$i.getHealthColor(l,this._downed.value)).css("stroke-dashoffset",132*(1-l)),n=s!==l<=0}if(this._downed.dirty&&(this.container.toggleClass("downed",this._downed.value===!0),n=!0),this._disconnected.dirty){this.container.toggleClass("disconnected",this._disconnected.value);const l=this.game.map.teammateIndicators.get(i);l==null||l.setAlpha(this._disconnected.value?.5:1),n=!0}let r;if(i===this.game.activePlayerID)r=this.game.map.indicator;else{const{teammateIndicators:l}=this.game.map;if(this._position.dirty&&this._position.value){if((r=l.get(i))===void 0){const d=yi[this.game.uiManager.getTeammateColorIndex(i)??this._colorIndex.value];l.set(i,r=new X("player_indicator").setTint(d)),this.game.map.teammateIndicatorContainer.addChild(r)}r.setVPos(this._position.value).setScale(this.game.map.expanded?1:.75)}r??(r=l.get(i))}if(n){const l=`player_indicator${this._normalizedHealth.value===0?"_dead":this._downed.value?"_downed":""}`,d=`./img/game/shared/player/${l}.svg`;this.teammateIndicator.attr("src")!==d&&this.teammateIndicator.attr("src",d),r==null||r.setFrame(l)}if(this._colorIndex.dirty){const l=yi[this.game.uiManager.getTeammateColorIndex(i)??this._colorIndex.value];this.indicatorContainer.css("background-color",l.toHex()),r==null||r.setTint(l)}if(this._name.dirty&&this.nameLabel.text((this.game.uiManager.getRawPlayerNameNullish(i)??this._name.value)||"Loading…"),(this._hasColor.dirty&&this._nameColor.value||this._nameColor.dirty&&this._hasColor.value)&&this.nameLabel.css("color",this._hasColor.value&&this._nameColor.value?this._nameColor.value.toHex():""),this._badge.dirty){const l=this.game.playerNames.get(i);if(l!=null&&l.badge){const d=`./img/game/shared/badges/${l.badge.idString}.svg`;this.badgeImage.attr("src")!==d&&this.badgeImage.attr("src",d).css({display:"",visibility:""})}else this.badgeImage.attr("src","").css({display:"none",visibility:"none"})}["id","colorIndex","downed","disconnected","normalizedHealth","position","name","hasColor","nameColor","badge"].forEach(l=>{this[`_${l}`].markClean()})}destroy(){var s;this.container.remove();const t=this._id.value,i=this.game.map.teammateIndicators;(s=i.get(t))==null||s.destroy(),i.delete(t)}}class jn extends _t.derive(Y.Building){constructor(i,s,n){super(i,s);c(this,"ceilingContainer");c(this,"definition");c(this,"hitbox");c(this,"graphics");c(this,"ceilingHitbox");c(this,"ceilingTween");c(this,"orientation");c(this,"ceilingVisible",!1);c(this,"errorSeq");c(this,"sound");c(this,"particleFrames");c(this,"hitSound");c(this,"maskHitbox");c(this,"mask");c(this,"spinningImages");c(this,"spinOnSolveImages");this.ceilingContainer=new Ue,this.game.camera.addObject(this.ceilingContainer),this.layer=n.layer,this.updateFromData(n,!0)}toggleCeiling(i=200){var l;if(this.ceilingHitbox===void 0||this.ceilingTween||this.dead)return;const s=this.game.activePlayer;if(s===void 0)return;let n=!0;if(this.ceilingHitbox.collidesWith(s.hitbox))n=!1,i=Kr(s.layer)?200:0;else{const m=new f(14,s.position),h=this.ceilingHitbox instanceof T?this.ceilingHitbox.hitboxes:[this.ceilingHitbox];for(const p of h){let u=null;switch(!0){case p instanceof f:{u=Pi.circleCircleIntersection(p.position,p.radius,m.position,m.radius);break}case p instanceof a:{u=Pi.rectCircleIntersection(p.min,p.max,m.position,m.radius);break}}const y=u==null?void 0:u.dir;if(y){const I=Math.atan2(y.y,y.x);let R=!1;const x=Math.PI/2;for(let S=I-x;S<I+x;S+=.1){R=!1;const b=(l=this.ceilingHitbox.intersectsLine(s.position,e.add(s.position,e.scale(e.create(Math.cos(S),Math.sin(S)),14))))==null?void 0:l.point;if(!b){R=!0;continue}if(!(R||(R=[...this.game.objects.getCategory(Y.Obstacle),...this.game.objects.getCategory(Y.Building)].some(({damageable:v,dead:P,definition:D,hitbox:O,layer:A})=>v&&!P&&(!("role"in D)||!D.isWindow)&&Do({layer:A,definition:D},s)&&(O==null?void 0:O.intersectsLine(s.position,b))))))break}n=R}else n=!0;if(!n)break}}const r=n?1:this.definition.ceilingHiddenAlpha??0;this.ceilingVisible=n,!(this.ceilingContainer.alpha===r||this.ceilingTween)&&(this.ceilingTween=this.game.addTween({target:this.ceilingContainer,to:{alpha:r},duration:i,ease:he.sineOut,onComplete:()=>{this.ceilingTween=void 0}}))}updateFromData(i,s=!1){var r,l,d,m,h,p,u,y,I,R,x;if(i.full){const S=i.full,b=this.definition=S.definition;this.position=S.position;const v=b.particle??`${b.idString}_particle`;this.particleFrames=b.particleVariations!==void 0?Array.from({length:b.particleVariations},(D,O)=>`${v}_${O+1}`):[v];for(const D of b.floorImages){const O=new X(D.key);O.setVPos(_e(D.position)),D.tint!==void 0&&O.setTint(D.tint),D.rotation&&O.setRotation(D.rotation),D.scale&&(O.scale=D.scale),D.zIndex!==void 0&&O.setZIndex(D.zIndex),D.spinSpeed&&(D.spinOnSolve&&!((r=i.puzzle)!=null&&r.solved)?(this.spinOnSolveImages??(this.spinOnSolveImages=new Map)).set(O,D.spinSpeed):((this.spinningImages??(this.spinningImages=new Map)).set(O,D.spinSpeed),this.game.spinningImages.set(O,D.spinSpeed))),this.container.addChild(O)}this.layer=i.layer;const P=_e(this.position);if(this.container.position.copyFrom(P),this.ceilingContainer.position.copyFrom(P),this.ceilingContainer.zIndex=ve(b.ceilingZIndex,this.layer+U.clamp(Math.max(...this.definition.obstacles.map(({layer:D})=>D??0),...this.definition.subBuildings.map(({layer:D})=>D??0)),0,1/0),this.game.layer),this.orientation=S.orientation,this.rotation=Je.orientationToRotation(this.orientation),this.container.rotation=this.rotation,this.ceilingContainer.rotation=this.rotation,b.graphics.length){this.graphics=new $e,this.graphics.zIndex=ve(b.graphicsZIndex,this.layer,this.game.layer);for(const D of b.graphics)this.graphics.beginPath(),Bi(D.hitbox.transform(this.position,1,this.orientation),this.graphics),this.graphics.closePath(),this.graphics.fill(D.color);this.game.camera.container.addChild(this.graphics)}for(const D of b.visibilityOverrides??[]){this.maskHitbox??(this.maskHitbox=new T);const O=D.collider.transform(this.position,1,this.orientation);if(O instanceof a)this.maskHitbox.hitboxes.push(O);else if(O instanceof T)for(const A of O.hitboxes)this.maskHitbox.hitboxes.push(A)}if(b.bulletMask&&(this.maskHitbox??(this.maskHitbox=new T)).hitboxes.push(b.bulletMask.transform(this.position,1,this.orientation)),this.maskHitbox){this.mask=new $e,this.mask.alpha=0,this.game.camera.container.addChild(this.mask);for(const D of this.maskHitbox.hitboxes){const{min:O,max:A}=D;this.mask.beginPath().rect(O.x*Q,O.y*Q,(A.x-O.x)*Q,(A.y-O.y)*Q).closePath().fill(16777215)}}this.hitbox=(l=b.hitbox)==null?void 0:l.transform(this.position,1,this.orientation),this.damageable=!!b.hitbox,this.ceilingHitbox=(d=b.ceilingHitbox)==null?void 0:d.transform(this.position,1,this.orientation)}const n=this.definition;if(n===void 0&&console.warn("Building partially updated before being fully updated"),n.sounds){const{sounds:S}=n,b={position:e.add(e.rotate(S.position??e.create(0,0),this.rotation),this.position),fallOff:S.falloff,maxRange:S.maxRange,dynamic:!0,ambient:!0,loop:!0};S.normal&&!((m=i.puzzle)!=null&&m.solved)&&((h=this.sound)==null?void 0:h.name)!==S.normal&&((p=this.sound)==null||p.stop(),this.sound=this.game.soundManager.play(S.normal,b)),S.solved&&((u=i.puzzle)!=null&&u.solved)&&((y=this.sound)==null?void 0:y.name)!==S.solved&&((I=this.sound)==null||I.stop(),this.sound=this.game.soundManager.play(S.solved,b))}if(i.dead){if(!this.dead&&!s){let S=n.ceilingCollapseParticle??`${n.idString}_particle`;n.ceilingCollapseParticleVariations&&(S+=`_${Math.floor(Math.random()*n.ceilingCollapseParticleVariations)+1}`),this.game.particleManager.spawnParticles(10,()=>{var b;return{frames:S,position:((b=this.ceilingHitbox)==null?void 0:b.randomPoint())??{x:0,y:0},zIndex:U.max(k.Players+1,4),layer:this.layer,lifetime:2e3,rotation:{start:qe(),end:qe()},alpha:{start:1,end:0,ease:he.sexticIn},scale:{start:n.ceilingCollapseParticle?2:1,end:.2},speed:e.fromPolar(qe(),K(1,2))}}),this.playSound(n.ceilingCollapseSound??"ceiling_collapse",{falloff:.5,maxRange:96})}(R=this.ceilingTween)==null||R.kill(),this.ceilingContainer.zIndex=ve(k.DeadObstacles,this.layer,this.game.layer),this.ceilingContainer.alpha=1}if(this.dead=i.dead,i.puzzle&&(!s&&i.puzzle.errorSeq!==this.errorSeq&&this.playSound("puzzle_error"),this.errorSeq=i.puzzle.errorSeq,!s&&i.puzzle.solved)){if(this.spinOnSolveImages)for(const[S,b]of this.spinOnSolveImages.entries())this.game.spinningImages.set(S,b);(x=n.puzzle)!=null&&x.solvedSound&&this.game.soundManager.play("puzzle_solved",{position:n.puzzle.soundPosition?e.addAdjust(this.position,n.puzzle.soundPosition,this.orientation):this.position,layer:this.layer})}this.ceilingContainer.removeChildren();for(const S of n.ceilingImages){let b=S.key;this.dead&&S.residue&&(b=S.residue);const v=new X(b);this.dead&&b!==S.residue&&v.setVisible(!1),v.setVPos(_e(S.position)),S.rotation&&v.setRotation(S.rotation),S.scale&&(v.scale=this.definition.resetCeilingResidueScale&&this.dead?1:S.scale),S.tint!==void 0&&v.setTint(S.tint),this.ceilingContainer.addChild(v)}this.toggleCeiling(),this.updateZIndex(),this.updateDebugGraphics()}updateZIndex(){this.container.zIndex=ve(this.definition.floorZIndex,this.layer,this.game.layer)}updateDebugGraphics(){}hitEffect(i,s){var r,l;this.game.particleManager.spawnParticle({frames:this.particleFrames,position:i,zIndex:k.Players+1,layer:this.layer,lifetime:600,scale:{start:.9,end:.2},alpha:{start:1,end:.65},speed:e.fromPolar(s+K(-.3,.3),K(2.5,4.5))}),(r=this.hitSound)==null||r.stop();const{material:n}=this.definition;n&&(this.hitSound=this.game.soundManager.play(`${((l=ma[n])==null?void 0:l.hit)??n}_hit_${Kt()?"1":"2"}`,{position:i,falloff:.2,maxRange:96,layer:this.layer}))}destroy(){var i,s,n,r;if(super.destroy(),(i=this.graphics)==null||i.destroy(),(s=this.mask)==null||s.destroy(),(n=this.ceilingTween)==null||n.kill(),this.ceilingContainer.destroy(),(r=this.sound)==null||r.stop(),this.spinningImages)for(const l of this.spinningImages.keys())this.game.spinningImages.delete(l)}}const mo=16777215;class qn extends Ao{constructor(i,s){var m;super(s);c(this,"game");c(this,"_image");c(this,"maxLength");c(this,"tracerLength");c(this,"_trailReachedMaxLength",!1);c(this,"_trailTicks",0);c(this,"_lastParticleTrail",Date.now());c(this,"_playBulletWhiz");this.game=i;const n=this.definition.tracer;this._image=new X(n.image).setRotation(this.rotation-Math.PI/2).setVPos(_e(this.position));const r=s.modifiers,l=r==null?void 0:r.tracer;this.tracerLength=n.length*((l==null?void 0:l.length)??1),this.maxLength=this._image.width*this.tracerLength,this._image.scale.y=n.width*((l==null?void 0:l.width)??1)*(this.thin?.5:1),this._image.alpha=n.opacity*((l==null?void 0:l.opacity)??1)/(this.reflectionCount+1),this.game.console.getBuiltInCVar("cv_cooler_graphics")&&(this._image.filters=new Ir({strength:5})),n.particle||this._image.anchor.set(1,.5);const d=new vt(n.color===-1?Ye(0,mo):n.color??mo);if(ut.bulletTrailAdjust&&d.multiply(ut.bulletTrailAdjust),this.saturate){const h=Mr(d.toRgbaString()).saturate(50);d.value=(h.brightness()<.6?h.lighten(.1):h.darken(.2)).rgba}this._image.tint=d,this.setLayer(this.layer),this._playBulletWhiz=!((m=this.game.activePlayer)!=null&&m.bulletWhizHitbox.isPointInside(this.initialPosition)),this.game.camera.addObject(this._image)}update(i){var r,l,d,m;const s=this.layer;if(!this.dead)for(const h of this.updateAndGetCollisions(i,this.game.objects)){const p=h.object;if(p.isObstacle&&p.definition.isStair){this.setLayer(hr(p.definition,p.orientation,p.hitbox,p.layer,this.position));continue}const{point:u,normal:y}=h.intersection;if(p.hitEffect(u,Math.atan2(y.y,y.x)),this.damagedIDs.add(p.id),this.position=u,!(p.isObstacle&&p.definition.noCollisions)){this.dead=!0;break}}if(this._playBulletWhiz){const h=(r=this.game.activePlayer)==null?void 0:r.bulletWhizHitbox.intersectsLine(this.initialPosition,this.position);h&&(this.game.soundManager.play(`bullet_whiz_${Ye(1,3)}`,{position:h.point}),this._playBulletWhiz=!1)}!this.dead&&!this._trailReachedMaxLength?this._trailTicks+=i:(this.dead||this.definition.tracer.particle)&&(this._trailTicks-=i);const n=dt.distance(this.initialPosition,this.position);if(this.definition.tracer.particle)this._image.scale.set(1+n/this.maxDistance),this._image.alpha=2*this.definition.speed*(((l=this.modifiers)==null?void 0:l.speed)??1)*this._trailTicks/this.maxDistance,this._trailReachedMaxLength||(this._trailReachedMaxLength=this._image.alpha>=1);else{const h=U.min(U.min(this.definition.speed*(((d=this.modifiers)==null?void 0:d.speed)??1)*this._trailTicks,n)*Q,this.maxLength);this._image.width=h,this._trailReachedMaxLength||(this._trailReachedMaxLength=h>=this.maxLength)}if(this._image.setVPos(_e(this.position)),this.layer===be.Floor1&&this.game.layer===be.Ground||this.initialLayer===be.Basement1&&this.layer!==this.initialLayer&&this.game.layer===be.Ground){let h=!1;for(const p of this.game.objects.getCategory(Y.Building))if((m=p.maskHitbox)!=null&&m.isPointInside(this.position)&&p.mask){h=!0,this._image.mask=p.mask;break}h||(this._image.mask=null)}if(this.definition.trail&&this.game.console.getBuiltInCVar("cv_cooler_graphics")&&Date.now()-this._lastParticleTrail>=this.definition.trail.interval){const h=this.definition.trail;this.game.particleManager.spawnParticles(h.amount??1,()=>({frames:h.frame,speed:e.fromPolar(qe(),K(h.spreadSpeed.min,h.spreadSpeed.max)),position:this.position,lifetime:Ye(h.lifetime.min,h.lifetime.max),zIndex:ve(k.Bullets-1,this.layer,this.game.layer),scale:K(h.scale.min,h.scale.max),alpha:{start:K(h.alpha.min,h.alpha.max),end:0},layer:this.layer,tint:h.tint===-1?new vt({h:Ye(0,6)*60,s:60,l:70}).toNumber():h.tint})),this._lastParticleTrail=Date.now()}this._trailTicks<=0&&this.dead?this.destroy():this.layer===s&&this.updateVisibility()}setLayer(i){this.layer=i,this.updateVisibility(),this._image.zIndex=ve(this.definition.tracer.zIndex,this.layer,this.game.layer)}updateVisibility(){this.game.activePlayer&&(this._image.visible=Yr(this.game.activePlayer.layer,this,[...this.game.objects],i=>i.intersectsLine(this._oldPosition,this.position)!==null))}destroy(){this._image.destroy(),this.game.bullets.delete(this)}}class Zn extends _t.derive(Y.DeathMarker){constructor(i,s,n){super(i,s);c(this,"playerName");c(this,"nameColor",14474460);c(this,"playerBadge");c(this,"image");c(this,"playerNameText");c(this,"scaleAnim");c(this,"alphaAnim");this.image=new X("death_marker"),this.playerNameText=new Da({text:"",style:{fontSize:36,fontFamily:"Inter",dropShadow:{alpha:.8,color:"black",blur:2,distance:2}}}),this.playerNameText.y=95,this.playerNameText.anchor.set(.5),this.container.addChild(this.image,this.playerNameText),this.updateFromData(n,!0)}updateFromData(i,s=!1){this.position=i.position,this.layer=i.layer,this.container.position.copyFrom(_e(this.position)),this.updateZIndex();const n=this.game.playerNames.get(i.playerID),r=this.game.uiManager.getRawPlayerName(i.playerID);if(n){if(this.playerName=r,this.playerNameText.text=this.playerName,n.badge){const l=new X(n.badge.idString),d=l.width;l.width=this.playerNameText.height/1.25,l.height*=l.width/d,l.position=e.create(this.playerNameText.width/2+20,96),this.container.addChild(l)}n.hasColor&&(this.nameColor=n.nameColor.toNumber())}this.playerNameText.style.fill=this.nameColor,i.isNew&&s&&(this.container.scale.set(.5),this.container.alpha=0,this.scaleAnim=this.game.addTween({target:this.container.scale,to:{x:1,y:1},duration:400,onComplete:()=>{this.scaleAnim=void 0}}),this.alphaAnim=this.game.addTween({target:this.container,to:{alpha:1},duration:400,onComplete:()=>{this.alphaAnim=void 0}}))}updateZIndex(){this.container.zIndex=ve(this.doOverlay()?k.UnderWaterDeadObstacles:k.DeathMarkers,this.layer,this.game.layer)}destroy(){var i,s;super.destroy(),this.image.destroy(),this.playerNameText.destroy(),(i=this.scaleAnim)==null||i.kill(),(s=this.alphaAnim)==null||s.kill()}}class Kn extends _t.derive(Y.Decal){constructor(i,s,n){super(i,s);c(this,"definition");c(this,"image");this.image=new X,this.layer=n.layer,this.updateFromData(n)}updateFromData(i){this.position=i.position,this.layer=i.layer;const s=this.definition=i.definition;this.image.setFrame(s.image),this.container.addChild(this.image),this.container.scale.set(s.scale),this.container.position.copyFrom(_e(this.position)),this.container.rotation=i.rotation,this.updateZIndex()}updateZIndex(){const i=this.doOverlay()&&this.definition.zIndex===void 0?k.UnderWaterDeadObstacles:this.definition.zIndex??k.Decals;this.container.zIndex=ve(i,this.layer,this.game.layer)}destroy(){this.image.destroy()}}function Xn(o,t,i,s){const n=_e(i),r=new X("explosion_1"),l=pt(s,o.layer??be.Ground);r.scale.set(0),r.tint=t.animation.tint,r.setVPos(n),r.zIndex=ve(k.Explosions,s,o.layer),r.setVisible(l),o.camera.addObject(r),o.addTween({target:r.scale,to:{x:t.animation.scale,y:t.animation.scale},duration:t.animation.duration,ease:he.expoOut}),o.addTween({target:r,to:{alpha:0},duration:t.animation.duration*1.5,ease:he.expoOut,onComplete:()=>{r.destroy()}}),Ze[o.map.terrain.getFloor(i,o.layer)].particles&&o.particleManager.spawnParticles(4,()=>({frames:"ripple_particle",zIndex:k.Ground,position:Tt(i,6),lifetime:1e3,speed:e.create(0,0),scale:{start:K(.45,.55),end:K(2.95,3.05)},alpha:{start:K(.55,.65),end:0}})),o.camera.shake(t.cameraShake.duration,l?t.cameraShake.intensity:t.cameraShake.intensity/2),o.console.getBuiltInCVar("cv_cooler_graphics")&&l&&o.camera.shockwave(t.cameraShake.duration*Ri.time,n,t.cameraShake.intensity*Ri.amplitude,t.radius.min*100*Ri.wavelength,t.ballistics.speed*Ri.speed),t.sound!==void 0&&o.soundManager.play(t.sound,{position:i,falloff:.4})}class Yn extends _t.derive(Y.Loot){constructor(i,s,n){super(i,s);c(this,"definition");c(this,"images");c(this,"_count",0);c(this,"hitbox");c(this,"animation");this.images={background:new X,item:new X,skinFistLeft:new X,skinFistRight:new X},this.layer=n.layer,this.updateFromData(n,!0)}get count(){return this._count}updateFromData(i,s=!1){var n;if(i.full){const r=this.definition=i.full.definition,l=r.itemType;if(this.container.addChild(this.images.background,this.images.item),l===z.Skin){this.images.item.setFrame(`${this.definition.idString}_base`).setPos(0,-3).setScale(.65).setAngle(90);const m=`${this.definition.idString}_fist`;this.images.skinFistLeft.setFrame(m).setPos(22,20).setScale(.65).setAngle(90),this.images.skinFistRight.setFrame(m).setPos(-22,20).setScale(.65).setAngle(90),r.grassTint&&(this.images.item.setTint(jt),this.images.skinFistLeft.setTint(jt),this.images.skinFistRight.setTint(jt)),this.container.addChild(this.images.skinFistLeft,this.images.skinFistRight)}else this.images.item.setFrame(r.idString);let d;switch(l){case z.Gun:{d=`loot_background_gun_${r.ammoType}`,this.images.item.scale.set(.85);break}case z.Melee:{d="loot_background_melee";const m=(n=r.image)==null?void 0:n.lootScale;m!==void 0&&this.images.item.scale.set(m);break}case z.Healing:{d="loot_background_healing";break}case z.Armor:case z.Backpack:case z.Scope:case z.Skin:{d="loot_background_equipment";break}case z.Throwable:{d="loot_background_throwable";break}case z.Perk:{d=r.idString===nt.PlumpkinGamble?"loot_background_plumpkin_gamble":"loot_background_perk";break}}d!==void 0?this.images.background.setFrame(d):this.images.background.setVisible(!1),this.hitbox=new f(ur[l]),this._count=i.full.count||1/0,i.full.isNew&&s&&(this.container.scale.set(0),this.animation=this.game.addTween({target:this.container.scale,to:{x:1,y:1},duration:1e3,ease:he.elasticOut2,onComplete:()=>{this.animation=void 0}}))}this.position=i.position,this.layer=i.layer,this.hitbox.position=this.position,this.updateZIndex(),(!this.game.console.getBuiltInCVar("cv_movement_smoothing")||s)&&(this.container.position=_e(this.position)),this.updateDebugGraphics()}updateZIndex(){this.container.zIndex=ve(this.doOverlay()?k.UnderWaterLoot:k.Loot,this.layer,this.game.layer)}updateDebugGraphics(){}destroy(){var i;super.destroy(),this.images.background.destroy(),this.images.item.destroy(),(i=this.animation)==null||i.kill()}canInteract(i){var d,m,h;if(i.dead||i.downed)return!1;const s=this.game.uiManager.inventory,{weapons:n,lockedSlots:r}=s,l=this.definition;switch(l.itemType){case z.Gun:{for(const u of n)if((u==null?void 0:u.definition.itemType)===z.Gun&&(l.idString===u.definition.dualVariant||l===u.definition&&u.definition.dualVariant))return!0;const p=s.activeWeaponIndex;return!n[0]&&!(r&1)||!n[1]&&!(r&2)||p<2&&l!==((d=n[p])==null?void 0:d.definition)&&!(r&1<<p)}case z.Melee:return l!==((m=n[2])==null?void 0:m.definition)&&!(r&4);case z.Healing:case z.Ammo:case z.Throwable:{const{idString:p}=l;return!(r&8)&&s.items[p]+1<=i.equipment.backpack.maxCapacity[p]}case z.Armor:switch(!0){case l.armorType===Ci.Helmet:return l.level>i.helmetLevel;case l.armorType===Ci.Vest:return l.level>i.vestLevel;default:return!1}case z.Backpack:return l.level>i.backpackLevel;case z.Scope:return s.items[l.idString]===0;case z.Skin:return!0;case z.Perk:{const p=this.game.uiManager.perks;return!((h=p.asList()[0])!=null&&h.noSwap)&&!p.hasPerk(l)}}}}class Jn extends _t.derive(Y.Parachute){constructor(i,s,n){super(i,s);c(this,"image",new X("airdrop_parachute"));c(this,"scaleAnim");c(this,"fallSound");this.container.addChild(this.image),this.updateZIndex(),this.updateFromData(n,!0)}updateFromData(i,s=!1){var r;i.full&&(this.position=i.full.position,this.container.position=_e(this.position),this.fallSound=this.playSound("airdrop_fall",{falloff:1,maxRange:128,dynamic:!0}));const n=U.lerp(.5,1,i.height);if(s?this.container.scale.set(n):((r=this.scaleAnim)==null||r.kill(),this.scaleAnim=this.game.addTween({target:this.container.scale,to:{x:n,y:n},duration:this.game.serverDt,onComplete:()=>{this.scaleAnim=void 0}})),i.height===0){const l=this.game.map.terrain.getFloor(this.position,0);this.playSound(l===F.Water?"airdrop_land_water":"airdrop_land"),Ze[l].particles&&this.game.particleManager.spawnParticles(6,()=>({frames:"ripple_particle",zIndex:k.Ground,position:Tt(this.position,6),lifetime:1e3,speed:e.create(0,0),scale:{start:K(.45,.55),end:K(2.95,3.05)},alpha:{start:K(.55,.65),end:0}}))}}updateZIndex(){this.container.zIndex=994}destroy(){var i,s;super.destroy(),this.image.destroy(),(i=this.scaleAnim)==null||i.kill(),(s=this.fallSound)==null||s.stop()}}const Wi=class Wi{constructor(t,i,s){c(this,"game");c(this,"startPosition");c(this,"endPosition");c(this,"image");c(this,"sound");c(this,"startTime",Date.now());this.game=t,this.startPosition=i,this.endPosition=e.add(this.startPosition,e.fromPolar(s,se.maxPosition*2)),this.image=new X("airdrop_plane").setZIndex(Number.MAX_SAFE_INTEGER-2).setRotation(s).setScale(4),this.sound=t.soundManager.play("airdrop_plane",{position:i,falloff:.5,maxRange:256,dynamic:!0}),t.camera.addObject(this.image)}update(){const t=this.sound.position=e.lerp(this.startPosition,this.endPosition,(Date.now()-this.startTime)/(se.airdrop.flyTime*2));this.image.setVPos(e.scale(t,Q)),dt.distanceSquared(t,this.startPosition)>Wi.maxDistanceSquared&&(this.destroy(),this.game.planes.delete(this)),this.game.layer&&this.game.layer!==be.Floor1&&(this.image.visible=pt(be.Ground,this.game.layer),this.sound.maxRange=pt(be.Ground,this.game.layer)?256:0)}destroy(){this.image.destroy()}};c(Wi,"maxDistanceSquared",(se.maxPosition*2)**2);let wa=Wi;class Qn extends _t.derive(Y.SyncedParticle){constructor(i,s,n){super(i,s);c(this,"image",new X);c(this,"_alpha",1);c(this,"_alphaMult",1);c(this,"_oldScale");c(this,"_lastScaleChange");c(this,"_scaleManuallySet",!1);c(this,"_scale",0);c(this,"_definition");this.container.addChild(this.image),this.updateFromData(n,!0)}get scale(){return this._scale}set scale(i){this._scaleManuallySet&&(this._oldScale=this._scale),this._scaleManuallySet=!0,this._lastScaleChange=Date.now(),this._scale=i}get definition(){return this._definition}updateContainerScale(){this._oldScale===void 0||this._lastScaleChange===void 0||this.container.scale===void 0||this.container.scale.set(U.lerp(this._oldScale,this._scale,U.min((Date.now()-this._lastScaleChange)/this.game.serverDt,1)))}updateFromData(i,s=!1){const n=i.full;if(n){const{variant:r,definition:l}=n;this._definition=l,this.layer=i.layer,n.creatorID===this.game.activePlayerID&&typeof l.alpha=="object"&&"creatorMult"in l.alpha&&l.alpha.creatorMult!==void 0&&(this._alphaMult=l.alpha.creatorMult),this.image.setFrame(`${l.frame}${r!==void 0?`_${r}`:""}`),l.tint&&(this.image.tint=l.tint),this.updateZIndex()}this.position=i.position,this.rotation=i.rotation,this.scale=i.scale??this._scale,this.container.alpha=(this._alpha=i.alpha??this._alpha)*this._alphaMult,(!this.game.console.getBuiltInCVar("cv_movement_smoothing")||s)&&(this.container.position=_e(this.position),this.container.rotation=this.rotation,this.container.scale.set(this._scale)),this.updateDebugGraphics()}updateZIndex(){this.container.zIndex=ve(this.definition.zIndex,this.layer,this.game.layer)}updateDebugGraphics(){}destroy(){super.destroy(),this.image.destroy()}}class es extends _t.derive(Y.ThrowableProjectile){constructor(i,s,n){super(i,s);c(this,"image",new X);c(this,"waterOverlay",new X("water_overlay").setVisible(!1).setScale(.75).setTint(We.water));c(this,"_definition");c(this,"_waterAnim");c(this,"halloweenSkin",!1);c(this,"radius");c(this,"hitbox");c(this,"hitSound");c(this,"c4");c(this,"floorType",F.Grass);this.hitbox=new f(1,this.position),this.container.addChild(this.image,this.waterOverlay),this.layer=n.layer,this.updateFromData(n)}get definition(){return this._definition}updateFromData(i,s=!1){var n,r;if(i.full){const l=this._definition??(this._definition=i.full.definition);this.radius=this._definition.hitboxRadius,this.c4=!0,this.halloweenSkin=i.full.halloweenSkin,this.image.setFrame(`${l.animation.liveImage}${this.halloweenSkin&&!l.noSkin?"_halloween":""}`);const d=i.throwerTeamID,m=i.full.tintIndex;this.game.teamMode&&this.game.teamID===d&&this.definition.c4&&this.image.setTint(yi[m])}if(i.activated&&((n=this._definition)!=null&&n.animation.activatedImage)){let l=this._definition.animation.activatedImage;this.halloweenSkin&&(l+="_halloween"),this.image.setFrame(l)}if(this.position=i.position,this.rotation=i.rotation,this.hitbox.radius=this.radius??1,this.hitbox.position=this.position,this.layer=i.layer,i.airborne)this.container.zIndex=ve(k.AirborneThrowables,this.layer,this.game.layer);else{const l=this.game.map.terrain.getFloor(this.position,this.layer),d=Ze[l].overlay;this.container.zIndex=ve(d?k.UnderwaterGroundedThrowables:k.GroundedThrowables,this.layer,this.game.layer),l!==this.floorType&&(d&&this.waterOverlay.setVisible(!0),(r=this._waterAnim)==null||r.kill(),this._waterAnim=this.game.addTween({target:this.waterOverlay,to:{alpha:d?1:0},duration:200,onComplete:()=>{d||this.waterOverlay.setVisible(!1),this._waterAnim=void 0}})),this.floorType=l}(!this.game.console.getBuiltInCVar("cv_movement_smoothing")||s)&&(this.container.position=_e(this.position),this.container.rotation=this.rotation),this.updateDebugGraphics()}updateZIndex(){this.container.zIndex=ve(this.doOverlay()?k.UnderwaterGroundedThrowables:k.GroundedThrowables,this.layer,this.game.layer)}updateDebugGraphics(){}hitEffect(i,s){var n;this.c4&&((n=this.hitSound)==null||n.stop(),this.hitSound=this.game.soundManager.play(`stone_hit_${Kt()?"1":"2"}`,{position:i,falloff:.2,maxRange:96}),this.game.particleManager.spawnParticles(4,()=>({frames:this.halloweenSkin?"plumpkin_particle":"metal_particle",position:i,layer:this.layer,zIndex:U.max(k.Players+1,4),lifetime:600,scale:{start:.9,end:.2},alpha:{start:1,end:.65},speed:e.fromPolar(s+K(0,2*gr),K(2.5,4.5))})))}destroy(){super.destroy(),this.image.destroy()}}const fi=class fi{constructor(t){c(this,"pixi");c(this,"container");c(this,"position",e.create(0,0));c(this,"_zoom",fo.zoomLevel);c(this,"zoomTween");c(this,"shaking",!1);c(this,"shakeStart");c(this,"shakeDuration");c(this,"shakeIntensity");c(this,"shockwaves",new Set);c(this,"width",1);c(this,"height",1);if(this.game=t,fi._instantiated)throw new Error("Class 'Camera' has already been instantiated");fi._instantiated=!0,this.pixi=t.pixi,this.container=new Ue({isRenderGroup:!0,sortableChildren:!0,filters:[]})}get zoom(){return this._zoom}set zoom(t){this._zoom=t,this.resize(!0)}resize(t=!1){var l;this.width=this.pixi.screen.width,this.height=this.pixi.screen.height;const i=U.min(this.width,this.height),s=U.max(this.width,this.height),r=U.max(i*(16/9),s)*.5/(this._zoom*Q);(l=this.zoomTween)==null||l.kill(),t?this.zoomTween=this.game.addTween({target:this.container.scale,to:{x:r,y:r},duration:800,ease:he.cubicOut,onComplete:()=>{this.zoomTween=void 0}}):this.container.scale.set(r)}update(){let t=this.position;this.shaking&&(t=e.add(t,Tt(e.create(0,0),this.shakeIntensity)),Date.now()-this.shakeStart>this.shakeDuration&&(this.shaking=!1));for(const s of this.shockwaves)s.update();const i=e.add(e.scale(t,this.container.scale.x),e.create(-this.width/2,-this.height/2));this.container.position.set(-i.x,-i.y)}shake(t,i){this.game.console.getBuiltInCVar("cv_camera_shake_fx")&&(this.shaking=!0,this.shakeStart=Date.now(),this.shakeDuration=t,this.shakeIntensity=i)}shockwave(t,i,s,n,r){this.game.console.getBuiltInCVar("cv_cooler_graphics")&&this.shockwaves.add(new ts(this.game,t,i,s,n,r))}addObject(...t){this.container.addChild(...t)}};c(fi,"_instantiated",!1);let ya=fi;class ts{constructor(t,i,s,n,r,l){c(this,"lifeStart");c(this,"lifeEnd");c(this,"filter");c(this,"anchorContainer");this.game=t,this.amplitude=n,this.wavelength=r,this.speed=l,this.lifeStart=Date.now(),this.lifeEnd=this.lifeStart+i,this.anchorContainer=new X,this.wavelength=r,this.game.camera.addObject(this.anchorContainer),this.anchorContainer.setVPos(s),this.filter=new Tr,this.update(),this.game.camera.container.filters=[this.game.camera.container.filters].flat().concat(this.filter)}update(){const t=Date.now();if(t>this.lifeEnd){this.destroy();return}const i=this.scale(),s=this.anchorContainer.getGlobalPosition();this.filter.centerX=s.x,this.filter.centerY=s.y,this.filter.wavelength=this.wavelength*i,this.filter.speed=this.speed*i,this.filter.time=t-this.lifeStart,this.filter.amplitude=this.amplitude*he.linear(1-(t-this.lifeStart)/(this.lifeEnd-this.lifeStart))}scale(){return Q/this.game.camera.zoom}destroy(){this.game.camera.container.filters=[this.game.camera.container.filters].flat().filter(t=>this.filter!==t),this.game.camera.shockwaves.delete(this),this.anchorContainer.destroy()}}const bi=class bi{constructor(t){c(this,"state",rt.Inactive);c(this,"currentDuration",0);c(this,"oldPosition",e.create(0,0));c(this,"lastPosition",e.create(0,0));c(this,"position",e.create(0,0));c(this,"newPosition",e.create(0,0));c(this,"oldRadius",2048);c(this,"lastRadius",2048);c(this,"radius",2048);c(this,"newRadius",2048);c(this,"lastUpdateTime",Date.now());c(this,"_ui");if(this.game=t,bi._instantiated)throw new Error("Class 'Gas' has already been instantiated");bi._instantiated=!0,this._ui={msgText:this.game.uiManager.ui.gasMsgInfo,msgContainer:this.game.uiManager.ui.gasMsg,timer:_("#gas-timer"),timerText:_("#gas-timer-text"),timerImg:_("#gas-timer-image")}}updateFrom(t){const i=t.gas,s=t.gasProgress;if(i){this.state=i.state,this.currentDuration=i.currentDuration,this.oldPosition=i.oldPosition,this.newPosition=i.newPosition,this.oldRadius=i.oldRadius,this.newRadius=i.newRadius;const[n,r]=[i.state===rt.Inactive,i.state===rt.Advancing],l=this.currentDuration-Math.round(this.currentDuration*(s??1));let d="";switch(this.state){case rt.Waiting:{d=C("gas_waiting",{time:Lo(l)});break}case rt.Advancing:{d=C("gas_advancing");break}case rt.Inactive:{d=C("gas_inactive");break}}r?(this._ui.timer.addClass("advancing"),this._ui.timerImg.attr("src","./img/misc/gas-advancing-icon.svg")):(this._ui.timer.removeClass("advancing"),this._ui.timerImg.attr("src","./img/misc/gas-waiting-icon.svg")),(n||i.currentDuration!==0)&&!la&&(!this.game.gameOver||this.game.spectating)&&(this._ui.msgText.text(d),this._ui.msgContainer.fadeIn(),n?this._ui.msgText.css("color","white"):(this._ui.msgText.css("color","cyan"),setTimeout(()=>this._ui.msgContainer.fadeOut(1e3),5e3)))}if(s!==void 0){const n=this.currentDuration-Math.round(this.currentDuration*s);this._ui.timerText.text(`${Math.floor(n/60)}:${n%60<10?"0":""}${n%60}`),this.state!==rt.Advancing&&(this.position=this.oldPosition,this.radius=this.oldRadius),this.state===rt.Advancing&&(this.lastPosition=e.clone(this.position),this.lastRadius=this.radius,this.position=e.lerp(this.oldPosition,this.newPosition,s),this.radius=U.lerp(this.oldRadius,this.newRadius,s),this.lastUpdateTime=Date.now())}}};c(bi,"_instantiated",!1);let Sa=bi;const Be=class Be{constructor(t){c(this,"_graphics");c(this,"_scale");this._scale=t,this._graphics=new $e,this._graphics.zIndex=996,this.graphics.clear().beginPath().moveTo(-Be._overdraw,-Be._overdraw).lineTo(Be._overdraw,-Be._overdraw).lineTo(Be._overdraw,Be._overdraw).lineTo(-Be._overdraw,Be._overdraw).closePath().fill(We.gas).moveTo(0,1);const i=2*Math.PI;for(let s=0;s<Be._segments;s++){const n=s/Be._segments;this.graphics.lineTo(Math.sin(i*n),Math.cos(i*n))}this.graphics.closePath().cut()}get graphics(){return this._graphics}update(t){let i,s;if(t.state===rt.Advancing){const l=U.clamp((Date.now()-t.lastUpdateTime)/t.game.serverDt,0,1);i=e.lerp(t.lastPosition,t.position,l),s=U.lerp(t.lastRadius,t.radius,l)}else i=t.position,s=t.radius;const n=e.scale(i,this._scale);let r=s*this._scale;r<.1&&(r=1,n.x+=.5*Be._overdraw),this._graphics.position.copyFrom(n),this._graphics.scale.set(r)}};c(Be,"_overdraw",100*1e3),c(Be,"_segments",512);let Hi=Be;const wi=class wi{constructor(t){c(this,"_expanded",!1);c(this,"_visible",!0);c(this,"_position",e.create(0,0));c(this,"_lastPosition",e.create(0,0));c(this,"_gasPos",e.create(0,0));c(this,"_gasRadius",0);c(this,"safeZone",new $e);c(this,"_objectsContainer",new Ue);c(this,"container",new Ue);c(this,"mask",new $e);c(this,"sprite",new Ca);c(this,"_texture");c(this,"indicator",new X("player_indicator").setTint(yi[0]).setZIndex(1e3));c(this,"teammateIndicators",new Map);c(this,"teammateIndicatorContainer",new Ue);c(this,"_width",0);c(this,"_height",0);c(this,"_minimapWidth",0);c(this,"_minimapHeight",0);c(this,"_margins",e.create(0,0));c(this,"gasRender",new Hi(1));c(this,"placesContainer",new Ue);c(this,"_terrain",new Xa(0,0,0,0,0,[]));c(this,"pings",new Set);c(this,"_border",new $e);c(this,"pingsContainer",new Ue);c(this,"pingGraphics",new $e);c(this,"terrainGraphics",new $e);c(this,"_objects",[]);c(this,"_places",[]);c(this,"debugGraphics",new $e);c(this,"_borderContainer",_("#minimap-border"));c(this,"_uiCache",Object.freeze({scopes:_("#scopes-container"),closeMinimap:_("#btn-close-minimap"),killLeader:_("#ui-kill-leader"),centerBottom:_("#center-bottom-container"),killCounter:_("#kill-counter")}));if(this.game=t,wi._instantiated)throw new Error("Class 'Minimap' has already been instantiated");wi._instantiated=!0,this._objectsContainer.mask=this.mask,this.container.addChild(this._objectsContainer),this.container.addChild(this._border),this.safeZone.zIndex=997,this.pingsContainer.zIndex=998,this.teammateIndicatorContainer.zIndex=999,this._objectsContainer.addChild(this.sprite,this.placesContainer,this.gasRender.graphics,this.safeZone,this.pingGraphics,this.pingsContainer,this.indicator,this.teammateIndicatorContainer).sortChildren(),this._borderContainer.on("click",i=>{this.game.inputManager.isMobile&&(this.switchToBigMap(),i.stopImmediatePropagation())}),this.sprite.eventMode="static",this.sprite.on("pointerdown",i=>{this.game.inputManager.pingWheelPosition=this.sprite.toLocal(i),this.game.inputManager.pingWheelMinimap=!0}),_("#btn-close-minimap").on("pointerdown",i=>{this.switchToSmallMap(),i.stopImmediatePropagation()})}get expanded(){return this._expanded}set expanded(t){this._expanded!==t&&((this._expanded=t)?this.switchToBigMap():this.switchToSmallMap())}toggle(){this.expanded=!this._expanded}get visible(){return this._visible}set visible(t){this._visible=t,this.switchToSmallMap(),this.container.visible=t,this._borderContainer.toggle(t)}toggleMinimap(){this.visible=!this._visible}get width(){return this._width}get height(){return this._height}get minimapWidth(){return this._minimapWidth}get minimapHeight(){return this._minimapHeight}get terrain(){return this._terrain}drawTerrain(t,i,s){var I;t.zIndex=k.Ground;const n=20*i,[{points:r},{points:l}]=[this._terrain.beachHitbox,this._terrain.grassHitbox],d=i===1?r:r.map(R=>e.scale(R,i));t.roundShape(d,n),t.cut(),(I=t.roundShape)==null||I.call(t,d,n),t.fill(We.beach);const m=i===1?l:l.map(R=>e.scale(R,i));t.roundShape(m,n),t.cut();function h(R){const x=R.length/2;return R.map((S,b)=>({x:S.x*i,y:S.y*i,radius:b===x||b===x-1?0:n}))}for(const R of this._terrain.rivers)t.beginPath().roundShape(h(R.bankHitbox.points),0,!0).fill(R.isTrail?We.trail:We.riverBank);t.beginPath();for(const R of this._terrain.rivers)R.waterHitbox&&t.roundShape(h(R.waterHitbox.points),0,!0);t.fill(We.water),t.beginPath(),t.rect(0,0,this._width*i,this._height*i),t.fill(We.water),t.roundShape(d,n),t.cut(),t.setStrokeStyle({color:0,alpha:.1,width:s});const p=se.gridSize*i,u=this._width*i,y=this._height*i;for(let R=0;R<=u;R+=p)t.moveTo(R,0),t.lineTo(R,y);for(let R=0;R<=y;R+=p)t.moveTo(0,R),t.lineTo(u,R);t.stroke();for(const R of this._objects){if(!R.isBuilding)continue;const x=R.definition;for(const S of x.groundGraphics)t.beginPath(),Bi(S.hitbox.transform(R.position,1,R.orientation),t,i),t.closePath(),t.fill(S.color)}}renderMap(){var m,h,p;const t=this.terrainGraphics;t.clear();const i=new $e;this.drawTerrain(t,Q,6),this.drawTerrain(i,1,2);const s=5120,n=s*2,r=this._width*Q,l=this._height*Q;t.rect(-s,-s,r+n,s),t.rect(-s,l,r+n,s),t.rect(-s,-s,s,l+n),t.rect(r,-s,s,l+n),t.fill(We.border),this.game.camera.addObject(t);const d=new Ue;d.addChild(i);for(const u of this._objects)switch(u.type){case Y.Obstacle:{const y=u.definition;let I=y.frames.base??y.idString;u.variation!==void 0&&(I+=`_${u.variation+1}`);const R=new X(I).setVPos(u.position).setRotation(u.rotation).setZIndex(y.zIndex??k.ObstaclesLayer1);y.tint!==void 0&&R.setTint(y.tint),R.scale.set((u.scale??1)*(1/Q)),d.addChild(R);break}case Y.Building:{if(u.layer!==be.Ground)continue;const y=u.definition,I=u.rotation;for(const R of y.floorImages){const x=new X(R.key).setVPos(e.addAdjust(u.position,R.position,u.orientation)).setRotation(I+(R.rotation??0)).setZIndex(k.BuildingsFloor);R.tint!==void 0&&x.setTint(R.tint),x.scale=e.scale(R.scale??e.create(1,1),1/Q),d.addChild(x)}for(const R of y.ceilingImages){const x=new X(R.key).setVPos(e.addAdjust(u.position,R.position,u.orientation)).setRotation(I+(R.rotation??0)).setZIndex(y.ceilingZIndex);x.scale.set(1/Q),x.scale.x*=((m=R.scale)==null?void 0:m.x)??1,x.scale.y*=((h=R.scale)==null?void 0:h.y)??1,R.tint!==void 0&&x.setTint(R.tint),d.addChild(x)}if(y.graphics.length){const R=new $e;R.zIndex=y.graphicsZIndex;for(const x of y.graphics)R.beginPath(),Bi(x.hitbox.transform(u.position,1,u.orientation),R,1),R.closePath(),R.fill(x.color);d.addChild(R)}break}}d.sortChildren(),(p=this._texture)==null||p.destroy(!0),this._texture=da.create({width:this._width,height:this._height,resolution:Ui.any?1:2}),this.game.pixi.renderer.render({container:d,target:this._texture,clearColor:We.grass}),this.sprite.texture.destroy(!0),this.sprite.texture=this._texture,d.destroy({children:!0,texture:!1}),this.placesContainer.removeChildren();for(const u of this._places){const y=new Da({text:u.name,style:{fill:"white",fontFamily:"Inter",fontWeight:"600",stroke:{color:"black",width:2},fontSize:18,dropShadow:{alpha:.8,color:"black",blur:2,distance:5}}});y.alpha=.7,y.anchor.set(.5),y.position.copyFrom(u.position),this.placesContainer.addChild(y)}}renderMapDebug(){const t=this.debugGraphics;t.clear(),t.zIndex=999;for(const[i,{floorType:s,layer:n}]of this._terrain.floors)Wt(i,(Ze[s].debugColor*2**8+128).toString(16),t,n===_r?1:fr);Wt(this._terrain.beachHitbox,Ze.sand.debugColor,t),Wt(this._terrain.grassHitbox,Ze.grass.debugColor,t);for(const i of this._terrain.rivers){const s=i.points.map(n=>e.scale(n,Q));i.waterHitbox&&Wt(i.waterHitbox,Ze.water.debugColor,t),Wt(i.bankHitbox,Ze.sand.debugColor,t),t.setStrokeStyle({width:10,color:0}),t.beginPath(),t.moveTo(s[0].x,s[0].y);for(let n=1;n<s.length;n++){const r=s[n];t.lineTo(r.x,r.y)}t.stroke();for(const n of s)t.beginPath(),t.arc(n.x,n.y,20,0,Math.PI*2),t.fill(16711680)}this.game.camera.addObject(t)}updateFromPacket(t){console.log(`Joining game with seed: ${t.seed}`),this.game.uiManager.ui.loadingText.text(C("loading_joining_game"));const i=this._width=t.width,s=this._height=t.height;this._objects=t.objects,this._places=t.places;const n=new a(e.create(t.oceanSize,t.oceanSize),e.create(t.width-t.oceanSize,t.height-t.oceanSize)),r=[];r.push(...t.rivers.map(({width:l,points:d,isTrail:m})=>new $r(l,d,r,n,m))),this._terrain=new Xa(i,s,t.oceanSize,t.beachSize,t.seed,r);for(const l of this._objects)if(l.isBuilding)for(const d of l.definition.floors){const m=d.hitbox.transform(l.position,1,l.orientation);this._terrain.addFloor(d.type,m,d.layer??l.layer??0)}this.renderMap(),this.resize()}update(){if(this.game.inputManager.isMobile&&this._visible&&(this.game.uiManager.ui.spectatingContainer.css("display")!=="none"?(this._borderContainer.hide(),this.container.visible=!1):this._expanded||(this._borderContainer.show(),this.container.visible=!0),this.game.uiManager.ui.gasAndDebug.toggleClass("spectating-mode",!this.container.visible)),this.pings.size>0){this.pingGraphics.clear();const i=Date.now();for(const s of this.pings){const n=U.lerp(0,2048,(i-s.startTime)/7e3);if(i>s.endTime){this.pings.delete(s),s.destroy();continue}n>=2048||(this.pingGraphics.setStrokeStyle({color:s.color,width:5,cap:"round"}),this.pingGraphics.arc(s.position.x,s.position.y,n,0,Math.PI*2),this.pingGraphics.stroke())}}const t=this.game.gas;this.gasRender.update(t),!(t.state===rt.Inactive||this._position.x===this._lastPosition.x&&this._position.y===this._lastPosition.y&&t.newRadius===this._gasRadius&&t.newPosition.x===this._gasPos.x&&t.newPosition.y===this._gasPos.y)&&(this._lastPosition=this._position,this._gasPos=t.newPosition,this._gasRadius=t.newRadius,this.safeZone.clear(),this.safeZone.beginPath(),this.safeZone.setStrokeStyle({color:63993,width:2,cap:"round"}),this.safeZone.moveTo(this._position.x,this._position.y).lineTo(this._gasPos.x,this._gasPos.y).closePath().stroke(),this.safeZone.beginPath().setStrokeStyle({color:16777215,width:2,cap:"round"}).arc(this._gasPos.x,this._gasPos.y,this._gasRadius,0,Math.PI*2).closePath().stroke())}resize(){this._border.visible=this._expanded;const t=this.game.console.getBuiltInCVar("cv_ui_scale");if(this.game.spectating&&this.game.uiManager.ui.spectatingContainer.toggle(this.game.uiManager.ui.spectatingOptions.hasClass("fa-eye-slash")),this._expanded){const i=window.innerWidth,s=window.innerHeight,n=U.min(s,i);this.container.scale.set(n/this._height),this._minimapWidth=this.sprite.width*this.container.scale.x,this._minimapHeight=this.sprite.height*this.container.scale.y,this._margins=e.create(i/2-this._minimapWidth/2,s/2-this._minimapHeight/2);const r=_("#btn-close-minimap"),l=U.min(this._margins.x+this._minimapWidth+16,i-(r.outerWidth()??0))/t;r.css("left",`${l}px`),this._border.clear(),this._border.setStrokeStyle({width:4,color:0}),this._border.rect(-this.sprite.width/2,0,this.sprite.width,this.sprite.height),this._border.stroke(),this.indicator.scale.set(1);for(const[,d]of this.teammateIndicators)d.setScale(1)}else{if(!this._visible)return;const i=this._borderContainer[0].getBoundingClientRect(),s=parseInt(this._borderContainer.css("border-width"))*t;this._minimapWidth=i.width-s*2,this._minimapHeight=i.height-s*2,this._margins=e.create(i.left+s,i.top+s),window.innerWidth>1200?this.container.scale.set(1/1.25*t):this.container.scale.set(1/2*t),this.indicator.scale.set(.75);for(const[,n]of this.teammateIndicators)n.setScale(.75)}this.mask.clear().rect(this._margins.x,this._margins.y,this._minimapWidth,this._minimapHeight).fill(),this.updatePosition(),this.updateTransparency();for(const i of this.placesContainer.children)i.scale.set(1/this.container.scale.x)}setPosition(t){this._position=e.clone(t),this.indicator.setVPos(t),this.updatePosition()}updatePosition(){if(this._expanded){this.container.position.set(window.innerWidth/2,window.innerHeight/2-this._minimapHeight/2),this._objectsContainer.position.set(-this._width/2,0);return}const t=e.clone(this._position);t.x-=(this._minimapWidth/2+this._margins.x)/this.container.scale.x,t.y-=(this._minimapHeight/2+this._margins.y)/this.container.scale.y,this.container.position.set(0,0),this._objectsContainer.position.copyFrom(e.scale(t,-1))}switchToBigMap(){this._expanded=!0;const t=this.game.uiManager.ui;this.container.visible=!0,this._borderContainer.hide(),this._uiCache.scopes.hide(),t.spectatingContainer.hide(),t.gasMsgInfo.hide(),this._uiCache.closeMinimap.show(),this._uiCache.killLeader.hide(),this._uiCache.centerBottom.hide(),this._uiCache.killCounter.show(),t.killFeed.hide(),this.resize()}switchToSmallMap(){this._expanded=!1;const t=this.game.uiManager.ui;if(this._uiCache.closeMinimap.hide(),this._uiCache.centerBottom.show(),t.gasMsgInfo.show(),this._uiCache.scopes.show(),t.killFeed.show(),this.game.spectating&&t.spectatingContainer.show(),window.innerWidth>768&&this._uiCache.killLeader.show(),this._uiCache.killCounter.hide(),this.game.inputManager.isMobile&&this.game.spectating&&this._visible&&(this.game.uiManager.ui.spectatingContainer.toggleClass("mobile-visible",!1),this.game.uiManager.ui.spectatingContainer.hide(),this.container.visible=this.game.uiManager.ui.spectatingContainer.hasClass("mobile-visible")),!this._visible){this.container.visible=!1;return}this._borderContainer.show(),this.resize()}updateTransparency(){this.container.alpha=this.game.console.getBuiltInCVar(this._expanded?"cv_map_transparency":"cv_minimap_transparency")}addMapPing(t){const{position:i,definition:s}=t,n=s.isPlayerPing?t.playerId:void 0,r=new is(i,s,this.game,n);if(s.sound!==void 0&&this.game.soundManager.play(s.sound),this.pingsContainer.addChild(r.mapImage),r.inGameImage&&this.game.camera.addObject(r.inGameImage),r.definition.isPlayerPing)for(const l of this.pings)l.definition!==r.definition||l.playerId!==n||(l.destroy(),this.pings.delete(l));this.pings.add(r),r.definition.ignoreExpiration||this.game.addTimeout(()=>{r.destroy()},1e4)}};c(wi,"_instantiated",!1);let va=wi;class is{constructor(t,i,s,n){c(this,"startTime");c(this,"endTime");c(this,"mapImage");c(this,"inGameImage");c(this,"color");this.position=t,this.definition=i,this.game=s,this.playerId=n,this.startTime=Date.now(),this.endTime=this.startTime+this.definition.lifetime*1e3,this.color=i.color,i.isPlayerPing&&n&&(this.color=yi[this.game.uiManager.getTeammateColorIndex(n)??s.uiManager.teammates.findIndex(({id:r})=>r===n)]),this.mapImage=new X(i.idString).setVPos(t).setTint(this.color).setScale(.5),this.definition.showInGame&&(this.inGameImage=new X(i.idString).setVPos(_e(t)).setTint(this.color).setZIndex(995))}destroy(){var t;this.mapImage.destroy(),(t=this.inGameImage)==null||t.destroy()}}const xa=[void 0,'<path d="m2.5135417.52916667v1.98437503h-1.98437503v.2645833h1.98437503v1.9843749h.2645833v-1.9843749h1.9843749v-.2645833h-1.9843749v-1.98437503z"/>','<path d="m2.441453.5291666v1.453658h.4092773v-1.453658zm-1.1983765.7002157v1.0924397h.344165v-.7482747h.7482748v-.344165zm1.7135905 0v.344165h.7482747v.7482747h.3441651v-1.0924397zm-2.4406779 1.1983764v.4092774h1.453658v-.4092774zm2.8060303 0v.4092774h1.453658v-.4092774zm-2.0789429.5152141v1.0924397h1.0924398v-.344165h-.7482748v-.7482747zm2.4618652 0v.7482747h-.7482747v.344165h1.0924398v-1.0924397zm-1.2634887.3658691v1.453658h.4092773v-1.453658z"/>','<path d="m 2.6429911,0.52916667 c -0.073289,0 -0.1322916,0.059002 -0.1322916,0.13229166 V 1.0645345 C 1.7411327,1.1286256 1.1257834,1.7439749 1.0616923,2.5135417 H 0.66430054 c -0.0732897,0 -0.13229166,0.059002 -0.13229166,0.1322916 0,0.073289 0.059002,0.1322917 0.13229166,0.1322917 H 1.0611755 c 0.063612,0.7700628 0.6796027,1.38592 1.449524,1.4500406 v 0.4020427 c 0,0.07329 0.059002,0.1322916 0.1322916,0.1322916 0.073289,0 0.1322917,-0.059002 0.1322917,-0.1322916 V 4.2286824 C 3.5457002,4.1650414 4.1621991,3.5485424 4.2258402,2.778125 h 0.4015259 c 0.07329,0 0.1322916,-0.059002 0.1322916,-0.1322917 0,-0.073289 -0.059002,-0.1322916 -0.1322916,-0.1322916 H 4.2253234 C 4.1612028,1.7436204 3.5453456,1.1276296 2.7752828,1.0640177 V 0.66145833 c 0,-0.0732897 -0.059002,-0.13229166 -0.1322917,-0.13229166 z M 2.7752828,1.3286011 c 0.6261544,0.061742 1.1218721,0.5587361 1.183907,1.1849406 H 3.8336161 c -0.07329,0 -0.1322917,0.059002 -0.1322917,0.1322916 0,0.073289 0.059002,0.1322917 0.1322917,0.1322917 H 3.9591898 C 3.8975952,3.4046039 3.4017617,3.9004374 2.7752828,3.962032 V 3.8364583 c 0,-0.07329 -0.059002,-0.1322917 -0.1322917,-0.1322917 -0.073289,0 -0.1322916,0.059002 -0.1322916,0.1322917 V 3.962032 C 1.884495,3.8999971 1.3875006,3.4042794 1.3257589,2.778125 h 0.1322916 c 0.07329,0 0.1322917,-0.059002 0.1322917,-0.1322917 0,-0.073289 -0.059002,-0.1322916 -0.1322917,-0.1322916 H 1.3262756 C 1.3884739,1.8876926 1.8848504,1.3913161 2.5106995,1.3291178 v 0.1260905 c 0,0.07329 0.059002,0.1322917 0.1322916,0.1322917 0.073289,0 0.1322917,-0.059002 0.1322917,-0.1322917 z M 2.6455749,2.4634155 A 0.182548,0.182548 0 0 0 2.4631571,2.6458333 0.182548,0.182548 0 0 0 2.6455749,2.8282511 0.182548,0.182548 0 0 0 2.8285095,2.6458333 0.182548,0.182548 0 0 0 2.6455749,2.4634155 Z" />','<path d="m.94981276.52916708-.42064637.43201478 1.45003981 1.44590634.4278807-.0000001.0000001-.4247802zm3.38067114-.00000056-1.4459065 1.45004098-.0000002.4278807h.4247802l1.4531412-1.45727563zm-2.348177 2.35541208-1.45314118 1.4572756.43201471.420646 1.44590657-1.4500408.0000001-.4278808zm.9022702-.0000002-.0000001.4247803 1.4572745 1.453141.4206494-.4320118-1.4500399-1.4459063z"/>','<path d="M 2.9786295,0.55397134 V 0.92500812 A 1.7565619,1.7565619 0 0 1 4.3651082,2.3114868 H 4.7366617 A 2.1186512,2.1186512 0 0 0 2.9786295,0.55397134 Z M 2.3104533,0.5560384 A 2.1186512,2.1186512 0 0 0 0.55500485,2.3114868 H 0.92449136 A 1.7565619,1.7565619 0 0 1 2.3104533,0.92552489 Z M 2.6447998,1.3358358 A 1.3099111,1.3099111 0 0 0 1.3348022,2.6458333 1.3099111,1.3099111 0 0 0 1.526005,3.3238281 L 1.8334798,3.0163533 a 0.89495105,0.89495105 0 0 1 -0.083716,-0.37052 0.89495105,0.89495105 0 0 1 0.8950358,-0.8950358 0.89495105,0.89495105 0 0 1 0.372587,0.081649 L 3.3238281,1.526005 A 1.3099111,1.3099111 0 0 0 2.6447998,1.3358358 Z M 3.7641113,1.9662882 3.45767,2.2727295 A 0.89495105,0.89495105 0 0 1 3.5398356,2.6458333 0.89495105,0.89495105 0 0 1 2.6447998,3.5408691 0.89495105,0.89495105 0 0 1 2.273763,3.4566365 L 1.9662882,3.7641113 A 1.3099111,1.3099111 0 0 0 2.6447998,3.9558308 1.3099111,1.3099111 0 0 0 3.9547973,2.6458333 1.3099111,1.3099111 0 0 0 3.7641113,1.9662882 Z M 2.6447998,2.4029541 A 0.24300306,0.24300306 0 0 0 2.4019205,2.6458333 0.24300306,0.24300306 0 0 0 2.6447998,2.8887125 0.24300306,0.24300306 0 0 0 2.887679,2.6458333 0.24300306,0.24300306 0 0 0 2.6447998,2.4029541 Z M 0.55500485,2.979663 A 2.1186512,2.1186512 0 0 0 2.3104533,4.7356282 V 4.3661417 A 1.7565619,1.7565619 0 0 1 0.92397457,2.979663 Z m 3.81062005,0 A 1.7565619,1.7565619 0 0 1 2.9786295,4.3666585 V 4.7376952 A 2.1186512,2.1186512 0 0 0 4.7366617,2.979663 Z" />','<path d="M 2.6458332,0.52916667 A 2.1166668,2.1166668 0 0 0 0.52916662,2.6458334 2.1166668,2.1166668 0 0 0 2.6458332,4.7624999 2.1166668,2.1166668 0 0 0 4.7624999,2.6458334 2.1166668,2.1166668 0 0 0 2.6458332,0.52916667 Z m 0,0.38602294 A 1.7304204,1.7304204 0 0 1 3.7243203,1.2929443 L 2.6458332,2.3714315 1.5694131,1.2955281 A 1.7304204,1.7304204 0 0 1 2.6458332,0.91518961 Z M 3.9987222,1.5673463 A 1.7304204,1.7304204 0 0 1 4.3764769,2.6458334 1.7304204,1.7304204 0 0 1 3.9987222,3.7243205 L 2.920235,2.6458334 Z M 1.2950113,1.5699301 2.3709146,2.6458334 1.2950113,3.7217367 A 1.7304204,1.7304204 0 0 1 0.91518952,2.6458334 1.7304204,1.7304204 0 0 1 1.2950113,1.5699301 Z M 2.6453164,2.9202352 3.7243203,3.9987224 A 1.7304204,1.7304204 0 0 1 2.6458332,4.3764771 1.7304204,1.7304204 0 0 1 1.5694131,3.9961386 Z" />','<path id="path1" d="M 2.6458333,0.52916665 A 2.1166674,2.1166674 0 0 0 0.52916665,2.6458333 2.1166674,2.1166674 0 0 0 2.6458333,4.7624999 2.1166674,2.1166674 0 0 0 4.7624999,2.6458333 2.1166674,2.1166674 0 0 0 2.6458333,0.52916665 Z m 0,0.37310384 A 1.7437392,1.7437392 0 0 1 4.3893961,2.6458333 1.7437392,1.7437392 0 0 1 2.6458333,4.3893961 1.7437392,1.7437392 0 0 1 0.90227049,2.6458333 1.7437392,1.7437392 0 0 1 2.6458333,0.90227049 Z M 2.5460978,2.3859008 v 0.160197 h -0.160197 v 0.199471 h 0.160197 v 0.1601969 h 0.199471 V 2.7455688 H 2.9057657 V 2.5460978 H 2.7455688 v -0.160197 z" />','<path d="M 2.3796997,0.52916665 V 1.7600992 H 2.9119669 V 0.52916665 Z M 2.9993001,0.83405759 V 1.2236979 A 1.4707091,1.4707091 0 0 1 4.0731363,2.2923665 H 4.4617431 A 1.8502945,1.8502945 0 0 0 2.9993001,0.83405759 Z M 2.2923665,0.83457435 A 1.8502945,1.8502945 0 0 0 0.83405759,2.2923665 H 1.2226644 A 1.4707091,1.4707091 0 0 1 2.2923665,1.2247314 Z M 0.52916665,2.3796997 V 2.9119669 H 1.7600992 V 2.3796997 Z m 3.00240065,0 V 2.9119669 H 4.7624999 V 2.3796997 Z M 0.83405759,2.9993001 A 1.8502945,1.8502945 0 0 0 2.2944335,4.457609 V 4.0674519 A 1.4707091,1.4707091 0 0 1 1.2226644,2.9993001 Z m 3.23494461,0 A 1.4707091,1.4707091 0 0 1 3.0013671,4.0664184 v 0.390157 A 1.8502945,1.8502945 0 0 0 4.457609,2.9993001 Z M 2.3796997,3.5315673 V 4.7624999 H 2.9119669 V 3.5315673 Z" />','<path d="M 2.6458333,0.20153806 0.52916665,1.4236857 V 3.8679809 L 2.6458333,5.0901285 4.7624999,3.8679809 V 1.4236857 Z m 0,0.47077229 L 4.1692545,1.55236 2.661853,2.4225911 1.137915,1.5430582 Z M 0.93689369,1.8872233 2.4499796,2.7610717 V 4.5061848 L 0.93689369,3.6323363 Z M 4.3547729,1.90531 v 1.7270263 l -1.506368,0.8702311 v -1.727543 z" />','<path d="M 2.4179402,0.31677652 1.6190226,1.7006713 1.0454142,1.3694254 0.74259031,1.8939412 1.3156819,2.2251871 0.52916665,3.5878946 1.1275797,3.2426961 2.4179402,1.0076904 Z m 0.4557861,0 V 1.0076904 L 4.1640868,3.2426961 4.7624999,3.5878946 3.9759846,2.2251871 4.5490762,1.8939412 4.2462523,1.3694254 3.672644,1.7006713 Z M 2.6458333,2.4024373 c -0.1344125,2.74e-5 -0.2433686,0.1089835 -0.243396,0.243396 2.74e-5,0.1344125 0.1089835,0.2433686 0.243396,0.243396 0.1344125,-2.74e-5 0.2433686,-0.1089835 0.243396,-0.243396 C 2.8892019,2.5114208 2.7802458,2.4024647 2.6458333,2.4024373 Z M 1.3192993,3.6581746 0.75705971,3.9832193 H 2.3430094 V 4.665865 H 2.9486572 V 3.9832193 H 4.5346068 L 3.9723673,3.6581746 Z" />','<path d="M 2.4318929,0.52916665 V 0.83095701 A 1.8305234,1.8305234 0 0 0 0.83095701,2.4318929 H 0.52916665 V 2.8597737 H 0.83095701 A 1.8305234,1.8305234 0 0 0 2.4318929,4.4607095 V 4.7624999 H 2.8597737 V 4.4607095 A 1.8305234,1.8305234 0 0 0 4.4607095,2.8597737 H 4.7624999 V 2.4318929 H 4.4607095 A 1.8305234,1.8305234 0 0 0 2.8597737,0.83095701 V 0.52916665 Z M 2.8597737,1.2407511 A 1.4216013,1.4216013 0 0 1 4.0509154,2.4318929 H 2.9739786 a 0.39187496,0.39187496 0 0 1 0.063562,0.2139404 0.39187496,0.39187496 0 0 1 -0.063562,0.2139404 H 4.0509154 A 1.4216013,1.4216013 0 0 1 2.8597737,4.0509154 V 2.9739786 A 0.39187496,0.39187496 0 0 1 2.6458333,3.0375406 0.39187496,0.39187496 0 0 1 2.4318929,2.9739786 v 1.0764201 a 1.4216013,1.4216013 0 0 1 -1.190625,-1.190625 h 1.07642 A 0.39187496,0.39187496 0 0 1 2.2541259,2.6458333 0.39187496,0.39187496 0 0 1 2.3176879,2.4318929 h -1.07642 a 1.4216013,1.4216013 0 0 1 1.190625,-1.190625 v 1.07642 a 0.39187496,0.39187496 0 0 1 0.2139404,-0.063562 0.39187496,0.39187496 0 0 1 0.2139404,0.063562 z M 2.6458333,2.3430094 A 0.30300418,0.30300418 0 0 0 2.3430094,2.6458333 0.30300418,0.30300418 0 0 0 2.6458333,2.9486572 0.30300418,0.30300418 0 0 0 2.9486572,2.6458333 0.30300418,0.30300418 0 0 0 2.6458333,2.3430094 Z" />','<path d="M 1.3519537,2.2068079 C 1.357793,2.1741734 1.637807,2.2525412 1.9879066,2.1096426 1.6258102,1.556659 0.50167915,1.0305177 0.50167915,1.0305177 L 1.0118737,0.47138692 C 1.3086718,0.58971178 1.5818046,0.75145785 1.8384366,0.93722354 2.2934379,1.2785435 2.4561453,1.5675021 2.4905588,1.5940244 2.5158608,1.6135334 2.6088899,1.1368476 2.6088899,1.1368476 l 0.097282,0.00117 c 0,0 0.2137755,1.0403756 -0.029994,1.5078154 C 2.2339244,2.5140167 1.7847855,2.4073078 1.3338091,2.3082146 Z" />'];function ho(o,t,i,s,n){const r=xa[o];return r?`data:image/svg+xml,${encodeURIComponent(`<svg fill="${t}" height="${i}" width="${i}" stroke="${s}" stroke-width="${n}" viewBox="0 0 5.2916665 5.2916666" xmlns="http://www.w3.org/2000/svg">${r}</svg>`)}`:"crosshair"}let Fe;const Ut=Dt.regions;let Me,Oe,na=!1,Ii=!1,ka=!0,zo=!0;function as(){zo=!1}let Ra;function os(){Ra=Date.now()}let rs;function Xe(){if(zo)return;_("#splash-options").removeClass("loading"),_("#loading-text").text(C("loading_connecting"));const{maxTeamSize:o}=Fe??Ut[Dt.defaultRegion],t=o===St.Solo;for(const[i,s]of rs??(rs=[[St.Solo,_("#btn-play-solo")],[St.Duo,_("#btn-play-duo")],[St.Squad,_("#btn-play-squad")]]))s.toggleClass("locked",o!==void 0&&o!==i);_("#team-option-btns").toggleClass("locked",t),_("#locked-msg").css("top",t?"225px":"153px").toggle(o!==void 0)}async function ns(o){const{inputManager:t,uiManager:{ui:i}}=o,s=_("#select-language-menu");_("#btn-language").on("click",()=>{s.css("display","")}),_("#close-select-language").on("click",()=>{_("#select-language-menu").css("display","none")});const n=_("#select-language-container fieldset");for(const[w,M]of Object.entries(zi.translations))n.append(Pe`
          <div>
            <input type="radio" name="selected-language" id="language-${w}" value="${w}">
            <label for="language-${w}">${M.flag} ${M.name} (${M.percentage})</label>
          </div>
      `),_(`#language-${w}`).on("click",()=>{o.console.setBuiltInCVar("cv_language",w)}).prop("checked",o.console.getBuiltInCVar("cv_language")===w);o.console.variables.addChangeListener("cv_language",()=>location.reload());const r=new URLSearchParams(window.location.search);r.has("region")&&(()=>{const w=r.get("region");r.delete("region"),w!==null&&Object.hasOwn(Dt.regions,w)&&o.console.setBuiltInCVar("cv_region",w)})();let l="";for(const w of Dr.slice(0,5)){const M=new Date(w.date).toLocaleDateString("default",{month:"long",day:"numeric",year:"numeric"});l+='<article class="splash-news-entry">',l+=`<div class="news-date">${M}</div>`,l+=`<div class="news-title">${w.title}</div>`,l+=`<p>${w.content}<br><i>- ${w.author}</i></p></article>`}i.newsPosts.html(l),i.lockedInfo.on("click",()=>i.lockedTooltip.fadeToggle(250));const d=w=>w<10?`0${w}`:w,m=()=>{if(!(Fe!=null&&Fe.nextSwitchTime)){i.lockedTime.text("--:--:--");return}const w=Fe.nextSwitchTime-Date.now();if(w<0){location.reload();return}const M=Math.floor(w/36e5)%24,E=Math.floor(w/6e4)%60,B=Math.floor(w/1e3)%60;i.lockedTime.text(`${d(M)}:${d(E)}:${d(B)}`)};setInterval(m,1e3);const h=Object.entries(Ut),p=_("#server-list"),u={};for(const[w]of h)p.append(u[w]=_(`
                <li class="server-list-item" data-region="${w}">
                    <span class="server-name">${C(`region_${w}`)}</span>
                    <span style="margin-left: auto">
                      <img src="./img/misc/player_icon.svg" width="16" height="16" alt="Player count">
                      <span class="server-player-count">-</span>
                    </span>
                </li>
            `));i.loadingText.text(C("loading_fetching_data"));const y=Object.entries(h).map(async([w,[M,E]])=>{var me;const B=u[M],W=Date.now();let G;for(let Ae=0;Ae<3;Ae++){console.log(`Loading server info for region ${M}: ${E.mainAddress} (attempt ${Ae+1} of 3)`);try{if(G=await((me=await fetch(`${E.mainAddress}/api/serverInfo`,{signal:AbortSignal.timeout(1e4)}))==null?void 0:me.json()))break}catch(at){console.error(`Error loading server info for region ${M}. Details:`,at)}}if(!G){console.error(`Unable to load server info for region ${M} after 3 attempts`);return}if(G.protocolVersion!==se.protocolVersion){console.error(`Protocol version mismatch for region ${M}. Expected ${se.protocolVersion} (ours), got ${G.protocolVersion} (theirs)`);return}Ut[M]={...E,...G,ping:Date.now()-W},B.find(".server-player-count").text(G.playerCount??"-"),console.log(`Loaded server info for region ${M}`)});await Promise.all(y);const I=_("#server-name"),R=_("#server-player-count"),x=()=>{Fe||(Fe=Ut[Dt.defaultRegion],o.console.setBuiltInCVar("cv_region","")),C(`region_${o.console.getBuiltInCVar("cv_region")}`)==="region_"?I.text(Fe.name):I.text(C(`region_${o.console.getBuiltInCVar("cv_region")}`)),R.text(Fe.playerCount??"-"),m(),Xe()};Fe=Ut[o.console.getBuiltInCVar("cv_region")??Dt.defaultRegion],x(),p.children("li.server-list-item").on("click",function(){const w=this.getAttribute("data-region");if(w===null)return;const M=Ut[w];M!==void 0&&(Xe(),Fe=M,o.console.setBuiltInCVar("cv_region",w),x())});const S=()=>{if(i.splashOptions.addClass("loading"),i.loadingText.text(C("loading_finding_game")),Fe===void 0)return;const w=Fe;_.get(`${w.mainAddress}/api/getGame${Oe?`?teamID=${Oe}`:""}`,M=>{if(M.success){const E=new URLSearchParams;Oe&&E.set("teamID",Oe),Ii&&E.set("autoFill",String(Ii));const B=o.console.getBuiltInCVar("dv_password");B&&E.set("password",B);const W=o.console.getBuiltInCVar("dv_role");W&&E.set("role",W),o.console.getBuiltInCVar("dv_lobby_clearing")&&E.set("lobbyClearing","true");const me=o.console.getBuiltInCVar("dv_weapon_preset");me&&E.set("weaponPreset",me);const Ae=o.console.getBuiltInCVar("dv_name_color");if(Ae)try{E.set("nameColor",new vt(Ae).toNumber().toString())}catch(at){o.console.setBuiltInCVar("dv_name_color",""),console.error(at)}o.connect(`${w.gameAddress.replace("<ID>",(M.gameID+1).toString())}/play?${E.toString()}`),i.splashMsg.hide(),v.css("display")!=="none"&&v.hide()}else{if(M.message!==void 0){const E=M.reportID||"No report ID provided.",B=C(`msg_punishment_${M.message}_reason`,{reason:M.reason??C("msg_no_reason")});i.warningTitle.text(C(`msg_punishment_${M.message}`)),i.warningText.html(`${M.message!=="vpn"?`<span style="font-size:20px;margin-bottom:10px">Case ID: ${E}</span><br>`:""}${B}`),i.warningAgreeOpts.toggle(M.message==="warn"),i.warningAgreeCheckbox.prop("checked",!1),i.warningModal.show(),i.splashOptions.addClass("loading")}else i.splashMsgText.html(Pe`
                            ${C("msg_err_joining")}
                            <br>
                            ${C("msg_try_again")}
                        `),i.splashMsg.show();Xe()}}).fail(()=>{i.splashMsgText.html(Pe`
                ${C("msg_err_finding")}
                <br>
                ${C("msg_try_again")}
            `),i.splashMsg.show(),Xe()})};let b=0;_("#btn-play-solo, #btn-play-duo, #btn-play-squad").on("click",()=>{const w=Date.now();w-b<1500||(b=w,S())});const v=_("#create-team-menu");_("#btn-create-team, #btn-join-team").on("click",function(){const w=Date.now();if(w-b<1500||Me||Fe===void 0)return;b=w,i.splashOptions.addClass("loading"),i.loadingText.text(C("loading_connecting"));const M=new URLSearchParams;if(this.id==="btn-join-team"){for(;!Oe;){if(Oe=prompt(C("msg_enter_team_code")),!Oe){Xe();return}if(Oe.includes("#")&&(Oe=Oe.split("#")[1]),/^[a-zA-Z0-9]{4}$/.test(Oe))break;alert("Invalid team code.")}M.set("teamID",Oe)}M.set("name",o.console.getBuiltInCVar("cv_player_name")),M.set("skin",o.console.getBuiltInCVar("cv_loadout_skin"));const E=o.console.getBuiltInCVar("cv_loadout_badge");E&&M.set("badge",E);const B=o.console.getBuiltInCVar("dv_password");B&&M.set("password",B);const W=o.console.getBuiltInCVar("dv_role");W&&M.set("role",W);const G=o.console.getBuiltInCVar("dv_name_color");if(G)try{M.set("nameColor",new vt(G).toNumber().toString())}catch(me){o.console.setBuiltInCVar("dv_name_color",""),console.error(me)}Me=new WebSocket(`${Fe.mainAddress.replace("http","ws")}/team?${M.toString()}`),Me.onmessage=me=>{const Ae=JSON.parse(me.data);switch(Ae.type){case ht.Join:{na=!0,Oe=Ae.teamID,window.location.hash=`#${Oe}`,i.createTeamUrl.val(`${window.location.origin}/?region=${o.console.getBuiltInCVar("cv_region")}#${Oe}`),i.createTeamAutoFill.prop("checked",Ae.autoFill),i.createTeamLock.prop("checked",Ae.locked);break}case ht.Update:{const{players:at,isLeader:Yi,ready:Ha}=Ae;i.createTeamPlayers.html(at.map(({isLeader:Ko,ready:Xo,name:Yo,skin:Ji,badge:Wa,nameColor:Ua})=>`
                                <div class="create-team-player-container">
                                    <i class="fa-solid fa-crown"${Ko?"":' style="display: none"'}></i>
                                    <i class="fa-regular fa-circle-check"${Xo?"":' style="display: none"'}></i>
                                    <div class="skin">
                                        <div class="skin-base" style="background-image: url('./img/game/shared/skins/${Ji}_base.svg')"></div>
                                        <div class="skin-left-fist" style="background-image: url('./img/game/shared/skins/${Ji}_fist.svg')"></div>
                                        <div class="skin-right-fist" style="background-image: url('./img/game/shared/skins/${Ji}_fist.svg')"></div>
                                    </div>
                                    <div class="create-team-player-name-container">
                                        <span class="create-team-player-name"${Ua?` style="color: ${new vt(Ua).toHex()}"`:""};>${Yo}</span>
                                        ${Wa?`<img class="create-team-player-badge" draggable="false" src="./img/game/shared/badges/${Wa}.svg" />`:""}
                                    </div>
                                </div>
                                `).join("")),i.createTeamToggles.toggleClass("disabled",!Yi),i.btnStartGame.toggleClass("btn-disabled",!Yi&&Ha).text(C(Yi?"create_team_play":Ha?"create_team_waiting":"create_team_ready"));break}case ht.Settings:{i.createTeamAutoFill.prop("checked",Ae.autoFill),i.createTeamLock.prop("checked",Ae.locked);break}case ht.Started:{v.hide(),S();break}}},Me.onerror=()=>{i.splashMsgText.html(C("msg_error_joining_team")),i.splashMsg.show(),Xe(),v.fadeOut(250),i.splashUi.css({filter:"",pointerEvents:""})},Me.onclose=()=>{Me&&(i.splashMsgText.html(C(na?"msg_lost_team_connection":"msg_error_joining_team")),i.splashMsg.show()),Xe(),Me=void 0,Oe=void 0,na=!1,window.location.hash="",v.fadeOut(250),i.splashUi.css({filter:"",pointerEvents:""})},v.fadeIn(250),i.splashUi.css({filter:"brightness(0.6)",pointerEvents:"none"})}),i.closeCreateTeam.on("click",()=>{const w=Me;Me=void 0,w==null||w.close()});const P=_("#btn-copy-team-url"),D=_("#btn-hide-team-url");P.on("click",()=>{const w=i.createTeamUrl.val();if(!w){alert("Unable to copy link to clipboard.");return}navigator.clipboard.writeText(w).then(()=>{P.addClass("btn-success").css("pointer-events","none").html(`
                        <i class="fa-solid fa-check" id="copy-team-btn-icon"></i>
                        ${C("copied")}`),window.setTimeout(()=>{P.removeClass("btn-success").css("pointer-events","").html(`
                            <i class="fa-solid fa-clipboard" id="copy-team-btn-icon"></i>
                            ${C("copy")}`)},2e3)}).catch(()=>{alert("Unable to copy link to clipboard.")})});const O=D.children("i");D.on("click",()=>{const w=i.createTeamUrl;if(w.hasClass("hidden")){O.removeClass("fa-eye").addClass("fa-eye-slash"),w.removeClass("hidden").css({color:"",textShadow:""});return}O.removeClass("fa-eye-slash").addClass("fa-eye"),w.addClass("hidden").css({color:"transparent",textShadow:"0 0 8px rgba(0, 0, 0, 0.5)"})}),_("#create-team-toggle-auto-fill").on("click",function(){Ii=this.checked,Me==null||Me.send(JSON.stringify({type:ht.Settings,autoFill:Ii}))}),_("#create-team-toggle-lock").on("click",function(){Me==null||Me.send(JSON.stringify({type:ht.Settings,locked:this.checked}))}),i.btnStartGame.on("click",()=>{Me==null||Me.send(JSON.stringify({type:ht.Start}))});const A=r.get("nameColor");A&&o.console.setBuiltInCVar("dv_name_color",A);const L=r.get("lobbyClearing");L&&o.console.setBuiltInCVar("dv_lobby_clearing",L==="true");const H=r.get("password");H&&(o.console.setBuiltInCVar("dv_password",H),location.search="");const te=r.get("role");te&&(o.console.setBuiltInCVar("dv_role",te),location.search="");const N=_("#username-input"),q=Na([{name:"123OP",link:"https://www.youtube.com/@123op."},{name:"bruh button official",link:"https://www.youtube.com/@bruhbuttonofficial4658"},{name:"viper",link:"https://www.youtube.com/channel/UCey8-fJfkF7UFYdWBcegzWA"},{name:"IoSilverAway",link:"https://www.youtube.com/@iosilveraway_19"},{name:"Ukraines dude",link:"https://www.youtube.com/@Ukrainesdude"},{name:"Ash",link:"https://www.youtube.com/@AshMyBoi"},{name:"Tuncres",link:"https://www.youtube.com/@Tuncres2022"},{name:"Данзан animations",link:"https://www.youtube.com/@danzananimYT/videos"},{name:"Pablo_Fan_",link:"https://www.youtube.com/@Pablo_Fan_"},{name:"g0dak",link:"https://www.youtube.com/@g0dak"},{name:"GAMERIO",link:"https://www.youtube.com/@GAMERIO1"},{name:"N00B.I0",link:"https://www.youtube.com/@N00B.I0"},{name:"Dablitter",link:"https://www.youtube.com/@dablitter5719"},{name:"DESTROYER [IHY]",link:"https://www.youtube.com/@DESTROYERIHY"},{name:"XxDreamCatcherxX Gaming",link:"https://www.youtube.com/@XxDreamCatcherxXGaming2.0"},{name:"[ATMOS]Bl00D",link:"https://www.youtube.com/@TheRealATMOS"},{name:"Tuncres",link:"https://www.youtube.com/@Tuncres2022"},{name:"this.is.gls_",link:"https://www.youtube.com/@this.is.gls_"},{name:"LeeMinHaiz",link:"https://www.youtube.com/@LeeMinHaiz"}]);_("#youtube-featured-name").text(q.name),_("#youtube-featured-content").attr("href",q.link).removeAttr("target");const ee=Na([{name:"ikou",link:"https://www.twitch.tv/ikou_yt"},{name:"seth_mayo",link:"https://www.twitch.tv/seth_mayo"},{name:"PatchesSC",link:"https://www.twitch.tv/patchessc"}]);_("#twitch-featured-name").text(ee.name),_("#twitch-featured-content").attr("data-href",ee.link).removeAttr("target");const le=()=>_("#splash-rotate-message").toggle(window.innerWidth<window.innerHeight);le(),_(window).on("resize",le),o.console.variables.addChangeListener("cv_console_open",(w,M)=>o.console.isOpen=M);const fe=i.gameMenu,xe=_("#settings-menu");N.val(o.console.getBuiltInCVar("cv_player_name")),N.on("input",function(){o.console.setBuiltInCVar("cv_player_name",this.value=this.value.replace(/[\u201c\u201d\u201f]/g,'"').replace(/[\u2018\u2019\u201b]/g,"'").replace(/[\u2013\u2014]/g,"-").replace(/[^\x20-\x7E]/g,""))}),er("#server-select"),_("#server-select").on("change",()=>{});const He=_("#btn-rules");o.console.getBuiltInCVar("cv_rules_acknowledged")||He.removeClass("btn-secondary").addClass("highlighted"),He.on("click",()=>{o.console.setBuiltInCVar("cv_rules_acknowledged",!0),location.href="./rules/"}),_("#btn-quit-game, #btn-spectate-menu, #btn-menu").on("click",()=>{o.endGame()}),_("#btn-play-again, #btn-spectate-replay").on("click",async()=>{await o.endGame(),Me?Me.send(JSON.stringify({type:ht.Start})):S()});const it=w=>{o.sendPacket(Gi.create({spectateAction:w}))};i.btnSpectate.on("click",()=>{it(st.BeginSpectating),o.spectating=!0,o.map.indicator.setFrame("player_indicator")}),i.spectatePrevious.on("click",()=>{it(st.SpectatePrevious)}),i.spectateKillLeader.on("click",()=>{it(st.SpectateKillLeader)}),i.btnReport.on("click",()=>{it(st.Report)}),i.spectateNext.on("click",()=>{it(st.SpectateNext)}),_("#btn-resume-game").on("click",()=>fe.hide()),_("#btn-fullscreen").on("click",()=>{an(),i.gameMenu.hide()}),tr.on("keydown",w=>{w.key==="Escape"&&(i.canvas.hasClass("active")&&!o.console.isOpen&&(fe.fadeToggle(250),xe.hide()),o.console.isOpen=!1)}),_("#btn-settings").on("click",()=>{_(".dialog").hide(),xe.fadeToggle(250),xe.removeClass("in-game")}),_("#btn-settings-game").on("click",()=>{fe.hide(),xe.fadeToggle(250),xe.addClass("in-game")}),_("#close-settings").on("click",()=>{xe.fadeOut(250)});const Lt=_("#customize-menu");_("#btn-customize").on("click",()=>{_(".dialog").hide(),Lt.fadeToggle(250)}),_("#close-customize").on("click",()=>Lt.fadeOut(250)),_("#close-report").on("click",()=>i.reportingModal.fadeOut(250));const ft=o.console.getBuiltInCVar("dv_role");Ot.definitions.some(w=>w.idString===o.console.getBuiltInCVar("cv_loadout_skin"))||o.console.setBuiltInCVar("cv_loadout_skin",gt.cv_loadout_skin);const Ge=_("#skin-base"),bt=_("#skin-left-fist, #skin-right-fist"),et=w=>{Ge.css("background-image",`url("./img/game/shared/skins/${w}_base.svg")`),bt.css("background-image",`url("./img/game/shared/skins/${w}_fist.svg")`)},kt=o.console.getBuiltInCVar("cv_loadout_skin");et(kt);const Vt=_("#skins-list"),Rt={};function ae(w){Rt[w].addClass("selected").siblings().removeClass("selected"),et(w)}for(const{idString:w,hideFromLoadout:M,roleRequired:E}of Ot){if(M||(E??ft)!==ft)continue;const B=Rt[w]=_(`<div id="skin-${w}" class="skins-list-item-container${w===kt?" selected":""}">
                <div class="skin">
                    <div class="skin-base" style="background-image: url('./img/game/shared/skins/${w}_base.svg')"></div>
                    <div class="skin-left-fist" style="background-image: url('./img/game/shared/skins/${w}_fist.svg')"></div>
                    <div class="skin-right-fist" style="background-image: url('./img/game/shared/skins/${w}_fist.svg')"></div>
                </div>
                <span class="skin-name">${C(w)}</span>
            </div>`);B.on("click",()=>{o.console.setBuiltInCVar("cv_loadout_skin",w),ae(w)}),Vt.append(B)}o.console.variables.addChangeListener("cv_loadout_skin",(w,M)=>{ae(M)});function pe(w){const M=_(`#emote-wheel-bottom .emote-${w} .fa-xmark`),E=`cv_loadout_${w}_emote`,B=_(`#emote-wheel-container .emote-${w}`);M.on("click",()=>{o.console.setBuiltInCVar(E,""),B.css("background-image","none"),M.hide()}),o.console.getBuiltInCVar(`cv_loadout_${w}_emote`)===""&&M.hide()}pe("win"),pe("death");let ke;const Jt=_("#emotes-list"),Qt={},Te={};function vi(){Jt.empty();const w=[...Et.definitions].sort((E,B)=>E.category-B.category);let M;for(const E of w){if(E.category!==M){const G=_(`<div class="emote-list-header">${C(`emotes_category_${wo[E.category]}`)}</div>`);Jt.append(G),M=E.category}const B=E.idString,W=_(`<div id="emote-${B}" class="emotes-list-item-container">
                    <div class="emotes-list-item" style="background-image: url(./img/game/shared/emotes/${B}.svg)"></div>
                    <span class="emote-name">${C(`emote_${B}`)}</span>
                </div>`);W.on("click",()=>{if(ke===void 0)return;const G=ke;(Qt[G]??(Qt[G]=_(`#emote-wheel-bottom .emote-${G} .fa-xmark`))).show(),o.console.setBuiltInCVar(`cv_loadout_${G}_emote`,E.idString),W.addClass("selected").siblings().removeClass("selected"),(Te[G]??(Te[G]=_(`#emote-wheel-container .emote-${G}`))).css("background-image",`url("./img/game/shared/emotes/${E.idString}.svg")`)}),Jt.append(W)}}vi();const Ni=_("#emote-customize-wheel"),Re=_(".emotes-list-item-container");function zt(w,M){return(Te[w]??(Te[w]=_(`#emote-wheel-container .emote-${w}`))).css("background-image",M?`url("./img/game/shared/emotes/${M}.svg")`:"none")}for(const w of ca){const M=`cv_loadout_${w}_emote`,E=o.console.getBuiltInCVar(M);o.console.variables.addChangeListener(M,(B,W)=>{zt(w,W)}),zt(w,E).on("click",()=>{ke!==w&&(ke!==void 0&&(Te[ke]??(Te[ke]=_(`#emote-wheel-container .emote-${ke}`))).removeClass("selected"),ke=w,vi(),ca.indexOf(w)>3?(Ni.css("background-image","url('/img/misc/emote_wheel.svg')"),(Te[w]??(Te[w]=_(`#emote-wheel-container .emote-${w}`))).addClass("selected")):Ni.css("background-image",`url("./img/misc/emote_wheel_highlight_${w}.svg"), url("/img/misc/emote_wheel.svg")`),Re.removeClass("selected").css("cursor","pointer"),_(`#emote-${o.console.getBuiltInCVar(M)||"none"}`).addClass("selected"))}),(Te[w]??(Te[w]=_(`#emote-wheel-container .emote-${w}`))).children(".remove-emote-btn").on("click",()=>{o.console.setBuiltInCVar(M,""),(Te[w]??(Te[w]=_(`#emote-wheel-container .emote-${w}`))).css("background-image","none")})}const mt=_("#crosshair-image"),Ft=_("#crosshair-controls"),ji=_("#crosshair-preview, #game");ut.darkShaders&&_("#game-canvas").css({filter:"brightness(0.65) saturate(0.85)",position:"relative","z-index":"-1"});function It(){const w=20*o.console.getBuiltInCVar("cv_crosshair_size"),M=ho(o.console.getBuiltInCVar("cv_loadout_crosshair"),o.console.getBuiltInCVar("cv_crosshair_color"),w,o.console.getBuiltInCVar("cv_crosshair_stroke_color"),o.console.getBuiltInCVar("cv_crosshair_stroke_size")),E=M==="crosshair"?M:`url("${M}") ${w/2} ${w/2}, crosshair`;mt.css({backgroundImage:`url("${M}")`,width:w,height:w}),Ft.toggleClass("disabled",!xa[o.console.getBuiltInCVar("cv_loadout_crosshair")]),ji.css({cursor:E})}It();const qi=[];o.console.variables.addChangeListener("cv_loadout_crosshair",(w,M)=>{(qi[M]??(qi[M]=_(`#crosshair-${M}`))).addClass("selected").siblings().removeClass("selected"),It()});const Fo=o.console.getBuiltInCVar("cv_crosshair_size"),Bo=o.console.getBuiltInCVar("cv_loadout_crosshair");_("#crosshairs-list").append(xa.map((w,M)=>{const E=_('<div class="crosshairs-list-item"></div>'),B=_(`<div id="crosshair-${M}" class="crosshairs-list-item-container${Bo===M?" selected":""}"></div>`);return B.append(E),E.css({backgroundImage:`url("${ho(M,"#fff",Fo,"#0",0)}")`,"background-size":"contain","background-repeat":"no-repeat"}),B.on("click",()=>{o.console.setBuiltInCVar("cv_loadout_crosshair",M),It(),B.addClass("selected").siblings().removeClass("selected")}),B})),o.console.getBuiltInCVar("dv_role")!==""&&(_("#tab-special").show(),_("#role-name").val(o.console.getBuiltInCVar("dv_role")).on("input",w=>{o.console.setBuiltInCVar("dv_role",w.target.value)}),_("#role-password").on("input",w=>{o.console.setBuiltInCVar("dv_password",w.target.value)}),Se("#toggle-lobbyclearing","dv_lobby_clearing"),o.console.getBuiltInCVar("dv_name_color")===""&&o.console.setBuiltInCVar("dv_name_color","#FFFFFF"),_("#namecolor-color-picker").val(o.console.getBuiltInCVar("dv_name_color")).on("input",w=>{o.console.setBuiltInCVar("dv_name_color",w.target.value)}),_("#weapon-preset").val(o.console.getBuiltInCVar("dv_weapon_preset")).on("input",w=>{o.console.setBuiltInCVar("dv_weapon_preset",w.target.value)}));const Oa=xt.definitions.filter(({roles:w})=>!(w!=null&&w.length)||w.includes(ft));if(Oa.length>0){let w=function(W){B[W].addClass("selected").siblings().removeClass("selected")};_("#tab-badges").show();const M=_(Pe`<div id="badge-" class="badges-list-item-container">\
                <div class="badges-list-item"> </div>\
                <span class="badge-name">${C("none")}</span>\
            </div>`);M.on("click",()=>{o.console.setBuiltInCVar("cv_loadout_badge",""),M.addClass("selected").siblings().removeClass("selected")});const E=o.console.getBuiltInCVar("cv_loadout_badge"),B={"":M};_("#badges-list").append(M,...Oa.map(({idString:W})=>{const G=B[W]=_(`<div id="badge-${W}" class="badges-list-item-container${W===E?" selected":""}">                        <div class="badges-list-item">                            <div style="background-image: url('./img/game/shared/badges/${W}.svg')"></div>                        </div>                        <span class="badge-name">${C(`badge_${W}`)}</span>                    </div>`);return G.on("click",()=>{o.console.setBuiltInCVar("cv_loadout_badge",W),w(W)}),G})),o.console.variables.addChangeListener("cv_loadout_badge",(W,G)=>{w(G)})}function tt(w,M,E){const B=_(w)[0];if(!B){console.error("Invalid element id");return}let W=!1;B.addEventListener("input",()=>{if(W)return;const me=+B.value;W=!0,o.console.setBuiltInCVar(M,me),W=!1,E==null||E(me)}),o.console.variables.addChangeListener(M,(me,Ae)=>{if(W)return;const at=+Ae;E==null||E(at),W=!0,B.value=`${at}`,B.dispatchEvent(new InputEvent("input")),W=!1});const G=o.console.getBuiltInCVar(M);E==null||E(G),B.value=G.toString()}function Se(w,M,E){const B=_(w)[0];if(!B){console.error("Invalid element id");return}B.addEventListener("input",()=>{const W=B.checked;o.console.setBuiltInCVar(M,W),E==null||E(W)}),o.console.variables.addChangeListener(M,(W,G)=>{const me=!!G;E==null||E(me),B.checked=me}),B.checked=o.console.getBuiltInCVar(M)}tt("#slider-crosshair-size","cv_crosshair_size",It),tt("#slider-crosshair-stroke-size","cv_crosshair_stroke_size",It);const La=_("#crosshair-color-picker");La.on("input",function(){o.console.setBuiltInCVar("cv_crosshair_color",this.value),It()}),o.console.variables.addChangeListener("cv_crosshair_color",(w,M)=>{La.val(M)});const Va=_("#crosshair-stroke-picker");Va.on("input",function(){o.console.setBuiltInCVar("cv_crosshair_stroke_color",this.value),It()}),o.console.variables.addChangeListener("cv_crosshair_stroke_color",(w,M)=>{Va.val(M)}),i.game.on("contextmenu",w=>{w.preventDefault()}),Se("#toggle-scope-looping","cv_loop_scope_selection"),Se("#toggle-autopickup","cv_autopickup"),_("#toggle-autopickup").parent().parent().toggle(t.isMobile),Se("#toggle-autopickup-dual-guns","cv_autopickup_dual_guns"),_("#toggle-autopickup-dual-guns").parent().parent().toggle(t.isMobile),Se("#toggle-anonymous-player","cv_anonymize_player_names"),Se("#toggle-hide-emote","cv_hide_emotes"),tt("#slider-music-volume","cv_music_volume",w=>{o.music.volume=w}),tt("#slider-sfx-volume","cv_sfx_volume",w=>{o.soundManager.sfxVolume=w}),tt("#slider-ambience-volume","cv_ambience_volume",w=>{o.soundManager.ambienceVolume=w}),tt("#slider-master-volume","cv_master_volume",w=>{At.volumeAll=w}),Se("#toggle-old-music","cv_use_old_menu_music"),Se("#toggle-camera-shake","cv_camera_shake_fx");for(const w of["fps","ping","pos"]){const M=o.uiManager.debugReadouts[w];M.toggle(o.console.getBuiltInCVar(`pf_show_${w}`)),Se(`#toggle-${w}`,`pf_show_${w}`,E=>M.toggle(E))}{const w=_("#toggle-text-kill-feed")[0];w.addEventListener("input",()=>{o.console.setBuiltInCVar("cv_killfeed_style",w.checked?"text":"icon")}),o.console.variables.addChangeListener("cv_killfeed_style",(M,E)=>{w.checked=E==="text",M.uiManager.updateWeaponSlots()}),w.checked=o.console.getBuiltInCVar("cv_killfeed_style")==="text"}{const w=_("#toggle-colored-slots")[0];w.addEventListener("input",()=>{o.console.setBuiltInCVar("cv_weapon_slot_style",w.checked?"colored":"simple"),o.uiManager.updateWeaponSlots()}),o.console.variables.addChangeListener("cv_weapon_slot_style",(M,E)=>{console.trace(),w.checked=E==="colored",M.uiManager.updateWeaponSlots()}),w.checked=o.console.getBuiltInCVar("cv_weapon_slot_style")==="colored"}const Zi=_("#render-mode-select")[0];Zi.addEventListener("input",()=>{o.console.setBuiltInCVar("cv_renderer",Zi.value)}),Zi.value=o.console.getBuiltInCVar("cv_renderer"),(async()=>_("#webgpu-option").toggle(await Pr()))();const Ki=_("#render-res-select")[0];Ki.addEventListener("input",()=>{o.console.setBuiltInCVar("cv_renderer_res",Ki.value)}),Ki.value=o.console.getBuiltInCVar("cv_renderer_res"),_("#toggle-high-res").parent().parent().toggle(!t.isMobile),Se("#toggle-high-res","cv_high_res_textures"),Se("#toggle-cooler-graphics","cv_cooler_graphics"),o.console.variables.addChangeListener("cv_cooler_graphics",(w,M,E)=>{if(M!==E&&!M)for(const B of o.objects.getCategory(Y.Player)){const{images:{blood:{children:W}},bloodDecals:G}=B;for(const me of W)me.destroy();W.length=0;for(const me of G)me.kill()}}),Se("#toggle-ambient-particles","cv_ambient_particles");const{gameUi:xi}=o.uiManager.ui;o.console.variables.addChangeListener("cv_draw_hud",(w,M)=>{xi.toggle(M),o.map.visible=!o.console.getBuiltInCVar("cv_minimap_minimized")&&M}),Se("#toggle-draw-hud","cv_draw_hud"),Se("#toggle-antialias","cv_antialias"),Se("#toggle-movement-smoothing","cv_movement_smoothing"),Se("#toggle-responsive-rotation","cv_responsive_rotation"),Se("#toggle-mobile-controls","mb_controls_enabled"),tt("#slider-joystick-size","mb_joystick_size"),tt("#slider-joystick-transparency","mb_joystick_transparency"),Se("#toggle-high-res-mobile","mb_high_res_textures");function Xi(){const w=o.console.getBuiltInCVar("cv_ui_scale");xi.width(window.innerWidth/w),xi.height(window.innerHeight/w),xi.css("transform",`scale(${w})`)}Xi(),window.addEventListener("resize",()=>Xi()),tt("#slider-ui-scale","cv_ui_scale",()=>{Xi(),o.map.resize()}),t.isMobile&&(_("#ui-scale-container").hide(),o.console.setBuiltInCVar("cv_ui_scale",1)),tt("#slider-minimap-transparency","cv_minimap_transparency",()=>{o.map.updateTransparency()}),tt("#slider-big-map-transparency","cv_map_transparency",()=>{o.map.updateTransparency()}),Se("#toggle-hide-minimap","cv_minimap_minimized",w=>{o.map.visible=!w}),o.console.variables.addChangeListener("cv_map_expanded",(w,M)=>{o.map.expanded=M}),Se("#toggle-leave-warning","cv_leave_warning");const za=_("#splash-ui");Se("#toggle-blur-splash","cv_blur_splash",w=>{za.toggleClass("blur",w)}),za.toggleClass("blur",o.console.getBuiltInCVar("cv_blur_splash"));const Fa=_("#btn-rules, #rules-close-btn");Se("#toggle-hide-rules","cv_hide_rules_button",w=>{Fa.toggle(!w)}),Fa.toggle(!o.console.getBuiltInCVar("cv_hide_rules_button")),_(".checkbox-setting").has("#toggle-hide-rules").toggle(o.console.getBuiltInCVar("cv_rules_acknowledged"));const $o=_("#btn-rules, #rules-close-btn"),Ho=_("#toggle-hide-rules");_("#rules-close-btn").on("click",()=>{$o.hide(),o.console.setBuiltInCVar("cv_hide_rules_button",!0),Ho.prop("checked",!0)}).toggle(o.console.getBuiltInCVar("cv_rules_acknowledged")&&!o.console.getBuiltInCVar("cv_hide_rules_button")),_("#import-settings-btn").on("click",()=>{if(!confirm("This option will overwrite all settings and reload the page. Continue?"))return;const w=()=>{alert("Invalid config.")};try{const M=prompt("Enter a config:");if(!M){w();return}const E=JSON.parse(M);if(typeof E!="object"||E===null||!("variables"in E)){w();return}localStorage.setItem("suroi_config",M),alert("Settings loaded successfully."),window.location.reload()}catch{w()}}),_("#export-settings-btn").on("click",()=>{const w=localStorage.getItem("suroi_config"),M=()=>{alert('Unable to copy settings. To export settings manually, open the dev tools with Ctrl+Shift+I (Cmd+Opt+I on Mac) and, after typing in the following, copy the result manually: localStorage.getItem("suroi_config")')};if(w===null){M();return}navigator.clipboard.writeText(w).then(()=>{alert("Settings copied to clipboard.")}).catch(M)}),_("#reset-settings-btn").on("click",()=>{confirm("This option will reset all settings and reload the page. Continue?")&&confirm("Are you sure? This action cannot be undone.")&&(localStorage.removeItem("suroi_config"),window.location.reload())});const Wo=1,Uo=se.player.inventorySlotTypings,ei=(w,M)=>{w[0].addEventListener("pointerdown",E=>{M(E.button),E.stopPropagation()})};let Bt;function ti(w,M,E,B){t.isMobile&&(Bt=window.setTimeout(()=>{w===0&&M&&(B!==void 0?t.addAction({type:$.DropWeapon,slot:B}):E!==void 0&&t.addAction({type:$.DropItem,item:E}),ka=!1,window.setTimeout(()=>{ka=!0},600))},600))}_("#weapons-container").append(...Array.from({length:se.player.maxWeapons},(w,M)=>{const E=_(`<div class="inventory-slot" id="weapon-slot-${M+1}">                        <div class="main-container">                            <span class="slot-number">${M+1}</span>                            <span class="item-ammo"></span>                            <img class="item-image" draggable="false" />                            <span class="item-name"></span>                        </div>                        <img class="lock-icon" src="./img/misc/lock.svg"></span>                    </div>`),B=Uo[M]===z.Throwable,W=E[0];return W.addEventListener("pointerup",()=>clearTimeout(Bt)),W.addEventListener("pointerdown",G=>{var me;E.hasClass("has-item")&&(G.stopImmediatePropagation(),t.addAction({type:G.button===2?$.DropWeapon:$.EquipItem,slot:M}),B&&((me=o.activePlayer)==null?void 0:me.activeItem.itemType)===z.Throwable&&G.button!==2&&t.cycleThrowable(Wo),ti(G.button,!0,void 0,M))}),E})),_("#scopes-container").append(lt.definitions.map(w=>{const M=_(`<div class="inventory-slot item-slot" id="${w.idString}-slot" style="display: none;">
                    <img class="item-image" src="./img/game/shared/loot/${w.idString}.svg" draggable="false">
                    <div class="item-tooltip">${w.name.split(" ")[0]}</div>
                </div>`);return M[0].addEventListener("pointerup",()=>clearTimeout(Bt)),ei(M,E=>{const B=E===0,W=E===2,G=o.teamMode;B&&(t.addAction({type:$.UseItem,item:w}),ti(E,G,w)),W&&G&&t.addAction({type:$.DropItem,item:w})}),M})),_("#healing-items-container").append(Ti.definitions.map(w=>{const M=_(Pe`<div class="inventory-slot item-slot active" id="${w.idString}-slot">
                    <img class="item-image" src="./img/game/shared/loot/${w.idString}.svg" draggable="false">
                    <span class="item-count" id="${w.idString}-count">0</span>
                    <div class="item-tooltip">
                        ${C("tt_restores",{item:`${C(w.idString)}<br>`,amount:w.restoreAmount.toString(),type:w.healType===_o.Adrenaline?C("adrenaline"):C("health")})}
                    </div>
                </div>`);return M[0].addEventListener("pointerup",()=>clearTimeout(Bt)),ei(M,E=>{const B=E===0,W=E===2,G=o.teamMode;B&&(t.pingWheelActive?t.addAction({type:$.Emote,emote:Ti.fromString(w.idString)}):t.addAction({type:$.UseItem,item:w}),ti(E,G,w)),W&&G&&t.addAction({type:$.DropItem,item:w})}),M}));const Go={true:_("#special-ammo-container"),false:_("#ammo-container")};for(const w of Ct){if(w.ephemeral)continue;const M=_(`<div class="inventory-slot item-slot ammo-slot active" id="${w.idString}-slot">
                <img class="item-image" src="./img/game/shared/loot/${w.idString}.svg" draggable="false">
                <span class="item-count" id="${w.idString}-count">0</span>
            </div>`);Go[`${w.hideUnlessPresent}`].append(M),M[0].addEventListener("pointerup",()=>{clearTimeout(Bt)}),ei(M,E=>{const B=E===0,W=E===2,G=o.teamMode;B&&(t.pingWheelActive&&t.addAction({type:$.Emote,emote:Ct.fromString(w.idString)}),ti(E,G,w)),W&&G&&t.addAction({type:$.DropItem,item:w})})}ei(_("#c4-detonate-btn"),w=>{w===0&&t.addAction({type:$.ExplodeC4})});for(const[w,M]of[[_("#helmet-slot"),"helmet"],[_("#vest-slot"),"vest"]])w[0].addEventListener("pointerup",()=>clearTimeout(Bt)),ei(w,E=>{var G;const B=E===2,W=o.activePlayer&&o.teamMode;if(B&&W){const me=o.activePlayer.getEquipment(M);me&&t.addAction({type:$.DropItem,item:me})}W!==void 0&&ti(E,W,(G=o.activePlayer)==null?void 0:G.getEquipment(M))});for(const w of["#perk-slot-0","#perk-slot-1","#perk-slot-2"])_(w)[0].addEventListener("pointerdown",function(M){if(M.stopImmediatePropagation(),M.button!==2)return;const E=_(this).attr("data-idString");E&&o.inputManager.addAction({type:$.DropItem,item:je.fromString(E)})});t.isMobile&&(i.spectatingContainer.addClass("mobile-mode"),i.spectatingContainer.css({width:"150px",position:"fixed",top:"10%",left:"5rem"}),i.btnReport.html('<i class="fa-solid fa-flag"></i>'),i.btnPlayAgainSpectating.html('<i class="fa-solid fa-rotate-right"></i>'),i.spectateKillLeader.html('<i class="fa-solid fa-crown"></i>'),i.spectateKillLeader.addClass("btn-spectate-kill-leader"),i.btnSpectateMenu.html('<i class="fa-solid fa-bars"></i>'),i.btnSpectateMenu.addClass("btn-success"));const No=_("#btn-spectate-options-icon");if(_("#btn-spectate-options").on("click",()=>{i.spectatingContainer.toggle(),o.inputManager.isMobile&&i.spectatingContainer.toggleClass("mobile-visible");const w=i.spectatingContainer.is(":visible");No.toggleClass("fa-eye",!w).toggleClass("fa-eye-slash",w)}),_("#tab-mobile").toggle(Ui.any),t.isMobile){i.interactMsg.on("click",()=>{t.addAction(o.uiManager.action.active?$.Cancel:$.Interact)}),i.interactKey.html('<img src="./img/misc/tap-icon.svg" alt="Tap">'),i.activeAmmo.on("click",()=>o.console.handleQuery("reload","never")),i.emoteWheel.css("top","50%").css("left","50%");const w=(M,E)=>{_(`#emote-wheel .emote-${M}`).on("click",()=>{i.emoteWheel.hide();let B=!0;if(t.pingWheelActive){const W=o.uiManager.mapPings[E];setTimeout(()=>{let G;o.map.expanded?i.game.one("click",()=>{G=t.pingWheelPosition,W&&t.pingWheelActive&&B&&(t.addAction({type:$.MapPing,ping:W,position:G}),B=!1)}):i.game.one("click",me=>{const Ae=e.create(me.clientX,me.clientY),at=o.camera.container.toLocal(Ae);G=e.scale(at,1/Q),W&&t.pingWheelActive&&B&&(t.addAction({type:$.MapPing,ping:W,position:G}),B=!1)})},100)}else{const W=o.uiManager.emotes[E];W&&t.addAction({type:$.Emote,emote:W})}})};w("top",0),w("right",1),w("bottom",2),w("left",3),_("#mobile-options").show(),i.menuButton.on("click",()=>i.gameMenu.toggle()),i.emoteButton.on("click",()=>i.emoteWheel.show()),i.pingToggle.on("click",()=>{t.pingWheelActive=!t.pingWheelActive;const{pingWheelActive:M}=t;i.pingToggle.toggleClass("btn-danger",M).toggleClass("btn-primary",!M),o.uiManager.updateEmoteWheel()})}window.addEventListener("beforeunload",w=>{i.canvas.hasClass("active")&&o.console.getBuiltInCVar("cv_leave_warning")&&!o.gameOver&&w.preventDefault()});const Ba=new Pa;function $a(w){const M=+w.value,E=+w.min,B=+w.max,W=(M-E)/(B-E)*100;Ba.getAndGetDefaultIfAbsent(w,()=>_(w)).css("--background",`linear-gradient(to right, #ff7500 0%, #ff7500 ${W}%, #f8f9fa ${W}%, #f8f9fa 100%)`).siblings(".range-input-value").text(w.id!=="slider-joystick-size"?`${Math.round(M*100)}%`:M)}_("input[type=range]").on("input",({target:w})=>{$a(w)}).each((w,M)=>{$a(M)}),_(".tab").on("click",({target:w})=>{const M=Ba.getAndGetDefaultIfAbsent(w,()=>_(w));M.addClass("active"),M.siblings().removeClass("active");const E=_(`#${w.id}-content`);E.siblings().removeClass("active"),E.siblings().hide(),E.addClass("active"),E.show()});const jo=_("#warning-btn-play-solo, #btn-play-solo");_("#warning-modal-agree-checkbox").on("click",function(){jo.toggleClass("btn-disabled",!this.checked)});const qo=_("#btn-play-solo");_("#warning-btn-play-solo").on("click",()=>{i.warningModal.hide(),qo.trigger("click")});const Zo=_("#btn-join-team");window.location.hash&&(Oe=window.location.hash.slice(1),Zo.trigger("click")),_(".btn-social").on("click",w=>{Ra&&Date.now()-Ra<1500&&w.preventDefault()})}const ss=Object.freeze({[Y.Player]:Wn,[Y.Obstacle]:Hn,[Y.DeathMarker]:Zn,[Y.Loot]:Yn,[Y.Building]:jn,[Y.Decal]:Kn,[Y.Parachute]:Jn,[Y.ThrowableProjectile]:es,[Y.SyncedParticle]:Qn}),Nt=class Nt{constructor(){c(this,"_socket");c(this,"objects",new tn);c(this,"bullets",new Set);c(this,"planes",new Set);c(this,"ambience");c(this,"spinningImages",new Map);c(this,"playerNames",new Map);c(this,"activePlayerID",-1);c(this,"teamID",-1);c(this,"teamMode",!1);c(this,"gameStarted",!1);c(this,"gameOver",!1);c(this,"spectating",!1);c(this,"error",!1);c(this,"lastPingDate",0);c(this,"disconnectReason","");c(this,"uiManager",new $i(this));c(this,"pixi",new Cr);c(this,"particleManager",new ba(this));c(this,"map",new va(this));c(this,"camera",new ya(this));c(this,"console",new ga(this));c(this,"inputManager",new di(this));c(this,"soundManager",new fa(this));c(this,"gasRender",new Hi(Q));c(this,"gas",new Sa(this));c(this,"music");c(this,"tweens",new Set);c(this,"_timeouts",new Set);c(this,"inventoryMsgTimeout");c(this,"_packetStream",new lo(new ArrayBuffer(1024)));c(this,"_lastUpdateTime",0);c(this,"_serverDt",0);c(this,"backgroundTween");c(this,"tick",(()=>{const t={};let i=!1;const s={};let n;return()=>{var b,v,P,D,O;if(!this.gameStarted||this.gameOver&&!this.spectating)return;this.inputManager.update(),this.soundManager.update();const r=this.activePlayer;if(!r)return;const l=this.uiManager.action.active,d=l&&!this.uiManager.action.fake;let m=!0;l&&this.uiManager.updateAction();const h={object:void 0,dist:Number.MAX_VALUE},p={object:void 0,dist:Number.MAX_VALUE},u=new f(3*r.sizeMod,r.position);for(const A of this.objects){const{isLoot:L,isObstacle:H,isPlayer:te,isBuilding:N}=A,ie=(L||H||te)&&A.canInteract(r);if((L||ie)&&A.hitbox.collidesWith(u)&&pt(A.layer,r.layer)){const q=dt.distanceSquared(A.position,r.position);ie?q<h.dist&&(h.dist=q,h.object=A):L&&q<p.dist&&(p.dist=q,p.object=A)}else N&&A.toggleCeiling()}const y=h.object??p.object,I=y!=null&&y.isObstacle?(b=y.door)==null?void 0:b.offset:void 0;m=h.object!==void 0;const R=this.inputManager.binds.getInputsBoundToAction(y===void 0?"cancel_action":"interact")[0],x={object:((v=t.object)==null?void 0:v.id)!==(y==null?void 0:y.id),offset:t.offset!==I,isAction:t.isAction!==l,bind:t.bind!==R,canInteract:t.canInteract!==m};if(x.bind&&(i=!1),x.object||x.offset||x.isAction||x.bind||x.canInteract){t.object=y,t.offset=I,t.isAction=l,t.bind=R,t.canInteract=m;const{interactKey:A,interactMsg:L,interactText:H}=this.uiManager.ui,te=y!=null&&y.isLoot?y.definition.itemType:void 0;if(y!==void 0||l&&d){if(x.object||x.offset||x.isAction){let N;switch(!0){case(y==null?void 0:y.isObstacle):{switch(y.definition.role){case j.Door:N=((P=y.door)==null?void 0:P.offset)===0?C("action_open_door"):C("action_close_door");break;case j.Activatable:N=C(`interact_${y.definition.idString}`);break}break}case(y==null?void 0:y.isLoot):{N=`${y.definition.idString.startsWith("dual_")?C("dual_template",{gun:C(y.definition.idString.slice(5))}):C(y.definition.idString)}${y.count>1?` (${y.count})`:""}`;break}case(y==null?void 0:y.isPlayer):{N=C("action_revive",{player:this.uiManager.getRawPlayerName(y.id)});break}case l:{N=C("action_cancel");break}}N&&H.text(N)}if(!this.inputManager.isMobile&&(!i||y===void 0&&l)){i=!0;const N=R===void 0?void 0:di.getIconFromInputName(R);N===void 0?A.text(R??""):A.html(`<img src="${N}" alt="${R}"/>`)}m||y===void 0&&l?A.addClass("active").show():A.removeClass("active").hide(),!r.downed&&(!(y!=null&&y.isObstacle)||!y.definition.isActivatable||!y.definition.noInteractMessage)&&L.show()}else L.hide();if(this.inputManager.isMobile&&m){const N=this.uiManager.inventory.weapons;this.console.getBuiltInCVar("cv_autopickup")&&(y!=null&&y.isLoot)&&ka&&((te!==z.Melee||((D=N==null?void 0:N[2])==null?void 0:D.definition.idString)==="fists")&&(te!==z.Gun||!(N!=null&&N[0])||!(N!=null&&N[1]))&&te!==z.Skin&&te!==z.Perk||te===z.Gun&&(N!=null&&N.some(ie=>{var re;const q=ie==null?void 0:ie.definition;return(q==null?void 0:q.itemType)===z.Gun&&((y==null?void 0:y.definition)===q&&!q.isDual&&q.dualVariant||((re=y.definition)==null?void 0:re.singleVariant)===q.idString)})))?this.inputManager.addAction($.Loot):y!=null&&y.isObstacle&&y.canInteract(r)&&y.definition.isDoor&&((O=y.door)==null?void 0:O.offset)===0&&this.inputManager.addAction($.Interact)}}const S=this.uiManager.ui.detonateKey;if(this.inputManager.isMobile)S.hide();else{const A=this.inputManager.binds.getInputsBoundToAction("explode_c4")[0];if(s.bind!==A)if(s.bind=R,A!==void 0){const L=di.getIconFromInputName(A);S.show(),L===void 0?(S.text(A??""),n!==void 0&&(S.empty(),n=void 0)):(n===void 0&&S.children().add(n=_(`<img src="${L}" alt=${A} />`)),n.attr("src")!==L&&n.attr("src",L))}else S.hide()}}})())}get layer(){var t;return(t=this.activePlayer)==null?void 0:t.layer}get activePlayer(){return this.objects.get(this.activePlayerID)}addTimeout(t,i){const s=new br(t,Date.now()+(i??0));return this._timeouts.add(s),s}static async init(){if(Nt._instantiated)throw new Error("Class 'Game' has already been instantiated.");Nt._instantiated=!0;const t=new Nt;t.console.readFromLocalStorage(),await Dn(t),t.inputManager.setupInputs();const i=async()=>{const s=t.console.getBuiltInCVar("cv_renderer"),n=t.console.getBuiltInCVar("cv_renderer_res");await t.pixi.init({resizeTo:window,background:We.grass,antialias:t.console.getBuiltInCVar("cv_antialias"),autoDensity:!0,preferWebGLVersion:s==="webgl1"?1:2,preference:s==="webgpu"?"webgpu":"webgl",resolution:n==="auto"?window.devicePixelRatio||1:parseFloat(n),hello:!0,canvas:document.getElementById("game-canvas"),eventFeatures:{move:!1,globalMove:!1,wheel:!1,click:!0}});const r=t.pixi;await zn(r.renderer,t.inputManager.isMobile?t.console.getBuiltInCVar("mb_high_res_textures"):t.console.getBuiltInCVar("cv_high_res_textures")),t.uiManager.ui.gameUi[0].addEventListener("pointerdown",l=>{r.canvas.dispatchEvent(new PointerEvent("pointerdown",{pointerId:l.pointerId,button:l.button,clientX:l.clientX,clientY:l.clientY,screenY:l.screenY,screenX:l.screenX}))}),r.ticker.add(t.render.bind(t)),r.stage.addChild(t.camera.container,t.map.container,t.map.mask),t.map.visible=!t.console.getBuiltInCVar("cv_minimap_minimized"),t.map.expanded=t.console.getBuiltInCVar("cv_map_expanded"),t.uiManager.ui.gameUi.toggle(t.console.getBuiltInCVar("cv_draw_hud")),r.renderer.on("resize",()=>t.resize()),t.resize(),setInterval(()=>{t.console.getBuiltInCVar("pf_show_fps")&&t.uiManager.debugReadouts.fps.text(`${Math.round(t.pixi.ticker.FPS)} fps`)},500)};return Promise.all([i(),ns(t)]).then(()=>{as(),Xe()}),sn(t),t.inputManager.generateBindsConfigScreen(),t.music=At.add("menu_music",{url:`./audio/music/menu_music${t.console.getBuiltInCVar("cv_use_old_menu_music")?"_old":ut.specialMenuMusic?`_${se.modeName}`:""}.mp3`,singleInstance:!0,preload:!0,autoPlay:!0,volume:t.console.getBuiltInCVar("cv_music_volume")}),t}resize(){this.map.resize(),this.camera.resize(!0)}connect(t){if(this.error=!1,this.gameStarted)return;this._socket=new WebSocket(t),this._socket.binaryType="arraybuffer",this._socket.onopen=()=>{this.music&&this.music.stop(),this.gameStarted=!0,this.gameOver=!1,this.spectating=!1,this.disconnectReason="";{clearTimeout(this.uiManager.gameOverScreenTimeout);const l=this.uiManager.ui;l.gameOverOverlay.hide(),l.killMsgModal.hide(),l.killMsgCounter.text("0"),l.killFeed.html(""),l.spectatingContainer.hide(),l.joystickContainer.show()}this.sendPacket(ci.create()),this.lastPingDate=Date.now();let s;const n={isMobile:this.inputManager.isMobile,name:this.console.getBuiltInCVar("cv_player_name"),skin:ge.fromStringSafe(this.console.getBuiltInCVar("cv_loadout_skin"))??ge.fromString(typeof(s=gt.cv_loadout_skin)=="object"?s.value:s),badge:xt.fromStringSafe(this.console.getBuiltInCVar("cv_loadout_badge")),emotes:ca.map(l=>Et.fromStringSafe(this.console.getBuiltInCVar(`cv_loadout_${l}_emote`)))};this.sendPacket(Io.create(n)),this.camera.addObject(this.gasRender.graphics),this.map.indicator.setFrame("player_indicator");const r=ut.particleEffects;if(r!==void 0){const l=this;this.particleManager.addEmitter({delay:1e3,active:this.console.getBuiltInCVar("cv_ambient_particles"),spawnOptions:()=>({frames:r.frames,get position(){const d=l.camera.width/Q,m=l.camera.height/Q,h=l.activePlayer;if(!h)return e.create(0,0);const{x:p,y:u}=h.position;return sa(p-d,p+d,u-m,u+m)},speed:sa(-10,10,-10,10),lifetime:K(12e3,5e4),zIndex:k.BuildingsCeiling,alpha:{start:.7,end:0},rotation:{start:K(0,36),end:K(40,80)},scale:{start:K(.8,1.1),end:K(.7,.8)}})})}},this._socket.onmessage=s=>{const n=new lo(s.data);let r=0;for(;;){++r===1e3&&console.warn("1000 iterations of packet reading; possible infinite loop");const l=n.deserializeServerPacket();if(l===void 0)break;this.onPacket(l)}};const i=this.uiManager.ui;this._socket.onerror=()=>{this.error=!0,i.splashMsgText.html(C("msg_err_joining")),i.splashMsg.show(),Xe()},this._socket.onclose=()=>{Xe();const s=this.disconnectReason||"Connection lost";this.gameOver||(this.gameStarted&&(i.splashUi.fadeIn(400),i.splashMsgText.html(this.disconnectReason||"Connection lost."),i.splashMsg.show()),this.uiManager.ui.btnSpectate.addClass("btn-disabled"),this.error||this.endGame()),s.startsWith("Invalid game version")&&(alert(s),location.search=`t=${Date.now()}`)}}onPacket(t){switch(!0){case t instanceof Ro:this.startGame(t.output);break;case t instanceof To:this.map.updateFromPacket(t.output);break;case t instanceof Eo:this.processUpdate(t.output);break;case t instanceof ko:this.uiManager.showGameOverScreen(t.output);break;case t instanceof Mo:this.uiManager.processKillFeedPacket(t.output);break;case t instanceof ci:{this.uiManager.debugReadouts.ping.text(`${Date.now()-this.lastPingDate} ms`),setTimeout(()=>{this.sendPacket(ci.create()),this.lastPingDate=Date.now()},5e3);break}case t instanceof Co:{const i=this.uiManager.ui,{output:s}=t;i.reportingName.text(s.playerName),i.reportingId.text(s.reportID),i.reportingModal.fadeIn(250);break}case t instanceof Po:{const{output:{message:i,item:s}}=t,n={[ai.NotEnoughSpace]:"msg_not_enough_space",[ai.ItemAlreadyEquipped]:"msg_item_already_equipped",[ai.BetterItemEquipped]:"msg_better_item_equipped",[ai.CannotUseRadio]:"msg_cannot_use_radio",[ai.RadioOverused]:"msg_radio_overused"};if(i!==void 0){const r=this.uiManager.ui.inventoryMsg;r.text(C(n[i])).fadeIn(250),n[i]===n[4]&&this.soundManager.play("metal_light_destroyed"),clearTimeout(this.inventoryMsgTimeout),this.inventoryMsgTimeout=window.setTimeout(()=>r.fadeOut(250),2500)}else if(s!==void 0){let r;switch(s.itemType){case z.Ammo:r="ammo_pickup";break;case z.Healing:r=`${s.idString}_pickup`;break;case z.Scope:r="scope_pickup";break;case z.Armor:s.armorType===Ci.Helmet?r="helmet_pickup":r="vest_pickup";break;case z.Backpack:r="backpack_pickup";break;case z.Throwable:r="throwable_pickup";break;case z.Perk:r="pickup";break;default:r="pickup";break}this.soundManager.play(r)}break}case t instanceof xo:this.disconnectReason=t.output.reason;break}}startGame(t){document.hasFocus()||this.soundManager.play("join_notification"),ut.ambience&&(this.ambience=this.soundManager.play(ut.ambience,{loop:!0,ambient:!0})),this.uiManager.emotes=t.emotes,this.uiManager.updateEmoteWheel();const i=this.uiManager.ui;(this.teamMode=t.maxTeamSize!==St.Solo)&&(this.teamID=t.teamID),i.canvas.addClass("active"),i.splashUi.fadeOut(400,Xe),i.killLeaderLeader.html(C("msg_waiting_for_leader")),i.killLeaderCount.text("0"),i.spectateKillLeader.addClass("btn-disabled"),i.teamContainer.toggle(this.teamMode)}async endGame(){const t=this.uiManager.ui;return await new Promise(i=>{t.splashOptions.addClass("loading"),this.soundManager.stopAll(),t.splashUi.fadeIn(400,()=>{var n;this.music&&this.music.play(),t.teamContainer.html(""),t.actionContainer.hide(),t.gameMenu.hide(),t.gameOverOverlay.hide(),t.canvas.removeClass("active"),t.killLeaderLeader.text(C("msg_waiting_for_leader")),t.killLeaderCount.text("0"),this.gameStarted=!1,(n=this._socket)==null||n.close();for(const r of this.objects)r.destroy();for(const r of this.planes)r.destroy();this.objects.clear(),this.bullets.clear(),this.planes.clear(),this.camera.container.removeChildren(),this.particleManager.clear(),this.uiManager.clearTeammateCache();const s=this.map;s.safeZone.clear(),s.pingGraphics.clear(),s.pings.clear(),s.pingsContainer.removeChildren(),s.teammateIndicators.clear(),s.teammateIndicatorContainer.removeChildren(),this.playerNames.clear(),this._timeouts.clear(),this.camera.zoom=lt.definitions[0].zoomLevel,os(),Xe(),Me?t.createTeamMenu.fadeIn(250,i):i()})})}sendPacket(t){this._packetStream.stream.index=0,this._packetStream.serializeClientPacket(t),this.sendData(this._packetStream.getBuffer())}sendData(t){var i;if(((i=this._socket)==null?void 0:i.readyState)===WebSocket.OPEN)try{this._socket.send(t)}catch(s){console.warn("Error sending packet. Details:",s)}}render(){if(!this.gameStarted)return;const t=this.pixi.ticker.deltaMS,i=Date.now();for(const n of this._timeouts){if(n.killed){this._timeouts.delete(n);continue}i>n.end&&(n.callback(),this._timeouts.delete(n))}let s;if(this.console.getBuiltInCVar("cv_movement_smoothing")){for(const n of s=this.objects.getCategory(Y.Player))n.updateContainerPosition(),(!n.isActivePlayer||!this.console.getBuiltInCVar("cv_responsive_rotation")||this.spectating)&&n.updateContainerRotation();this.activePlayer&&(this.camera.position=this.activePlayer.container.position);for(const n of this.objects.getCategory(Y.Loot))n.updateContainerPosition();for(const n of this.objects.getCategory(Y.ThrowableProjectile))n.updateContainerPosition(),n.updateContainerRotation();for(const n of this.objects.getCategory(Y.SyncedParticle))n.updateContainerPosition(),n.updateContainerRotation(),n.updateContainerScale()}for(const n of s??this.objects.getCategory(Y.Player))n.updateGrenadePreview();for(const[n,r]of this.spinningImages.entries())n.rotation+=r*t;for(const n of this.tweens)n.update();for(const n of this.bullets)n.update(t);this.particleManager.update(t),this.map.update(),this.gasRender.update(this.gas);for(const n of this.planes)n.update();this.camera.update()}get lastUpdateTime(){return this._lastUpdateTime}get serverDt(){return this._serverDt}processUpdate(t){const i=Date.now();this._serverDt=i-this._lastUpdateTime,this._lastUpdateTime=i;for(const{id:n,name:r,hasColor:l,nameColor:d,badge:m}of t.newPlayers??[])this.playerNames.set(n,{name:r,hasColor:l,nameColor:new vt(d),badge:m});const s=t.playerData;s&&(this.uiManager.updateUI(s),this.uiManager.updateWeaponSlots());for(const n of t.deletedPlayers??[])this.playerNames.delete(n);for(const{id:n,type:r,data:l}of t.fullDirtyObjects??[]){const d=this.objects.get(n);if(d===void 0||d.destroyed){const m=new ss[r](this,n,l);this.objects.add(m),m.layer!==(this.layer??be.Ground)&&(m.container.alpha=0,m.isBuilding&&(m.ceilingVisible=!1,m.ceilingContainer.alpha=0,m.toggleCeiling(oi)),this.addTween({target:m.container,to:{alpha:1},duration:oi,ease:he.sineIn}))}else d.updateFromData(l,!1)}for(const{id:n,data:r}of t.partialDirtyObjects??[]){const l=this.objects.get(n);if(l===void 0){console.warn(`Trying to partially update non-existant object with ID ${n}`);continue}l.updateFromData(r,!1)}for(const n of t.deletedObjects??[]){const r=this.objects.get(n);if(r===void 0){console.warn(`Trying to delete unknown object with ID ${n}`);continue}r.layer!==(this.layer??be.Ground)?(r.container.alpha=1,r.isBuilding&&r.ceilingVisible&&(r.ceilingContainer.alpha=1,this.addTween({target:r.ceilingContainer,to:{alpha:0},duration:oi,ease:he.sineOut})),this.addTween({target:r.container,to:{alpha:0},duration:oi,ease:he.sineOut,onComplete:()=>{r.destroy(),this.objects.delete(r)}})):(r.destroy(),this.objects.delete(r))}for(const n of t.deserializedBullets??[])this.bullets.add(new qn(this,n));for(const n of t.explosions??[])Xn(this,n.definition,n.position,n.layer);for(const n of t.emotes??[]){if(this.console.getBuiltInCVar("cv_hide_emotes"))break;const r=this.objects.get(n.playerID);if(r!=null&&r.isPlayer)r.showEmote(n.definition);else{console.warn(`Tried to emote on behalf of ${r===void 0?"a non-existant player":`a/an ${Y[r.type]}`}`);continue}}if(this.gas.updateFrom(t),t.aliveCount!==void 0){const n=this.uiManager.ui;n.playerAlive.text(t.aliveCount),n.btnSpectate.toggle(t.aliveCount>1)}for(const n of t.planes??[])this.planes.add(new wa(this,n.position,n.direction));for(const n of t.mapPings??[])this.map.addMapPing(n);this.tick()}addTween(t){const i=new Fn(this,t);return this.tweens.add(i),i}removeTween(t){this.tweens.delete(t)}changeLayer(t){var m,h;for(const p of this.objects)p.updateZIndex();const i=t===be.Basement1;this.map.terrainGraphics.visible=!i;const{red:s,green:n,blue:r}=this.pixi.renderer.background.color,l={r:s*255,g:n*255,b:r*255},d=i?We.void:We.grass;(m=this.backgroundTween)==null||m.kill(),this.backgroundTween=this.addTween({target:l,to:{r:d.red*255,g:d.green*255,b:d.blue*255},onUpdate:()=>{this.pixi.renderer.background.color=new vt(l)},duration:oi}),(h=this.ambience)==null||h.setPaused(t<be.Ground)}};c(Nt,"_instantiated",!1);let Ia=Nt;(async()=>Ia.init())();
